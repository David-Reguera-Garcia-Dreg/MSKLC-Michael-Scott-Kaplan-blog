<html>
<!-- Mirrored from archives.miloush.net/michkap/archive/2008/03/19/8321717.html by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 25 May 2017 00:42:36 GMT -->
<head><meta charset="utf-8" /><meta name="viewport" content="width=device-width" /><title>Before you say "What's next?" you have to figure out the action items</title></head><body>
<h1>Before you say "What's next?" you have to figure out the action items</h1>
<p><em>by Michael S. Kaplan, published on 2008/03/19 03:01 -04:00, original URI: http://blogs.msdn.com/b/michkap/archive/2008/03/19/8321717.aspx</em></p>
<hr/> <!-- Archival Source: ProcessPostNew -->
<P><EM><FONT color=#ff0000 size=1>Please read the </FONT></EM><A class="" href="http://archives.miloush.net/michkap/archive/2008/02/28/7934999.html" mce_href="http://archives.miloush.net/michkap/archive/2008/02/28/7934999.html"><EM><FONT size=1>disclaimer</FONT></EM></A><FONT color=#ff0000><EM><FONT size=1>; content of </FONT></EM><A class="" href="http://blogs.msdn.com/michkap" mce_href="http://blogs.msdn.com/michkap"><EM><FONT size=1>Michael Kaplan's blog</FONT></EM></A><EM><FONT size=1> not approved by Microsoft! </FONT></EM></FONT><EM><FONT color=#ff0000 size=1>In particular, this blog discusses what I think people ought to be doing next in their jobs despite the fact that I&nbsp;have neither&nbsp;authority nor responsibility to make such assessments across (at least) two business units of Microsoft. Therefore, my opinions should always be weighed with that in mind and thus taken with a huge hairy grain of salt </FONT></EM><EM><FONT color=#ff0000 size=1>-- because even if you agree with me, Microsoft might disagree with both us....</FONT></EM></P>
<P>So yesterday, when I blogged <A class="" href="http://archives.miloush.net/michkap/archive/2008/03/18/8306597.html" mce_href="http://archives.miloush.net/michkap/archive/2008/03/18/8306597.html"><STRONG>Conventional wisdom is retarded, aka What the @#%&amp;* is _O_U16TEXT?</STRONG></A>, I didn't talk much about what should come next.</P>
<P>By which I mean what should happen now, and how should the collection of mis-statements about what "<STRONG>everyone knows here</STRONG>" should be handled.</P>
<P>The first thing that ought to happen is that the folks in the same business unit as the C Runtime, who are actually linking against versions that have this new and exciting functionality ought to fix problems like the one I noted in <A class="" href="http://archives.miloush.net/michkap/archive/2007/04/24/2255195.html" mce_href="http://archives.miloush.net/michkap/archive/2007/04/24/2255195.html"><STRONG>Sometimes, the shortcuts give better AND faster results</STRONG></A>.</P>
<P>It is all well and good to want to avoid hacks, but avoiding core architectures designed to support the scenario sounds like a bad idea. They should update their code to properly handle both the UTF-8 and the UTF-16 case....</P>
<P>Of course the documentation is mostly there for the CRT, but there is a lot of other documentation surrounding best practices in the console that probably ought to be updated.</P>
<P>Now Windows is not in exactly the same boat since they use their own private copy of the CRT names msvcrt.dll in the system32 directory.</P>
<P>This DLL is not the one that shipped in VS 6.0; it is a special version of that file that has picked up much in the way of functionality, features, and bug fixes from the newer versions-- basically anything needed by Windows components.</P>
<P>It isn't documented, but the support is there and so people should probably consider using it in their console applications that care about this type of encoding issue.</P>
<P>And anyone forced to use code like what I put in <A class="" href="http://archives.miloush.net/michkap/archive/2008/03/18/8306597.html" mce_href="http://archives.miloush.net/michkap/archive/2008/03/18/8306597.html"><STRONG>Conventional wisdom is retarded, aka What the @#%&amp;* is _O_U16TEXT?</STRONG></A>&nbsp;should really update their code -- this applies to Windows binaries, tests of Windows, and components used to build Windows.</P>
<P>Because as I mentioned yesterday, almost no one is getting this right -- literally no one for _O_U16TEXT and a total of one or two multimedia components for _O_U8TEXT, neither of which write to the console.</P>
<P>The other day someone asked me why I liked meeting with people in other teams and discussing issues. I have to admit that one of the reasons is finding out about things like this that prove our older conception of "<STRONG>best practices</STRONG>" was quite flawed,l and how to improve it in our newer versions!</P>
<P>Maybe <A class="" href="http://nuwen.net/stl.html" mce_href="http://nuwen.net/stl.html">STL</A>&nbsp;(or someone from his team) can take on the task of talking to the managed folks using the CRT. For the Windows side, I'm actually on one of the teams tasked with communicating best practices so the OS piece of this has already found the right place to be....</P>
<P>I also have to follow up with some folks about how the console does not have font linking. You see, the console is using Lucida Console, which has no font linking -- and thus by default we do not see the right behavior here when we probably ought to for that Japanese text I put in the sample code.</P>
<P mce_keep="true">&nbsp;</P>
<P><FONT color=#ff00ff><EM>This blog brought to you by</EM><FONT size=5> ê€œ </FONT><EM>(<A class="" href="http://www.fileformat.info/info/unicode/char/a01c" mce_href="http://www.fileformat.info/info/unicode/char/a01c">U+a01c</A>, aka YI SYLLABLE BIE)</EM></FONT></P>
<hr/><div style="margin-left: 1em"><em>no comments</em></div><hr/><p><em>referenced by</em></p><div style="margin-left: 1em"><p>2009/08/14 <a href="http://archives.miloush.net/michkap/archive/2009/08/14/9869928.html">Header files are not retarded, aka What the @#%&* is _O_WTEXT?</a></p></div><p><em>go to <a id="newer" href="http://archives.miloush.net/michkap/archive/2008/03/19/8323216.html" title="The forensic typographers found no link to Lucida Console, and the D.A. had nothing to fallback to">newer</a> or <a id="older" href="http://archives.miloush.net/michkap/archive/2008/03/18/8306597.html" title="Conventional wisdom is retarded, aka What the @#%&amp;* is _O_U16TEXT?">older</a> post, or back to <a href="http://archives.miloush.net/michkap/archive/index.html">index</a> or <a href="http://archives.miloush.net/michkap/archive/index.html#2008-03">month</a> or <a href="http://archives.miloush.net/michkap/archive/index.html#2008-03-19">day</a></em></p></body>
<!-- Mirrored from archives.miloush.net/michkap/archive/2008/03/19/8321717.html by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 25 May 2017 00:42:36 GMT -->
</html>