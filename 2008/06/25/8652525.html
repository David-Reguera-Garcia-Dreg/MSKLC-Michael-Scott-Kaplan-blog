<html>
<!-- Mirrored from archives.miloush.net/michkap/archive/2008/06/25/8652525.html by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 25 May 2017 00:42:36 GMT -->
<head><meta charset="utf-8" /><meta name="viewport" content="width=device-width" /><title>Seeing the tears, my heart went out to her as I asked her "Why the Long S?"</title></head><body>
<h1>Seeing the tears, my heart went out to her as I asked her "Why the Long S?"</h1>
<p><em>by Michael S. Kaplan, published on 2008/06/25 13:16 -04:00, original URI: http://blogs.msdn.com/b/michkap/archive/2008/06/25/8652525.aspx</em></p>
<hr/> <!-- Archival Source: ProcessPostNew -->
<P>Over the last few years, quite a few of my blogs have mentioned the LCMAP_LINGUISTIC_CASING flag for LCMapString:</P>
<UL>
<LI>December 2004: <A class="" href="http://archives.miloush.net/michkap/archive/2004/12/03/274288.html" mce_href="http://archives.miloush.net/michkap/archive/2004/12/03/274288.html"><STRONG>The [Upper]Case of the Turkish İ (or: Casing, the 2nd)</STRONG></A></LI>
<LI>December 2004: <A class="" href="http://archives.miloush.net/michkap/archive/2004/12/11/279942.html" mce_href="http://archives.miloush.net/michkap/archive/2004/12/11/279942.html"><STRONG>What does "linguistic casing" mean?</STRONG></A></LI>
<LI>April 2005: <A class="" href="http://archives.miloush.net/michkap/archive/2005/04/04/405174.html" mce_href="http://archives.miloush.net/michkap/archive/2005/04/04/405174.html"><STRONG>When casing does not need to roundtrip in .NET</STRONG></A></LI>
<LI>May 2005: <A class="" href="http://archives.miloush.net/michkap/archive/2005/05/26/421987.html" mce_href="http://archives.miloush.net/michkap/archive/2005/05/26/421987.html"><STRONG>The last word on the FINAL SIGMA</STRONG></A></LI>
<LI>June 2005: <A class="" href="http://archives.miloush.net/michkap/archive/2005/06/24/432121.html" mce_href="http://archives.miloush.net/michkap/archive/2005/06/24/432121.html"><STRONG>LCMapString's *other* job</STRONG></A></LI>
<LI>August 2005: <A class="" href="http://archives.miloush.net/michkap/archive/2005/08/02/446522.html" mce_href="http://archives.miloush.net/michkap/archive/2005/08/02/446522.html"><STRONG>New in Vista Beta 1: more use of the word 'linguistic'</STRONG></A></LI>
<LI>October 2005: <A class="" href="http://archives.miloush.net/michkap/archive/2005/10/17/481600.html" mce_href="http://archives.miloush.net/michkap/archive/2005/10/17/481600.html"><STRONG>Comparing Unicode file names the right way</STRONG></A></LI>
<LI>October 2005: <A class="" href="http://archives.miloush.net/michkap/archive/2005/10/18/482088.html" mce_href="http://archives.miloush.net/michkap/archive/2005/10/18/482088.html"><STRONG>How best to alter case</STRONG></A></LI>
<LI>March 2007: <A class="" href="http://archives.miloush.net/michkap/archive/2007/03/06/1812744.html" mce_href="http://archives.miloush.net/michkap/archive/2007/03/06/1812744.html"><STRONG>The T's are crossed, but not all of the I's are dotted...</STRONG></A></LI>
<LI>May 2008: <A class="" href="http://archives.miloush.net/michkap/archive/2008/05/12/8486796.html" mce_href="http://archives.miloush.net/michkap/archive/2008/05/12/8486796.html"><STRONG>İn tıtlıng thıs ınclusıon ın re: the ınterests of Turkısh İSVs, am İ just tryıng to buıld İ's and ı's ınto the tıtle of thıs daıly contrıbutıon to SİAO (SıaO), amıgo?</STRONG></A></LI></UL>
<P>There are indeed others too -- these are just the ones I remembered off the top of my head.</P>
<P>Of these, the most important two, in my opinion, are <A class="" href="http://archives.miloush.net/michkap/archive/2004/12/11/279942.html" mce_href="http://archives.miloush.net/michkap/archive/2004/12/11/279942.html"><STRONG>What does "linguistic casing" mean?</STRONG></A>&nbsp;(which explains what the flag does, conceptually) and <A class="" href="http://archives.miloush.net/michkap/archive/2008/05/12/8486796.html" mce_href="http://archives.miloush.net/michkap/archive/2008/05/12/8486796.html"><STRONG>İn tıtlıng thıs ınclusıon ın re: the ınterests of Turkısh İSVs, am İ just tryıng to buıld İ's and ı's ınto the tıtle of thıs daıly contrıbutıon to SİAO (SıaO), amıgo?</STRONG></A>&nbsp;(which gives the actual one-way mappings that the flag adds to the casing table.</P>
<P>These one way mappings really tend to be kept out of the default casing table, except for the Greek final sigma (for reasons I explain in <A class="" href="http://archives.miloush.net/michkap/archive/2005/05/26/421987.html" mce_href="http://archives.miloush.net/michkap/archive/2005/05/26/421987.html"><STRONG>The last word on the FINAL SIGMA</STRONG></A>), and there are really good reasons for thus -- because of the destructive way that people use casing.</P>
<P>Not just the destructive things that people within Microsoft use it, e.g.&nbsp;<A class="" href="http://archives.miloush.net/michkap/archive/2007/04/26/2286153.html" mce_href="http://archives.miloush.net/michkap/archive/2007/04/26/2286153.html"><STRONG>No Regex in the Unicode room!</STRONG></A> and <A class="" href="http://archives.miloush.net/michkap/archive/2007/04/26/2290760.html" mce_href="http://archives.miloush.net/michkap/archive/2007/04/26/2290760.html"><STRONG>'The 44' (*not* 'The 4400')</STRONG></A>, but even outside of Microsoft. </P>
<P>For some reason people feel it makes sense to do case insensitive comparisons by changing the case and then comparing.</P>
<P>Even though this is slower and even though it is destructive to the original string, people like to do this anyway.</P>
<P>Of course in managed&nbsp;code, the distinction between passing LCMAP_LINGUISTIC_CASING&nbsp;and not passing it does not exist, unless you use the invariant casing support like I mentioned in <A class="" href="http://archives.miloush.net/michkap/archive/2005/10/17/481600.html" mce_href="http://archives.miloush.net/michkap/archive/2005/10/17/481600.html"><STRONG>Comparing Unicode file names the right way</STRONG></A>.</P>
<P>Which is not to say that all is nirvanas now. There are a few bugs still, and there are some entries missing. For example:</P>
<UL>
<LI>The new Unicode 5.1 characters that weren't in the standard when Vista/Server 2008 shipped aren't there;</LI>
<LI>A few pairs are reversed (discussed in <A class="" href="http://archives.miloush.net/michkap/archive/2007/08/21/4489089.html" mce_href="http://archives.miloush.net/michkap/archive/2007/08/21/4489089.html"><STRONG>In Case there is a bug....</STRONG></A>);</LI>
<LI>Some one-way mappings were not added to the LCMAP_LINGUISTIC_CASING&nbsp;tables, like <A class="" href="http://www.fileformat.info/info/unicode/char/017f" mce_href="http://www.fileformat.info/info/unicode/char/017f">U+017f</A> --&gt; <A class="" href="http://www.fileformat.info/info/unicode/char/0053" mce_href="http://www.fileformat.info/info/unicode/char/0053">U+0053</A> and <A class="" href="http://www.fileformat.info/info/unicode/char/00b5" mce_href="http://www.fileformat.info/info/unicode/char/00b5">U+00b5</A> --&gt; <A class="" href="http://www.fileformat.info/info/unicode/char/039c" mce_href="http://www.fileformat.info/info/unicode/char/039c">U+039c</A>&nbsp;(these and several other entries were added back in early 2005 but were taken out in late 2005 due to several bizarre&nbsp;issues that people were hitting).</LI></UL>
<P>The upside is that even though people might for example expect <STRONG>ſ</STRONG> (<A class="" href="http://www.fileformat.info/info/unicode/char/017f" mce_href="http://www.fileformat.info/info/unicode/char/017f">U+017f</A>, aka LATIN SMALL LETTER LONG S) to become <STRONG>S</STRONG> (<A class="" href="http://www.fileformat.info/info/unicode/char/0053" mce_href="http://www.fileformat.info/info/unicode/char/0053">U+0053</A>, a.k.a. LATIN CAPITAL LETTER S) in an uppercasing operation, they won't on Windows or .NET. Not just in the default table (which no one would really want, even if they think they would), but also not in the LCMAP_LINGUISTIC_CASING&nbsp;tables, where having it might have been nice.</P>
<P>This even pops up in bizarre places, like Word's uppercasing conversion or&nbsp;HTML/CSS text transformations support.</P>
<P>Though of course many of them suffer from the same issue inherent in not passing LCMAP_LINGUISTIC_CASING -- which is that even if the mappings existed, they wouldn't have been seen anyway!</P>
<P>When I think about it all, Microsoft did something really awful to the word "linguistic" with the LCMAP_LINGUISTIC_CASING flag, in doing (and not doing) so many decidedly non-linguistic things....</P>
<P mce_keep="true">&nbsp;</P>
<P><FONT color=#ff00ff><EM>This blog brought to you by</EM><FONT size=7> ſ </FONT><EM>(</EM></FONT><EM><FONT color=#ff00ff><A class="" href="http://www.fileformat.info/info/unicode/char/017f" mce_href="http://www.fileformat.info/info/unicode/char/017f">U+017f</A></FONT></EM><EM><FONT color=#ff00ff>, aka LATIN SMALL LETTER LONG S)</FONT></EM></P>
<hr/><div style="margin-left: 1em"><em>no comments</em></div><hr/><p><em>go to <a id="newer" href="http://archives.miloush.net/michkap/archive/2008/06/26/8654732.html" title="Using one Unicode input method at a time (Using the Unicode IME on XP)">newer</a> or <a id="older" href="http://archives.miloush.net/michkap/archive/2008/06/25/8650800.html" title="So logical that even Mr. Spock (and my fiancée?) would approve">older</a> post, or back to <a href="http://archives.miloush.net/michkap/archive/index.html">index</a> or <a href="http://archives.miloush.net/michkap/archive/index.html#2008-06">month</a> or <a href="http://archives.miloush.net/michkap/archive/index.html#2008-06-25">day</a></em></p></body>
<!-- Mirrored from archives.miloush.net/michkap/archive/2008/06/25/8652525.html by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 25 May 2017 00:42:36 GMT -->
</html>