<html>
<!-- Mirrored from archives.miloush.net/michkap/archive/2008/06/11/8590956.html by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 25 May 2017 00:42:36 GMT -->
<head><meta charset="utf-8" /><meta name="viewport" content="width=device-width" /><title>You almost want a cease-and-desist order put out about the docs</title></head><body>
<h1>You almost want a cease-and-desist order put out about the docs</h1>
<p><em>by Michael S. Kaplan, published on 2008/06/11 03:01 -04:00, original URI: http://blogs.msdn.com/b/michkap/archive/2008/06/11/8590956.aspx</em></p>
<hr/> <!-- Archival Source: ProcessPostNew -->
<P>Regular readers may well remember previous blog posts like <A class="" href="http://archives.miloush.net/michkap/archive/2005/12/27/507404.html" mce_href="http://archives.miloush.net/michkap/archive/2005/12/27/507404.html"><STRONG>Administrator vs. Administrateur, et. al.</STRONG></A> and <A class="" href="http://archives.miloush.net/michkap/archive/2006/12/01/1183198.html" mce_href="http://archives.miloush.net/michkap/archive/2006/12/01/1183198.html"><STRONG>What's in a name? (once more)</STRONG></A>.</P>
<P>It would seem that one cannot even find a week going by without someone looking at documentation topics like <A class="" href="http://msdn.microsoft.com/library/ms143504.aspx" mce_href="http://msdn.microsoft.com/library/ms143504.aspx">Setting Up Windows Service Accounts</A> (and in particular its section entitled <A class="" href="http://msdn.microsoft.com/library/ms143504.aspx#Localized_service_names" mce_href="http://msdn.microsoft.com/library/ms143504.aspx#Localized_service_names">Localized Service Names</A>) which are so completely misleading on this topic, saying things like</P>
<BLOCKQUOTE>
<P><FONT face="times new roman,times"><EM>The following table shows service names used by localized version of Microsoft Windows.</EM></FONT></P></BLOCKQUOTE>
<P>Totally ignoring all of the issues I mentioned in <A class="" href="http://archives.miloush.net/michkap/archive/2006/12/01/1183198.html#1197885" mce_href="http://archives.miloush.net/michkap/archive/2006/12/01/1183198.html#1197885">this comment</A>:</P>
<BLOCKQUOTE>
<P><FONT face="times new roman,times">Well, the Books Online article is telling the truth about the fact that some of these service names are localized, and you cannot use MUI to test out whether this is the case, since they are not localized in the MUI version when it is installed atop English as </FONT><A class="" href="http://archives.miloush.net/michkap/archive/2005/12/27/507404.html"><STRONG><FONT face="times new roman,times">this post</FONT></STRONG></A><FONT face="times new roman,times"> indicates.<BR><BR>But perhaps in the localized versions where this is an issue either (1) the code is smart enough to accept both names, or (2) the localized names are just for display within the UI but would never be used in code, or (3) the CreateService et. al. docs are wrong.<BR><BR>And then mix with this the fact that (4) in Vista every version of Windows is in its on way an MUI version which may change the lay of the land here entirely....<BR><BR>Then, consider the fact that (5) the results may be different across different versions.<BR><BR>Finally, (6) the rename issue may still be an issue here.<BR><BR>Given all of these issues, it seems until the whole issue is clarified that one should either:<BR><BR>&nbsp;&nbsp;&nbsp; a) be willing to test all of these scenarios in localized versions of NT4, Win2000, Winxp, and Vista, or<BR>&nbsp;&nbsp;&nbsp; b) one should use the SIDs for self-defensive purposes.<BR><BR>But I agree that the docs are very unclear about this issue and should be clarified to avoid the confusion. I will stand by my advice as the guaranteed way to avoid problems in light of unclear documentation, but I much prefer to push things as pure best practices rather than scare tactics/fear of the unknown....</FONT></P></BLOCKQUOTE>
<P>I wonder whether we can get that topic changed eventually to dig in a little but deeper given the real usability, accuracy, and security concerns it does not help with in this section on localized account names?</P>
<P mce_keep="true">&nbsp;</P>
<P><FONT color=#ff0080><EM>This post brought to you by</EM><FONT size=5>&nbsp;–ê </FONT></FONT><EM><FONT color=#ff0080>(</FONT><A href="http://www.fileformat.info/info/unicode/char/0410">U+0410</A><FONT color=#ff0080>, CYRILLIC CAPITAL LETTER A)</FONT></EM></P>
<hr/><p><a id="8591338" href="#8591338">#</a> <strong>Mike Dimmick</strong> on 11 Jun 2008 9:33 AM:</p><div style="margin-left: 1em"><p>It's probably OK in the context of 'what do I enter in this box', because the user will have to enter the localized name for it to be translated back to its SID. (Windows Installer certainly requires user accounts for created services to be given by name rather than by SID, which begs the question of whether it requires the localized or language-neutral name.) CreateWellKnownSid is a relatively new API and I think before it existed you had to use AllocateAndInitializeSid. I'd think Windows Installer just uses LookupAccountSid, but that means you have to provide the correct localized name.</p>
<p>My recollection of WiX is that some of the custom actions translate names into their SIDs and the language-neutral (i.e. English!) names are directly translated, with LookupAccountSid being used for anything not recognized. (WiX supports extended permission sets through custom actions where the the native Windows Installer functionality is weak.)</p></div>
<p><a id="8591408" href="#8591408">#</a> <strong>Michael S. Kaplan</strong> on 11 Jun 2008 10:33 AM:</p><div style="margin-left: 1em"><p>All &nbsp;very true -- and I am not against the name table being around -- it is more to do with all of the things that aren't there, which lead to problems in expectation.</p>
<p>There are also functionality problems -- why not allow SIDs there in the dialog and/or include a lot of the names that are used on a particular machine -- like do the lookups and put them in a list? Both of THOSE solutions allow people to work within the problem space *without* misleading them, or forcing bad documentation....</p>
</div>
<hr/><p><em>referenced by</em></p><div style="margin-left: 1em"><p>2008/06/12 <a href="http://archives.miloush.net/michkap/archive/2008/06/12/8592551.html">The SID, and the name, and the SID</a></p></div><p><em>go to <a id="newer" href="http://archives.miloush.net/michkap/archive/2008/06/12/8592551.html" title="The SID, and the name, and the SID">newer</a> or <a id="older" href="http://archives.miloush.net/michkap/archive/2008/06/11/8590844.html" title="MATTER SIZES, aka Knowing when to unflip a[n inappropriately flipped] bozo bit">older</a> post, or back to <a href="http://archives.miloush.net/michkap/archive/index.html">index</a> or <a href="http://archives.miloush.net/michkap/archive/index.html#2008-06">month</a> or <a href="http://archives.miloush.net/michkap/archive/index.html#2008-06-11">day</a></em></p></body>
<!-- Mirrored from archives.miloush.net/michkap/archive/2008/06/11/8590956.html by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 25 May 2017 00:42:36 GMT -->
</html>