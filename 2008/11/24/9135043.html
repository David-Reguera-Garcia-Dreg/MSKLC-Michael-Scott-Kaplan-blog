<html>
<!-- Mirrored from archives.miloush.net/michkap/archive/2008/11/24/9135043.html by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 25 May 2017 00:42:35 GMT -->
<head><meta charset="utf-8" /><meta name="viewport" content="width=device-width" /><title>From I SCOOT to IBOT, #5 of ?? (sometimes it is phase 3 that is ????)</title></head><body>
<h1>From I SCOOT to IBOT, #5 of ?? (sometimes it is phase 3 that is ????)</h1>
<p><em>by Michael S. Kaplan, published on 2008/11/24 03:01 -05:00, original URI: http://blogs.msdn.com/b/michkap/archive/2008/11/24/9135043.aspx</em></p>
<hr/> <!-- Archival Source: ProcessPostNew -->
<p><font color="#ff0000"><i>Warning: although slightly technical, this blog is mostly non-technical, and/or technical about stuff related to the iBOT. If the technical issues related to SQL Server and/or PASS interest you then they will probably show up in future blogs</i>...</font><br></p>
<p><i>Prior blogs in the series <b><a href="http://archives.miloush.net/michkap/archive/2008/10/28/9019609.html" mce_href="http://archives.miloush.net/michkap/archive/2008/10/28/9019609.html">here</a></b> 
and <b><a href="http://archives.miloush.net/michkap/archive/2008/10/30/9024525.html" mce_href="http://archives.miloush.net/michkap/archive/2008/10/30/9024525.html">here</a></b> 
and <b><a href="http://archives.miloush.net/michkap/archive/2008/11/02/9028897.html" mce_href="http://archives.miloush.net/michkap/archive/2008/11/02/9028897.html">here</a></b> and <b><a href="http://archives.miloush.net/michkap/archive/2008/11/10/9056619.html" mce_href="http://archives.miloush.net/michkap/archive/2008/11/10/9056619.html">here</a></b>.</i></p>
<p>It's kind of funny.</p>
<p>I just spent last week at SQLPASS 2008, and had a really great time. I was there as an "Expert" in the ATE (Ask the Expert) area, and I talked officially about migration, though I got a bunch of upgrade questions since customers don't tend to distinguish that much between migration (moving from any non-SQL Server database to SQL Server) and upgrade (moving from an earlier version of SQL Server to a later one).</p>
<p>Plus I got many questions about Unicode (especially both UTF-16 and UTF-8), collation support in 2000/2005/2008, and also rich text support in SQL Server reporting services (drawing some on my typography knowledge, and my work with the RS team). It was really a lot of great conversations with customers and colleagues and partners and friends.</p>
<p>Did I mention that I had a great time? Well, I'll say it again. I had a great time. <br></p>
<p>And not just because I got to see friends and colleagues from years prior and find out what they are up to like Debra Dove (now a Group Program Manager!) and Tom Casey (now a General Manager!) and a whole bunch of others too numerous to mention, not to mention all the people I met in SQL Server marketing. I mean that was very cool, but that wasn't it.</p>
<p>And not just because in my heart of hearts I'm still a databases person, just like I was way back almost in the beginning for me when Ashton-Tate's DBase II would spit out the "30 days hath September" rhyme when you gave it an out-of-range date (the first software "Easter Egg" I ever remember finding, running on an Osborne 1!). That was cool too, but that wasn't it.<br></p>
<p>And also not just because the evening parties and after-parties are superior to any other conference I've been to, though they are (it just seems like SQL folks <b>work hard</b> and know when to <b>play harder</b>, and especially when to not talk about work). This is one of the many reasons I have not been blogging; to be honest I wasn't even sleeping much last week. Every developer should go to a few database conferences like SQLPASS. :-)</p>
<p>The cool part I am referring to isn't that, either.<br></p>
<p>As you can guess from the blog title, it was really because this was my first technical conference with the iBOT.</p>
<p>I won't say that I was nervous, exactly. Though I admit I took the charger since I did not want to be stuck in Seattle with no way to get home!</p>
<p>As one of the "Elite 300" ATE folks, I had $25,000 in SQL Bucks to give away to people who asked me questions. But I realized early on that iBOT questions couldn't count -- if they did I would have required a bailout from the program organizers since I'd otherwise be broke within half a day! <br></p>
<p>To be fair there were a lot of people I talked to about SQL Server issues, too (as I mentioned before). </p>
<p>But even some of <i>those</i> conversations started with a few iBOT questions -- people were just <b>interested</b> and <b>curious</b>....</p>
<p>There was even one conversation with some of the WIT (Women in Technology) volunteers about the predictable way that iBOT questions tended to split on gender lines even when they were kind of the same question (e.g. "how does that chair stay upright?" from men versus "how do you keep from falling out?" from women).<br></p>
<p>I was even prepared now, armed with the answer to the ultimate question, the one John McConnell (yes, the one who talked about <b><a href="http://archives.miloush.net/michkap/archive/2006/07/27/680232.html" mce_href="http://archives.miloush.net/michkap/archive/2006/07/27/680232.html">When will we support Rongo-Rongo</a></b>) asked weeks before, at a group mixer.<br></p>
<p>You see, the most common question people would ask is some variation of "<b>How is that thing balancing?</b>"</p>
<p>My iBOT shtick eventually developed more fully as the week went on, some based on the boilerplate in the iBOT FAQ's <a href="http://www.ibotnow.com/faqs/faq.html#q2" mce_href="http://www.ibotnow.com/faqs/faq.html#q2">How does the iBOT® Mobility System work?</a>:</p>
<blockquote>
<p><font face="times new roman,times">A revolutionary mobility system from Independence Technology, L.L.C. the iBOT® Mobility System utilizes our patented iBALANCE® Technology. It is custom-programmed and calibrated to the owner’s center of gravity. Reach forward in Balance Function to shake hands, and your iBOT® 4000 Mobility System moves with you. Lean back and it moves with you as well. It is subtle and responsive in a way no other mobility device can match.</font> <br></p>
</blockquote>
<p>but it always eventually made it to the marketing point, about how the iBOT, unlike the Segway, uses <b>six</b> gyroscopes to do its work.</p>
<p>This always impressed people though I suspect that was because mainly they don't really know much about gyroscopes. So there was no follow-up question along those lines.</p>
<p>But John is one of those really smart guys who does know about things like gyroscopes, so he asked the very reasonable next question -- <b>how does it use six gyroscopes?</b></p>
<p>Now I even do know a bit about gyroscopes, but it had never occurred to me think of that next question, let alone ask it.</p>
<p>To John I had to admit I never asked, but that I would find out.</p>
<p>So I asked the iBOT folks.</p>
<p>Perhaps not entirely surprisingly, the front line of the IBOT's helpdesk didn't know either. :-)</p>
<p>But they tracked down a better answer, which I will give in a moment.</p>
<p>It's funny (minor segue for a moment), over the course of the week at SQLPASS, I was reminded of <a href="http://en.wikipedia.org/wiki/Gnomes_(South_Park_episode)" mce_href="http://en.wikipedia.org/wiki/Gnomes_(South_Park_episode)">the Underpants Gnomes from South Park</a>, and their three step business plan:</p>
<ul>
<li>Phase 1: Collect underpants</li>
<li>Phase 2: ????</li>
<li>Phase 3: Profit!</li>
</ul>
<p>The thing I noticed over the course of the week was that in the old days there would be some women who would be waving to me, looking at me with interest. They would almost invariably be looking at someone behind me or nearby, rather than at me.<br></p>
<p>Now with the iBOT, they actually were looking at me. Well, technically they were looking at my ride, my iBOT, but they still wanted to talk about it. But at least they weren't looking at the person behind me, right? :-)<br></p>
<p>Of course while it clearly appears that this "second phase" represented some form of progress, I really didn't know how to get to the third phase.</p>
<p>In part because I'm not sure what it would be (I suppose having them being interested in me? I'm not sure!), but it still is easy to put it in phases and be curious about how to get to the third phase!</p>
<p>Anyway, that answer.</p>
<p>First, I'll borrow an <a href="http://en.wikipedia.org/wiki/Image:Flight_dynamics_with_text.png" mce_href="http://en.wikipedia.org/wiki/Image:Flight_dynamics_with_text.png">image from Wikimedia</a> to define <b>Pitch</b>, <b>Roll</b>, and <b>Yaw</b> in much less time than a verbal description ever would: </p>
<p><img src="http://upload.wikimedia.org/wikipedia/commons/5/54/Flight_dynamics_with_text.png" title="Pitch, roll, and yaw..." alt="Pitch, roll, and yaw..." mce_src="http://upload.wikimedia.org/wikipedia/commons/5/54/Flight_dynamics_with_text.png" width="800" border="0" height="600">&nbsp;</p>
<p>If you absolutely must have words then the Wikipedia <a href="http://en.wikipedia.org/wiki/Flight_dynamics" mce_href="http://en.wikipedia.org/wiki/Flight_dynamics">Flight Dynamics article</a> can probably help...</p>
<p>It has those other pictures that can help for people with the concepts, like these:</p>
<p>&nbsp;</p>
<blockquote>
<blockquote><div class="thumb tright"><div class="thumbinner" style="width: 202px;"><a href="http://blogs.msdn.com/wiki/Image:Aptch.gif" class="image" title="Pitch"><img src="http://upload.wikimedia.org/wikipedia/commons/4/48/Aptch.gif" class="thumbimage" alt="" width="200" border="0" height="161"></a> 
<div class="thumbcaption">
<div class="magnify"><a href="http://blogs.msdn.com/wiki/Image:Aptch.gif" class="internal" title="Enlarge"><span class="" style="border: 2px none rgb(0, 0, 255); display: inline-block; font-size: 0px; background-image: none; vertical-align: middle;"><span style="display: inline-block; width: 1px; height: 1px;"></span></span></a></div>Pitch</div></div></div><div class="thumb tright">
<div class="thumbinner" style="width: 202px;"><a href="http://blogs.msdn.com/wiki/Image:Ayaw.gif" class="image" title="Yaw"><img src="http://upload.wikimedia.org/wikipedia/commons/c/c5/Ayaw.gif" class="thumbimage" alt="" width="200" border="0" height="160"></a> 
<div class="thumbcaption">
<div class="magnify"><a href="http://blogs.msdn.com/wiki/Image:Ayaw.gif" class="internal" title="Enlarge"><span class="" style="border: 2px none rgb(0, 0, 255); display: inline-block; font-size: 0px; background-image: none; vertical-align: middle;"><span style="display: inline-block; width: 1px; height: 1px;"></span></span></a></div>Yaw</div></div></div><div class="thumb tright">
<div class="thumbinner" style="width: 202px;"><a href="http://blogs.msdn.com/wiki/Image:Aileron_roll.gif" class="image" title="Roll"><img src="http://upload.wikimedia.org/wikipedia/commons/c/cc/Aileron_roll.gif" class="thumbimage" alt="" width="200" border="0" height="162"></a> 
<div class="thumbcaption">
<div class="magnify"><a href="http://blogs.msdn.com/wiki/Image:Aileron_roll.gif" class="internal" title="Enlarge"><span class="" style="border: 2px none rgb(0, 0, 255); display: inline-block; font-size: 0px; background-image: none; vertical-align: middle;"><span style="display: inline-block; width: 1px; height: 1px;"></span></span></a></div>Roll</div></div></div></blockquote>
</blockquote>

<p>Now the gyroscopes on the iBOT are there to look at the movement of the chair, measure these forces.</p>
<p>The computers in the iBOT generally work under the principle of three independent subsystems so that if any one of them is getting different results then what one would expect, you will either see corrections being made or end up in a warning state if none can be made. But that does not mean that the gyroscopes are all there to provide nothing but redundancy.</p>
<p>Like with the Segway, They are laid out a bit more cleverly than that.... <br></p>
<p>Three of them are placed on the main axis of the chair, in a straight line from front to back.</p>
<p>And the other three are off axis at various strategic places to handle detection of various other kinds of movement.</p>
<p>Combined with the data of the chair's mode and factors like the acceleration and turning being applied, the computer system can determine three things:</p>
<ul>
<li>where it is;<br></li>
<li>where it is moving;</li>
<li>where it is trying to move.</li>
</ul>
<p>With that information, it can also know if its progress is being blocked or hindered or accelerated in some way, so it can use its internal governor to speed up or slow down, to correct an incorrect situation, or to trigger a fault condition if it cannot recover from a problem without user assistance.</p>
<p>The gyroscopes themselves are used to work together to provide the data rather than just having two items trying to get the same answer redundantly to re-check the answer -- because if the computer knows by how much the two gyroscopes should be different, then it can know when something isn't right. The combination is described on many sites online, like <a href="http://www.designnews.com/article/3758-Balancing_act.php" mce_href="http://www.designnews.com/article/3758-Balancing_act.php">this one</a> that talks about the Segway but which partly applies here too (the main difference being that the iBOT is not trying to get data on steering from the movements of the passenger, it is trying to get data to keep the passenger upright, in an inverted pendulum kind of system.</p>
<p>Other sites like <a href="https://www.msu.edu/~luckie/segway/iBOT/iBOT.html" mce_href="https://www.msu.edu/~luckie/segway/iBOT/iBOT.html">this one</a> also have other somewhat useful descriptions:</p>
<blockquote>
<p><i><font face="times new roman,times">Like the Segway HT, the iBOT contains patented dynamic stabilization (iBALANCE) technology, an integrated combination of sensor and software components and multiple computers that work in conjunction with gyroscopes. Gyroscopes are motion sensors that help maintain balance. When the gyroscopes sense movement, a signal is sent to the computers. The computers process the information and tell the motors how to move the wheels to maintain stability. This electronic balance system is custom-programmed to the user's center of gravity, to monitor and respond to subtle changes in motion. Reach forward to shake hands, and the iBOT moves with you. Lean back and it moves away as well. The iBOT constantly realigns and adjusts its wheel position and seat orientation to keep the user upright and stable at all times, even when driving up and down curbs or inclines. In addition, the iBOT includes built-in triple redundant backup systems, as well as auditory and visual signals to provide even more safety and assurance. With input from the rider or an assistant, in "Stair Function" the iBOT utilizes gyroscopes and adjusts to the driver's center of gravity, climbing stairs by rotating wheels up and over each other. The iBOT can allow riders to stand up to the same eye-level as colleagues. The "Balance Function" of the iBOT can raise the rider to eye level for any number of business or social interactions. It lets the rider see over counters, and reach a high shelf in the office, kitchen or supermarket, safely and easily.</font></i><br></p>
</blockquote>
<p>And <a href="http://www.siliconsensing.com/segway" mce_href="http://www.siliconsensing.com/segway">this page</a> from Silicon Sensing, one of the component providers, gives some more info:</p>
<blockquote>
<p><font face="times new roman,times">The Segway PT is instantly recognisable across the world as a unique and alternative means of transport. Its press launch in December 2001 attracted enormous attention. But, by the time of its launch, Silicon Sensing had been working with the inventor of the Segway PT – Dean Kamen – for several years helping to develop and deliver its key design element – the balancing technology. This close relationship stemmed from our role in providing the balancing gyros for the IBOT®, the equally novel balancing wheelchair, from the same inventor.<br><br>Technically speaking, the Segway design is classic implementation of the 'inverted pendulum control theory' – balancing a broomstick on your fingertip is another example of the same thing. But to enable an automatically-balancing system based on this theory demands the availability of sensing, processing and actuation, all of which are fast and accurate enough. And for a commercially-viable product to emerge, this further demands the availability of these technologies at affordable prices, with sufficient robustness and reliability, and being of a suitable size.&nbsp; The overall system concept demanded that the Segway PT could always continue to balance if a component fails, whilst providing alarms and reversionary action to ensure that the rider is able to dismount safely.<br><br>Being involved from the very early days, Silicon Sensing were able to propose and develop an innovative design, to be called the Balance Sensor Assembly, in which the size, reliability and affordability criteria were met through use of our VSG3-based silicon MEMS gyro technology. A key requirement was at least dual redundancy in balance sensing – and the desire for triple redundancy in at least the pitch axis. Although not immediately obvious, the other two axes of yaw and roll also required to be sensed for the situation in which the Segway PT is balancing on a slope. <br><br>The resulting solution is ingenious. Rather than providing dual and triple redundancy on each axis separately, the gyros are set at angles such that, by applying trigonometry to any pair of gyros, it is possible to deduce pure pitch, roll or yaw in more than one way. In summary, the solution provides three ways of measuring pitch and two each of measuring yaw and roll. To complete the module, two dual-axis liquid tilt sensors are included which sense the true 'down' direction and thus the pitch and roll angles. Processing within the BSA – again duplicated both electrically and physically – continuously checks the sensor data and monitors for any failures. </font><br></p>
</blockquote>
<p>And then <a href="http://www.baesystemseducationprogramme.com/systemsengineering/pdfs/segway2.pdf" mce_href="http://www.baesystemseducationprogramme.com/systemsengineering/pdfs/segway2.pdf">this document</a> from BAE Systems, another one of the component providers, gives some more technical info on the nature of how the results of multiple gyroscopes are combined:<br></p>
<blockquote>
<p><font face="times new roman,times"><b>Using Maths to support design engineering</b><br>Ideas from maths are also important in engineering. The Segway HT makes use of a simple but ingenious bit of maths to reduce the number of silicon sensors used in the balance sensor assembly (BSA).<br><br><b>Directions of motion</b><br>There are three kinds of rotational motion that the Segway can experience; pitch, roll and yaw. These can be detected by a gyroscopic sensor.<br><br><b>Pitch</b> Stand up and lean forwards and backwards<br><b>Roll</b> Stand up and lean from side to side<br><b>Yaw</b> While standing upright turn from your left to your right<br><br>For safety reasons each direction of motion needs to have two sensors, apart from pitch (the motion used to control the Segway HT) which needs three independent sensors. So, seven (rather expensive) sensors in all should be needed.<br><br><b>Geometry to the rescue</b><br>Cleverly, the BSA has one independent sensor (sensor 1) measuring just pitch and a set of four other sensors, angled such that each has two jobs. Sensors 2 and 3 both measure pitch AND roll. These are physically arranged so that positive pitch motion will cause both sensors to give a positive output signal. A positive roll motion will reduce the signal from sensor 2 and increase the signal from sensor 3.<br><br>Sensor 2 measures pitch minus roll. We can write this as Sensor 2 = P – R.<br>Sensor 3 measures pitch plus roll. We can write this as Sensor 3 = P + R<br><br>If we add these two equations together like this:<br><br>Sensor 2 = P – R<br>plus<br>Sensor 3 = P + R<br>Sensor 2 + Sensor 3 = 2P (the +R and the -R cancel each other out)<br><br>If we subtract these two equations from one another like this:<br><br>Sensor 2 = P – R<br>minus<br>Sensor 3 = P + R<br>Sensor 2 – Sensor 3 = P – R – (P + R)<br>Sensor 2 – Sensor 3 = -2R (the +P and –P cancel each other out).</font> <br></p>
</blockquote>
<p>The steering is done via a Joystick, and its way of doing the steering combines the way a boat would be directed (for the lateral directions) with forward and backward movement handled via forward and back in the joystick in a way that does not exactly match any that I have seen (usually this is handled elsewhere, in a throttle), thus leading to the not entirely intuitive backward movement that I am still learning.</p>
<p>Usually I rely on the zero radius turns so I can just go forward; this is definitely slowing down my "backwards" learning. :-)</p>
<p>Anyone want to take a guess on the difference between the Segway and the iBOT, with the former needing five gyroscopes and the latter needing six, in particular tp how the slightly changed mission of the one unit changes the way the gyroscopes are laid out? I give some of the answer away above in the Segway descriptions and the requirements of the two different units but not all of it.<br></p>
<p>Anyway, no one ever asked that question John did, which in truth seems like a very reasonable question to ask in response to the <b>six gyroscopes</b> answer. No one else has yet managed to get that far.... <br></p>
<p><br></p>
<p><font face="Tahoma"><font color="#ff00ff"><i>This post brought to you by</i><font size="7"> </font><font size="7">♿ </font></font><i><font color="#ff00ff">(</font><a href="http://www.fileformat.info/info/unicode/char/267f" class="" mce_href="http://www.fileformat.info/info/unicode/char/267f">U+267f</a><font color="#ff00ff">, a.k.a. WHEELCHAIR SYMBOL)</font></i></font></p>
<hr/><p><strong>John Cowan</strong> on 24 Nov 2008 11:32 AM:</p><div style="margin-left: 1em"><p>Interesting how pitch, yaw, and roll, which normally refer to a vessel or airplane, are reapplied to a human body in such a way as to make them long-axis-relative rather than absolute.</p></div>
<p><strong>Michael S. Kaplan</strong> on 24 Nov 2008 12:10 PM:</p><div style="margin-left: 1em"><p>We are absolute, we are. :-)</p></div>
<p><strong>Tony Toews - Access MVP</strong> on 24 Nov 2008 11:48 PM:</p><div style="margin-left: 1em"><p>So I gotta ask a basic question. &nbsp; Do the batteries last all day when you're spending large parts of the day in balance mode on two wheels? &nbsp; </p></div>
<p><strong>Michael S. Kaplan</strong> on 25 Nov 2008 9:42 PM:</p><div style="margin-left: 1em"><p>Funny you should ask that -- I have not been getting many answers on this point. I'll probably be writing about it soon. :-)</p></div>
<p><strong>Tony Toews - Access MVP</strong> on 27 Nov 2008 10:03 PM:</p><div style="margin-left: 1em"><p>Speaking of yaw, pitch and roll with respect to a human body I must state that I greatly prefer observing the effects with respect to the human female body. &nbsp;</p></div>
<hr/><p><em>referenced by</em></p><div style="margin-left: 1em"><p>2013/09/19 <a href="http://archives.miloush.net/michkap/archive/2013/09/19/9243392.html">From I SCOOT to IBOT, #10 of ??: The good, the bad, and the ugly (IN THAT ORDER)</a></p><p>2011/04/25 <a href="http://archives.miloush.net/michkap/archive/2011/04/25/10157660.html">From Bunnarchy with Santa and Jessica Rabbit to Anime Unleashed</a></p><p>2008/12/20 <a href="http://archives.miloush.net/michkap/archive/2008/12/20/9243392.html">From I SCOOT to IBOT, #10 of ??: The good, the bad, and the ugly (IN THAT ORDER)</a></p><p>2008/12/12 <a href="http://archives.miloush.net/michkap/archive/2008/12/12/9202471.html">From I SCOOT to IBOT, #9 of ??: You're not stoned if you see me in Seattle at a 50 degree or a 130 degree angle</a></p><p>2008/12/03 <a href="http://archives.miloush.net/michkap/archive/2008/12/03/9167485.html">From I SCOOT to IBOT, #8 of ?? (On redefining the ideal kissing height)</a></p><p>2008/12/02 <a href="http://archives.miloush.net/michkap/archive/2008/12/02/9166557.html">From I SCOOT to IBOT, #7 of ?? (Unintended movement of the joystick will result in unintended movement of the product)</a></p><p>2008/11/27 <a href="http://archives.miloush.net/michkap/archive/2008/11/27/9148204.html">From I SCOOT to IBOT, #6 of ?? (The cost of standing still?)</a></p></div><p><em>go to <a id="newer" href="http://archives.miloush.net/michkap/archive/2008/11/25/9140152.html" title="Azeri serious bug for non-Unicode SQL Server columns?">newer</a> or <a id="older" href="http://archives.miloush.net/michkap/archive/2008/11/24/9134826.html" title="UCS-2 to UTF-16, Part 6: An exercise left for whoever needs some exercise">older</a> post, or back to <a href="http://archives.miloush.net/michkap/archive/index.html">index</a> or <a href="http://archives.miloush.net/michkap/archive/index.html#2008-11">month</a> or <a href="http://archives.miloush.net/michkap/archive/index.html#2008-11-24">day</a></em></p></body>
<!-- Mirrored from archives.miloush.net/michkap/archive/2008/11/24/9135043.html by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 25 May 2017 00:42:35 GMT -->
</html>