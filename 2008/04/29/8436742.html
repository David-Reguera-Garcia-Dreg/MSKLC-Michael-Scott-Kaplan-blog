<html>
<!-- Mirrored from archives.miloush.net/michkap/archive/2008/04/29/8436742.html by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 25 May 2017 00:42:36 GMT -->
<head><meta charset="utf-8" /><meta name="viewport" content="width=device-width" /><title>User overrides are read/write, by definition</title></head><body>
<h1>User overrides are read/write, by definition</h1>
<p><em>by Michael S. Kaplan, published on 2008/04/29 10:01 -04:00, original URI: http://blogs.msdn.com/b/michkap/archive/2008/04/29/8436742.aspx</em></p>
<hr/> <!-- Archival Source: ProcessPostNew -->
<P>John's question was:</P>
<BLOCKQUOTE>
<P><FONT face="times new roman,times"><EM>Experimentally, it seems that CultureInfo.GetCultureInfo() returns a CultureInfo object which has UseUserOverrides set to false.&nbsp; Is this always the case?&nbsp; I couldn’t infer from the documentation that this is actually guaranteed.<BR><BR>Thanks, <BR>-john</EM></FONT></P></BLOCKQUOTE>
<P>This takes me way back to when Mike first wrote the code for GetCultureInfo (the link to his description is <A class="" href="http://blogs.msdn.com/mdolenga/archive/2005/04/20/409927.aspx" mce_href="http://blogs.msdn.com/mdolenga/archive/2005/04/20/409927.aspx">here</A>, but don't bother clicking on it since&nbsp;the neither the blog&nbsp;nor the Blog are there anymore).</P>
<P>The problem was that CultureInfo objects are pretty freaking huge. And the cost to keep creating them (even creating the same one over and over again) was way too big. Since most of the time they were being created only for things like resource loading, where most of the properties weren't even being used.</P>
<P><EM>In case this sounds familiar, it is something I previously mentioned as one of the problems with CurrentUICulture, </EM><A class="" href="http://archives.miloush.net/michkap/archive/2007/01/10/1442340.html" mce_href="http://archives.miloush.net/michkap/archive/2007/01/10/1442340.html"><STRONG><EM>here</EM></STRONG></A><EM>.</EM></P>
<P>Anyway, it was pointed out that in many of these case, a single shared read-only instance would do just as well. And so that is what <A class="" href="http://msdn2.microsoft.com/library/system.globalization.cultureinfo.getcultureinfo.aspx" mce_href="http://msdn2.microsoft.com/library/system.globalization.cultureinfo.getcultureinfo.aspx">CultureInfo.GetCultureInfo</A> returns:&nbsp;a cached, read-only instance of a culture.</P>
<P>Now from there, the issue of user overrides is an important one.</P>
<P>Because the notion of a read-only object which nevertheless can have its behavior changed by changes one makes in Regional and Language Options is kind of a stupid sort of read only.</P>
<P>In fact, as read-only goes, that behavior (to borrow from Cartman's lexicon) would really kind of suck ass....</P>
<P>So the decision was made to make the cached cultures returned by <A class="" href="http://msdn2.microsoft.com/library/system.globalization.cultureinfo.getcultureinfo.aspx" mce_href="http://msdn2.microsoft.com/library/system.globalization.cultureinfo.getcultureinfo.aspx">CultureInfo.GetCultureInfo</A>&nbsp;always have the useUserOverride set to <STRONG>false</STRONG>.</P>
<P>I'll mention other interesting features of GetCultureInfo in another blog, soon....</P>
<P mce_keep="true">&nbsp;</P>
<P><FONT color=#ff00ff><EM>This blog brought to you by</EM><FONT size=5> ျ </FONT><EM>(<A class="" href="http://www.fileformat.info/info/unicode/char/103b" mce_href="http://www.fileformat.info/info/unicode/char/103b">U+103b</A>, aka MYANMAR CONSONANT SIGN MEDIAL YA)</EM></FONT></P>
<hr/><div style="margin-left: 1em"><em>no comments</em></div><hr/><p><em>go to <a id="newer" href="http://archives.miloush.net/michkap/archive/2008/04/30/8440308.html" title="Unicode -- making a difference">newer</a> or <a id="older" href="http://archives.miloush.net/michkap/archive/2008/04/29/8436482.html" title="JScript&#39;s ultimate globalization hero: VBScript">older</a> post, or back to <a href="http://archives.miloush.net/michkap/archive/index.html">index</a> or <a href="http://archives.miloush.net/michkap/archive/index.html#2008-04">month</a> or <a href="http://archives.miloush.net/michkap/archive/index.html#2008-04-29">day</a></em></p></body>
<!-- Mirrored from archives.miloush.net/michkap/archive/2008/04/29/8436742.html by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 25 May 2017 00:42:36 GMT -->
</html>