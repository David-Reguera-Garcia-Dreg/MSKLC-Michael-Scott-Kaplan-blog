<html>
<!-- Mirrored from archives.miloush.net/michkap/archive/2008/05/07/8464448.html by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 25 May 2017 00:42:36 GMT -->
<head><meta charset="utf-8" /><meta name="viewport" content="width=device-width" /><title>Four exceptions to prove the rule</title></head><body>
<h1>Four exceptions to prove the rule</h1>
<p><em>by Michael S. Kaplan, published on 2008/05/07 10:01 -04:00, original URI: http://blogs.msdn.com/b/michkap/archive/2008/05/07/8464448.aspx</em></p>
<hr/> <!-- Archival Source: ProcessPostNew -->
<P>As a general rule, once&nbsp;a sort has been added to Windows, it&nbsp;cannot ever be removed.</P>
<P>But you have probably heard the expression that every rule has an exception, right?</P>
<P>Well this rule is so freaking important that it has four exceptions!</P>
<P>They are:</P>
<P><FONT size=5><STRONG>#1: Lithuanian Classic (0x0827)</STRONG></FONT></P>
<P>This is a fun little order that you can only in fact see in Windows 98, and note how just like Modern vs. Traditional Spanish was implemented with a new SUBLANGID rather than&nbsp;a SORTID (though by this time the SORTID did in fact exist).</P>
<P>The sort was removed at the request of either the Lithuanian subsidiary representative or the Lithuanian government (I have gotten different stories from different people). You can see it even in .NET 2.0 if you run it on Windows 98 and get at it through the <STRONG>windows Only</STRONG> culture support.</P>
<P>The removal was complete, for sure, and for certain -- its constant (SUBLANGID_LITHUANIAN_CLASSIC)&nbsp;was even removed from the header files -- a nice exception to another (even stronger) rule!</P>
<P>No other sort has this distinction, mind you.</P>
<P>I have hinted at it blogs like <A class="" href="http://archives.miloush.net/michkap/archive/2007/04/13/2113001.html" mce_href="http://archives.miloush.net/michkap/archive/2007/04/13/2113001.html"><STRONG>The three stages of grief^H^H^H^H^Hcollation</STRONG></A> without defining it, because to be perfectly honest I do not know what the difference is (though I am reasonably certain that it is not connected with the CafePress <EM>Lithuanian Girls are Best</EM> Classic Thong.</P>
<BLOCKQUOTE>
<P><A class="" href="http://www.cafepress.com/buy/lithuania/-/pv_design_prod/id_14221405/p_storeid.72132027/pNo_72132027" mce_href="http://www.cafepress.com/buy/lithuania/-/pv_design_prod/id_14221405/p_storeid.72132027/pNo_72132027"><IMG class=imageborder style="WIDTH: 120px; HEIGHT: 123px" height=240 alt='"Lithuanian Girls are Best" Classic Thong' src="http://images.cafepress.com/product/72132027v19_240x240_Front.jpg" width=120 border=0 name=mainimg></A></P></BLOCKQUOTE>
<P>Though I could be wrong about that, I guess....</P>
<P>There are definitely differences, though -- more than any other of the collations on this page, I believe.</P>
<P>Even the person who did the original work once told me she couldn't remember what it was....</P>
<P>And I would guess that if I installed Windows 98 and spent some time in there I'd be able to reverse engineer it. </P>
<P>I may do that eventually, though I am hoping someone who remembers this sort might volunteer the information first and save me the trouble.... :-)</P>
<P>This collation is supported on Windows 98 as&nbsp;I said, and in .NET when you run on&nbsp;Windows 98, <STRONG>and nowhere else</STRONG>. </P>
<P><FONT size=5><STRONG>#2: Japanese Unicode (0x10411)</STRONG></FONT></P>
<P>I first mentioned this one back in December of 2004 in my <A class="" href="http://archives.miloush.net/michkap/archive/2004/12/14/307152.html" mce_href="http://archives.miloush.net/michkap/archive/2004/12/14/307152.html"><STRONG>And what about the Japanese (Unicode) sort?</STRONG></A> blog.</P>
<P>It has a simple (if stupid) purpose -- take the default table and make two changes to it:</P>
<UL>
<LI>Put U+005c (\) aka REVERSE SOLIDUS&nbsp;in the same place as U+00a5 (¥) aka YEN SIGN;</LI>
<LI>Put U+2015 (―) aka HORIZONTAL BAR&nbsp;in the same place as U+30fc (ー) aka KATAKANA-HIRAGANA PROLONGED SOUND MARK;</LI></UL>
<P>And then it does <STRONG>nothing else</STRONG>. </P>
<P>This looks about as Japanese as David Carradine (the guy from Kung Fu, who wasn't even Chinese, let alone Japanese).</P>
<P>This one is supported in Windows &lt;= 2000. It is also supported in SQL Server and .NET, because even though Windows &gt;= XP did not have it listed in its supported collations in the registry, it was never taken out of the source file for the collation data, and both SQL Server and .NET took that list as gospel and said amen.</P>
<P><FONT size=5><STRONG>#3: Korean Unicode (0x10412)</STRONG></FONT></P>
<P>Now I first mentioned this one just prior to the similarly misguided Japanese Unicode sort, back in December of 2004, in the <A class="" href="http://archives.miloush.net/michkap/archive/2004/12/14/284838.html" mce_href="http://archives.miloush.net/michkap/archive/2004/12/14/284838.html"><STRONG>Whats up with the Korean (Unicode) sort?</STRONG></A> blog.</P>
<P>It too has a simple (if stupid) purpose -- take the default table and make one change to it:</P>
<UL>
<LI>Put U+005c (\)&nbsp;aka REVERSE SOLIDUS in the same place as U+20a9 (₩) aka WON SIGN;</LI></UL>
<P>and then it does <STRONG>nothing else</STRONG>. </P>
<P>This looks about as Korean as my blond ex-fiancé does (which is to say, not at all).</P>
<P>This one is supported in Windows &lt;= 2000. It is also supported in SQL Server and .NET, because even though Windows &gt;= XP did not have it listed in its supported collations in the registry, it was never taken out of the source file for the collation data, and both SQL Server and .NET took that list as gospel and said amen.</P>
<P><FONT size=5><STRONG>#4: China Hong Kong - Stroke (0x20c04)</STRONG></FONT></P>
<P mce_keep="true">This one is the weirdest one of all, and not just because the default Hong Kong China sort you get with 0x0c04 is already a stroke count sort anyway -- the same sort that is provided for Taiwan&nbsp;(which is technically not a stroke count sort but a Big5/CNS11643 based sort, which is stroke based within planes (Big5 itself is sorted by use frequency/stroke count/radical, which makes for a "sorta stroke count" sort!).</P>
<P mce_keep="true">But no, 0x20c04 is weird for an entirely different reason.</P>
<P mce_keep="true">You see, it is indistinguishable from the PRC stroke count order that 0x0404 returns for Simplified Chinese in China.</P>
<P mce_keep="true">Let me repeat that since it seems <EM>vaguely important</EM>.</P>
<P mce_keep="true"><FONT size=4><STRONG>0x20c04 is indistinguishable from the PRC stroke count order that 0x0404 returns for Simplified Chinese in China.</STRONG></FONT></P>
<P mce_keep="true">It is a stroke count based on Simplified Chinese, even though Kong Kong is primarily a Traditional Chinese kind of place.</P>
<P mce_keep="true">Which means as far as expectations go we may see the same problems here as we did with Chinese - Macau that I described in my blog&nbsp;<A class="" href="http://archives.miloush.net/michkap/archive/2007/11/22/6462768.html" mce_href="http://archives.miloush.net/michkap/archive/2007/11/22/6462768.html"><STRONG>How bad does it need to be in order to be not good enough, anyway?</STRONG></A>, though hopefully not with newly introduced bugs inherited from standards, as described in <A class="" href="http://archives.miloush.net/michkap/archive/2007/12/03/6643180.html" mce_href="http://archives.miloush.net/michkap/archive/2007/12/03/6643180.html"><STRONG>Every character has a story #31: U+272f0 from CJK Extension B, an ideograph that proves that every rose has its thorn! (aka It wasn't my fault, but [from the Windows standpoint] it was because of me....)</STRONG></A>.</P>
<P mce_keep="true">This collation is also supported by SQL Server (7.0 and 8.0, removed in SQL Server 2005 as mentioned by SQL Server developer Jun <A class="" href="http://gps678.com/21/befe97fc73eee1af.html" mce_href="http://gps678.com/21/befe97fc73eee1af.html">here</A>) and SQL Server CE, for reasons that do not have much in the way of a good excuse, and for the same reason as the previous two in relation to things sitting in the source file....</P>
<P mce_keep="true">Now if you take code like the following in .NET 2.0 you can see how the last three are still supported there:</P>
<BLOCKQUOTE>
<P mce_keep="true"><FONT face="consolas,lucida console,courier new,courier"><STRONG>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; static void Main(string[] args) {<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; CultureInfo ci;<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ci = new CultureInfo(0x20c04);<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Console.WriteLine("CultureInfo.Name&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; --&gt; {0}", ci.Name);<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Console.WriteLine("CultureInfo.LCID&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; --&gt; 0x{0}", ci.LCID.ToString("x4"));<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Console.WriteLine("CultureInfo.CompareInfo.Name --&gt; {0}", ci.CompareInfo.Name);<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Console.WriteLine("CultureInfo.CompareInfo.LCID --&gt; 0x{0}", ci.CompareInfo.LCID.ToString("x5"));<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Console.WriteLine();<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ci = new CultureInfo(0x10411);<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Console.WriteLine("CultureInfo.Name&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; --&gt; {0}", ci.Name);<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Console.WriteLine("CultureInfo.LCID&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; --&gt; 0x{0}", ci.LCID.ToString("x4"));<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Console.WriteLine("CultureInfo.CompareInfo.Name --&gt; {0}", ci.CompareInfo.Name);<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Console.WriteLine("CultureInfo.CompareInfo.LCID --&gt; 0x{0}", ci.CompareInfo.LCID.ToString("x5"));<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Console.WriteLine();<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ci = new CultureInfo(0x10412);<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Console.WriteLine("CultureInfo.Name&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; --&gt; {0}", ci.Name);<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Console.WriteLine("CultureInfo.LCID&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; --&gt; 0x{0}", ci.LCID.ToString("x4"));<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Console.WriteLine("CultureInfo.CompareInfo.Name --&gt; {0}", ci.CompareInfo.Name);<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Console.WriteLine("CultureInfo.CompareInfo.LCID --&gt; 0x{0}", ci.CompareInfo.LCID.ToString("x5"));<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }</STRONG></FONT></P></BLOCKQUOTE>
<P mce_keep="true">As it returns the following:</P>
<BLOCKQUOTE>
<P mce_keep="true"><FONT face="consolas,lucida console,courier new,courier"><STRONG>CultureInfo.Name&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; --&gt; zh-HK<BR>CultureInfo.LCID&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; --&gt; 0x20c04<BR>CultureInfo.CompareInfo.Name --&gt; zh-HK_stroke<BR>CultureInfo.CompareInfo.LCID --&gt; 0x20c04<BR><BR>CultureInfo.Name&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; --&gt; ja-JP<BR>CultureInfo.LCID&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; --&gt; 0x10411<BR>CultureInfo.CompareInfo.Name --&gt; ja-JP_unicod<BR>CultureInfo.CompareInfo.LCID --&gt; 0x10411<BR><BR>CultureInfo.Name&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; --&gt; ko-KR<BR>CultureInfo.LCID&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; --&gt; 0x10412<BR>CultureInfo.CompareInfo.Name --&gt; ko-KR_unicod<BR>CultureInfo.CompareInfo.LCID --&gt; 0x10412</STRONG></FONT></P></BLOCKQUOTE>
<P mce_keep="true">And on that note, I will leave you ponder these powerful, terrible, weird, and hopefully intriguing and interesting. :-)</P>
<P mce_keep="true">&nbsp;</P>
<P mce_keep="true"><FONT color=#ff00ff><EM>This post brought to you by</EM><FONT size=5>&nbsp;― </FONT><EM>(<A class="" href="http://www.fileformat.info/info/unicode/char/2015" mce_href="http://www.fileformat.info/info/unicode/char/2015">U+2015</A>, aka HORIZONTAL BAR)</EM></FONT></P>
<hr/><div style="margin-left: 1em"><em>no comments</em></div><hr/><p><em>referenced by</em></p><div style="margin-left: 1em"><p>2011/11/08 <a href="http://archives.miloush.net/michkap/archive/2011/11/08/10234995.html">The evolving Story of Locale Support, part 5 (...until the decision was made to not refuse to add it)</a></p></div><p><em>go to <a id="newer" href="http://archives.miloush.net/michkap/archive/2008/05/08/8459104.html" title="Support of Holi^h^h^^hDAZE, in Outlook (aka Situations when competition might help customers)">newer</a> or <a id="older" href="http://archives.miloush.net/michkap/archive/2008/05/07/8461372.html" title="25 years at Microsoft? Amazing, I tell you!">older</a> post, or back to <a href="http://archives.miloush.net/michkap/archive/index.html">index</a> or <a href="http://archives.miloush.net/michkap/archive/index.html#2008-05">month</a> or <a href="http://archives.miloush.net/michkap/archive/index.html#2008-05-07">day</a></em></p></body>
<!-- Mirrored from archives.miloush.net/michkap/archive/2008/05/07/8464448.html by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 25 May 2017 00:42:36 GMT -->
</html>