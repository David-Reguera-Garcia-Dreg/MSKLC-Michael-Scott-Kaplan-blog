<html>
<!-- Mirrored from archives.miloush.net/michkap/archive/2008/09/29/8968429.html by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 25 May 2017 00:42:35 GMT -->
<head><meta charset="utf-8" /><meta name="viewport" content="width=device-width" /><title>The difference between Six Sigma and Sigma Diaresis is one must never fail; the other seems to do so by default</title></head><body>
<h1>The difference between Six Sigma and Sigma Diaresis is one must never fail; the other seems to do so by default</h1>
<p><em>by Michael S. Kaplan, published on 2008/09/29 10:01 -04:00, original URI: http://blogs.msdn.com/b/michkap/archive/2008/09/29/8968429.aspx</em></p>
<hr/> <!-- Archival Source: ProcessPostNew -->
<p>As the regular font ninjas and font experts and font mavens will likely be quick to agree with me about, I am not a font maven, expert, or ninja.</p>
<p>But every once in a while I can contribute productively. :-)</p>
<p>The other day, over on the VOLT users community forum, an interesting question was raised, by JGlavy:</p>
<blockquote>
<p><i><font face="times new roman,times">Greetings,<br>&nbsp;<br>I'm trying to make a font opentype friendly toward using Greek letters with non-canonical diacritics (such as used in Arvantic and Karamanli, etc).&nbsp; I can't even get the dieresis (combining, or otherwise) to keep from colliding with the capital Sigma.&nbsp; I've tried work-arounds such as precomposing a Sigma with dieresis but can't get it to output the precomposition when typing Σ and ¨ .&nbsp; I can make up some completely arbitrary letter like S with ¨ and then link it to the precomposed Sigma-with-dieresis and THAT will output properly....but only with Latin letters.<br>&nbsp;<br>Any advice on how I can resolve this...or is this one of the Uniscribe limitations?&nbsp; It does seem that the Greek range won't let me put any diacritics over Capital or lower case that are as tall as capital letters. <br>&nbsp;<br>Please help<br>&nbsp;<br>JGlavy</font></i><br></p></blockquote>
<p>now of course the first part of this is easy and any OpenType maven can get into it -- the <b>liga</b> or <b>Standard Ligatures</b> OpenType feature, which you can read about <a href="http://www.microsoft.com/typography/otspec/features_ko.htm#liga" mce_href="http://www.microsoft.com/typography/otspec/features_ko.htm#liga">here</a>:</p>
<blockquote>
<blockquote>
<p><font face="times new roman,times"><b>Tag</b>: 'liga'<br><br>Friendly name: Standard Ligatures<br><br>Registered by: Microsoft/Adobe<br><br>Function: Replaces a sequence of glyphs with a single glyph which is preferred for typographic purposes. This feature covers the ligatures which the designer/manufacturer judges should be used in normal conditions.<br><br>Example: The glyph for ffl replaces the sequence of glyphs f f l.<br><br>Recommended implementation: The liga table maps sequences of glyphs to corresponding ligatures (GSUB lookup type 4). Ligatures with more components must be stored ahead of those with fewer components in order to be found. The set of standard ligatures will vary by design and script.<br><br>Application interface: For sets of GIDs found in the liga coverage table, the application passes the sequence of GIDs to the table and gets back a single new GID. Note that full sequences must be passed.<br><br>UI suggestion: This feature serves a critical function in some contexts, and should be active by default.<br><br>Script/language sensitivity: Applies to virtually all scripts.<br><br>Feature interaction: This feature may be used in combination with other substitution (GSUB) features, whose results it may override.</font><br></p></blockquote></blockquote>
<p>&nbsp;Okay, that seems easy enough.</p><p><font color="#ff0000">Update 30 Sep 2008: Actually, turns out the <a href="http://www.microsoft.com/typography/otspec/features_ae.htm#ccmp" mce_href="http://www.microsoft.com/typography/otspec/features_ae.htm#ccmp">ccmp</a> feature is better for this then the <a href="http://www.microsoft.com/typography/otspec/features_ko.htm#liga" mce_href="http://www.microsoft.com/typography/otspec/features_ko.htm#liga">liga</a> one; you can see the comments for details on why. I think I mentioned, not a font ninja? :-) </font><br></p>
<p>So all I need is a SIGMA and a DIAERESIS and I am done, right?</p>
<p>Well, not quite. And this is where I can become more useful, since we are moving into a place where I am (on a scale of <b>ONE TO NINJA</b>) going to place higher than I do when it comes to typography -- <b>keyboards</b>. :-)</p>
<p>So we'll back up. We assume that JGlavy knows about the font stuff since he is talking about several things intelligently that I don't fully grok (this is admittedly using the same principle I suggested <b><a href="http://archives.miloush.net/michkap/archive/2008/09/21/8960668.html" mce_href="http://archives.miloush.net/michkap/archive/2008/09/21/8960668.html">here</a></b> that Dale had an even <a href="http://archives.miloush.net/michkap/archive/2008/09/21/8960668.html#8960855" mce_href="http://archives.miloush.net/michkap/archive/2008/09/21/8960668.html#8960855">better citation for</a>!).</p>
<p>And we look at what is being done:</p>
<blockquote>
<p><font face="times new roman,times"><i>I've tried work-arounds such as precomposing a Sigma with dieresis but can't get it to output the precomposition when typing Σ and ¨</i></font><br></p></blockquote>
<p>The important question here -- what is the <font size="5">¨</font> here?</p>
<p>The <b>liga</b> entry has you include individual Unicode values. But almost no keyboards include <a href="http://www.fileformat.info/info/unicode/char/00a8" mce_href="http://www.fileformat.info/info/unicode/char/00a8">U+00a8</a>, aka DIAERESIS, except in the case of dead key combinations when no valid pair of characters is found or <b><a href="http://archives.miloush.net/michkap/archive/2006/12/11/1259767.html" mce_href="http://archives.miloush.net/michkap/archive/2006/12/11/1259767.html">the broken Romanian keyboard</a></b> is used.</p>
<p>Dead keys will, like fonts, use the precomposed characters. <br></p>
<p>Unicode would want you to use <a href="http://www.fileformat.info/info/unicode/char/0308" mce_href="http://www.fileformat.info/info/unicode/char/0308">U+0308</a>, aka COMBINING DIAERESIS. So you would type Σ (<a href="http://www.fileformat.info/info/unicode/char/03a3" mce_href="http://www.fileformat.info/info/unicode/char/03a3">U+03a3</a>, aka GREEK CAPITAL LETTER SIGMA) followed by that <a href="http://www.fileformat.info/info/unicode/char/0308" mce_href="http://www.fileformat.info/info/unicode/char/0308">U+0308</a>. Only it does not usually tend to exist on keyboards unless you include it in a custom keyboard you create!</p>
<p>Now of course the <b>liga</b> feature in OpenType has no higher knowledge of what we'll call "stupid sequences" so in theory nothing stops you from programming any sequence in and then it, when it notices such a sequence, using it. But in the interests of test that is correct and is easy to do searches on later, let's try to get the right sequence in the text stream -- <a href="http://www.fileformat.info/info/unicode/char/03a3" mce_href="http://www.fileformat.info/info/unicode/char/03a3">U+03a3</a> <a href="http://www.fileformat.info/info/unicode/char/0308" mce_href="http://www.fileformat.info/info/unicode/char/0308">U+0308</a>.</p>
<p>You'll need to have an input method that lets you type it (or build your own, a-la-MSKLC!), and the font that does the magic so you can see the dots above the sigma.</p>
<p>Now, changing tracks a bit, if you use that sequence without help, you get Σ̈ and you can maybe make out the dots hiding behind the sigma. I wonder whether the habit of not including diacritics on the capital letters in Greek had more to do with the fact that there was nothing there to make them shape more harmoniously together (ref: <b><a href="http://archives.miloush.net/michkap/archive/2006/08/18/706383.html" mce_href="http://archives.miloush.net/michkap/archive/2006/08/18/706383.html">Sometimes, uppercasing sucks</a></b>), and that maybe if the right glyphs were added here then everyone would be okay with the diacritics.</p>
<p>You could then solve it all with some <b>liga</b> entries in your font.</p>
<p>Now the bonus of this supposition is that even if I am dead wrong, you can still solve the problem I mention in <b><a href="http://archives.miloush.net/michkap/archive/2006/08/18/706383.html" mce_href="http://archives.miloush.net/michkap/archive/2006/08/18/706383.html">Sometimes, uppercasing sucks</a></b> with the <b>liga</b> entry, simply using the letter without the diacritic as the form to show when combined with the capital letter. Thus being wrong is no blocker to me having provided the correct solution. :-)<br></p>
<p mce_keep="true">&nbsp;</p>
<p><font color="#ff00ff"><i>This blog brought to you by all of the previously mentioned characters in this post</i></font><br></p>
<hr/><p><strong>John Hudson</strong> on 29 Sep 2008 10:15 PM:</p><div style="margin-left: 1em"><p>&lt;liga&gt; is not the correct layout feature for this sort of substitution; for this and other one-to-many substitutions involving precomposed diacritic combinations you should use &lt;ccmp&gt; 'Glyph Composition/Decomposition'.</p>
<p>Alternatively, you could use GPOS mark attachment positioning.</p></div>
<p><strong>Michael S. Kaplan</strong> on 29 Sep 2008 10:29 PM:</p><div style="margin-left: 1em"><p>When you say &quot;not correct&quot;, what are the consequences? Or what are the benefits of using &lt;ccmp&gt; ?</p>
</div>
<p><strong>Andrew West</strong> on 30 Sep 2008 4:45 AM:</p><div style="margin-left: 1em"><p>&lt;liga&gt; is not correct because it is intended for composing ligatures (e.g. for composing a ligature of the letters ffi). On the other hand &lt;ccmp&gt; is intended for general purpose glyph composition or decomposition, including substitution of a sequence of base character plus combining mark or marks for a single glyph. The benefits of using &lt;ccmp&gt; is that it applies to all scripts, and it is always the first OT feature to be applied (which means you can get all your glyph composition/decomposition out of the way first, and then do other things with the resultant glyph stream); whereas &lt;liga&gt; only applies to "virtually all scripts", so may not work in all cases.</p></div>
<p><strong>Michael S. Kaplan</strong> on 30 Sep 2008 10:22 AM:</p><div style="margin-left: 1em"><p>Good enough for me. :-)</p>
<p>I added a note about this in the blog. Thanks guys....</p>
</div>
<hr/><p><em>go to <a id="newer" href="http://archives.miloush.net/michkap/archive/2008/10/01/8971160.html" title="What do you get when you put a Hebrew on top of a Russian? (aka What lies beneath can bite you on the ass)">newer</a> or <a id="older" href="http://archives.miloush.net/michkap/archive/2008/09/29/8968315.html" title="What a tangled web we weave when a KLID from an HKL we must receive">older</a> post, or back to <a href="http://archives.miloush.net/michkap/archive/index.html">index</a> or <a href="http://archives.miloush.net/michkap/archive/index.html#2008-09">month</a> or <a href="http://archives.miloush.net/michkap/archive/index.html#2008-09-29">day</a></em></p></body>
<!-- Mirrored from archives.miloush.net/michkap/archive/2008/09/29/8968429.html by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 25 May 2017 00:42:35 GMT -->
</html>