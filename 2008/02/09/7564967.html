<html>
<!-- Mirrored from archives.miloush.net/michkap/archive/2008/02/09/7564967.html by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 25 May 2017 00:42:36 GMT -->
<head><meta charset="utf-8" /><meta name="viewport" content="width=device-width" /><title>SGCAPS and dead keys don't mix</title></head><body>
<h1>SGCAPS and dead keys don't mix</h1>
<p><em>by Michael S. Kaplan, published on 2008/02/09 12:06 -05:00, original URI: http://blogs.msdn.com/b/michkap/archive/2008/02/09/7564967.aspx</em></p>
<hr/> <!-- Archival Source: ProcessPostNew -->
<P>Over in the Suggestion Box, <A class="" href="http://www.personal.leeds.ac.uk/~ecl6tam/" mce_href="http://www.personal.leeds.ac.uk/~ecl6tam/">Alec McAllister</A> asks:</P>
<BLOCKQUOTE>
<P><FONT face="times new roman,times"><EM>I'm a long-time user of MSKLC, having made keyboard layouts to support many languages, but I'm stumped by one thing: does MSKLC allow a SGCAP+somekey combination to be used as a dead key, or not?<BR><BR>MSKLC offers a Dead Key option by such keys, allows us to create listings of characters, and correctly types those characters with that dead key in Keyboard Layout Testing. However, it seems reluctant to activate those dead keys when the DLL is built.<BR><BR>Hebrew and a few other layouts use SGCAP combinations, but not as dead keys.</EM></FONT></P></BLOCKQUOTE>
<P>Unfortunately, Alec isn't missing anything here.</P>
<P>Dead keys and SGCAPS don't mix.</P>
<P>It's funny, the organic and essentially spec-less process by which MSKLC was built is in some ways responsible for the many layers by which features ended up being added.</P>
<P>First came dead keys -- not supporting dead keys was considered a ship killer (an attitude which I was later able to inject into <A class="" href="http://archives.miloush.net/michkap/archive/2005/08/20/454114.html" mce_href="http://archives.miloush.net/michkap/archive/2005/08/20/454114.html"><STRONG>The Keyboard Convert Service</STRONG></A>, which initially did not support dead keys until I helped convince them that a) this was a really bad idea and b) that it was not too hard to add support for!</P>
<P>Then came SGCAPS -- which PM was actually against at first as it seemed extraneous. I persisted since their original goal (supporting as many keyboards from the ones we ship as possible) could not be met without SGCAPS support, and eventually they agreed that incomplete loading of all of those keyboards would not be such a great user experience....</P>
<P>Then came the test surface, that built-in way to test the keyboard without installing it. That one was entirely inspired&nbsp;by Bala, my lead at the time (he had never installed the beta builds&nbsp;of MSKLC until the release candidate but when he did he was really impressed with the exception of it requiring installation of the keyboard to try it out. We had a big conversation about mitigation strategies and based on an idea from Bala a prototype of that test surface&nbsp;was built. It proved to be the only option people (including Bala)&nbsp;really&nbsp;liked, so we decided to ship it....</P>
<P>The test surface was taking the data built-into the keyboard and just kind of applying it, without any notion of what may or may not work later. It was a wonderful idea, truly -- one I wish we would have added sooner since&nbsp;(as&nbsp;it turned out) very few people were actually installing their random test keyboards and testing them purely to find bugs -- and the test surface flushed out a lot of bugs!</P>
<P>But the fact that</P>
<UL>
<LI>multiple characters in a single keystroke</LI>
<LI>ALTGR and Shift+ALTGR states</LI>
<LI>dead keys</LI></UL>
<P>all don't work as one might expect are limitations that a spec and the investigation into the covered feature set that the spec&nbsp;would be expected to include&nbsp;would probably have revealed. </P>
<P>In fact, as far as I can recall, only the first two of those bullet points have ever been reported -- Alec's report is a longstanding unreported MSKLC bug!</P>
<P>If one of the&nbsp;current owners of MSKLC would make sure that bug report gets put in the proper place, it seems like something to consider for next version -- locking down the UI so the dead key checkbox is disabled/hidden for those two shift states and the dead key dialog can't be reached from SGCAPS seems like a pretty good idea, since the UI is kind of writing checks that Windows keyboards can't cash....</P>
<P mce_keep="true">&nbsp;</P>
<P><FONT color=#ff00ff><EM>This post brought to you by</EM><FONT size=5> âœ“ </FONT><EM>(<A class="" href="http://www.fileformat.info/info/unicode/char/2713" mce_href="http://www.fileformat.info/info/unicode/char/2713">U+2713</A>, aka CHECK MARK)</EM></FONT></P>
<hr/><div style="margin-left: 1em"><em>no comments</em></div><hr/><p><em>referenced by</em></p><div style="margin-left: 1em"><p>2010/07/07 <a href="http://archives.miloush.net/michkap/archive/2010/07/07/10032340.html">[Pretty much] All the things you can't do with SGCAPS, and why</a></p></div><p><em>go to <a id="newer" href="http://archives.miloush.net/michkap/archive/2008/02/09/7566284.html" title="If the [IE7 on Vista ]browser doesn&#39;t have anything nice to display, it might display nothing?">newer</a> or <a id="older" href="http://archives.miloush.net/michkap/archive/2008/02/08/7544196.html" title="Overheard, via email">older</a> post, or back to <a href="http://archives.miloush.net/michkap/archive/index.html">index</a> or <a href="http://archives.miloush.net/michkap/archive/index.html#2008-02">month</a> or <a href="http://archives.miloush.net/michkap/archive/index.html#2008-02-09">day</a></em></p></body>
<!-- Mirrored from archives.miloush.net/michkap/archive/2008/02/09/7564967.html by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 25 May 2017 00:42:36 GMT -->
</html>