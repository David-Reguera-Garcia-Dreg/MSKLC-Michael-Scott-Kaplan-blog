<html>
<!-- Mirrored from archives.miloush.net/michkap/archive/2008/02/23/7861817.html by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 25 May 2017 00:42:36 GMT -->
<head><meta charset="utf-8" /><meta name="viewport" content="width=device-width" /><title>Despite progression, the bug calls out to me quite LAOdly</title></head><body>
<h1>Despite progression, the bug calls out to me quite LAOdly</h1>
<p><em>by Michael S. Kaplan, published on 2008/02/23 15:01 -05:00, original URI: http://blogs.msdn.com/b/michkap/archive/2008/02/23/7861817.aspx</em></p>
<hr/> <!-- Archival Source: ProcessPostNew -->
<P>In the early days of my ownership of the collation functionality, I did have a bit of an inferiority complex about the more <STRONG>linguistic</STRONG> aspects to the work.</P>
<P>So I would talk about my <EM>delusions of linguistic aptitude</EM> and how I was the architect of all the collations that required no linguistic knowledge (being algorithmically derived), while looking on the process by which the&nbsp;reverse engineering of dictionaries in fact took place and be amazed at the results. And to be frank amazed about the people who were doing the work, who held some kind of secret knowledge that I didn't have and which (unlike most technologies and functionalities I run across in my work) I probably never would (blogs like&nbsp;<A href="http://archives.miloush.net/michkap/archive/2005/11/18/492339.html"><STRONG><FONT face=Tahoma>Some sort of order to collation</FONT></STRONG></A> and <A class="" href="http://archives.miloush.net/michkap/archive/2006/02/12/530610.html" mce_href="http://archives.miloush.net/michkap/archive/2006/02/12/530610.html"><STRONG>Collation can actually be linguistic</STRONG></A>&nbsp;aside, of course -- they id tend to prove my fascination more than my abilities -- that I had become a <STRONG>sortophile</STRONG> of sorts).</P>
<P>And of course as some of the people who had been doing this work for years were moving onto new challenges.</P>
<P>I got to see firsthand that I was not the only one who didn't fully understand how to do it; we even had a false start or two as some people tried to do the work but were simply unable to handle that linguistic side that I (recognizing that I couldn't -- or didn't think I could -- do) kept myself from trying to do.</P>
<P>Eventually&nbsp;others came in to fill those shoes, people who still had those seemingly intrinsic abilities, even as they learned the new abilities to bring the feature to Windows with new languages.</P>
<P>And in those early days that I usually think of as <STRONG>B.R.</STRONG> (Before Ryan) when Ryan was not yet&nbsp;the collation tester,&nbsp;we were at the time kind of between testers for the area. So the automation that was there kept running but we did not have someone looking at new things with their tester eyes just yet....</P>
<P>Somewhere in all of that, between the outgoing and the incoming who didn't quite get it and the incoming who did get it but was still learning how to use it and not having a great tester in place and the one who knew he didn't get it but was the one charged with checking in the final results, a bug or two could (and did) slip in, as I am sure you&nbsp;might be able to&nbsp;imagine....</P>
<P mce_keep="true">In particular, the collation for Lao is kind of broken for both vowels and tone marks.</P>
<P mce_keep="true">And as anyone who knows Lao can tell you, sorting Lao without the expected results for vowels and tone marks is a bit like trying to wash your foot with your shoes and socks on -- you may get things wet but it won't be very effective and later on quite uncomfortable!</P>
<P mce_keep="true">Since I am the one who checked it in I actually take full responsibility, though as I have come to expect from working with competent people and bugs like this the program manager who used to work on the data but never saw the data in this case, the program manager who created the data while learning how the data was supposed to be created, and even the tester who was not even working in the area at the time could just as easily try to make the same claim and to be honest often do....</P>
<P mce_keep="true">I get to win since it is my name in the checkin log, a dubious pleasure at best.</P>
<P mce_keep="true">Kind of puts&nbsp;blogs like <A class="" href="http://archives.miloush.net/michkap/archive/2007/07/02/3660189.html" mce_href="http://archives.miloush.net/michkap/archive/2007/07/02/3660189.html"><STRONG>Not so Lao[d], at least not until Vista</STRONG></A> in perspective, though....</P>
<P mce_keep="true">The various vowels and tone marks I mean are:</P>
<UL>
<LI>
<DIV mce_keep="true"><A class="" href="http://www.fileformat.info/info/unicode/char/0ec8" mce_href="http://www.fileformat.info/info/unicode/char/0ec8">U+0ec8</A>&nbsp;&nbsp;່&nbsp; LAO TONE MAI EK</DIV></LI>
<LI>
<DIV mce_keep="true"><A class="" href="http://www.fileformat.info/info/unicode/char/0ec9" mce_href="http://www.fileformat.info/info/unicode/char/0ec9">U+0ec9</A>&nbsp;&nbsp;້&nbsp; LAO TONE MAI THO</DIV></LI>
<LI>
<DIV mce_keep="true"><A class="" href="http://www.fileformat.info/info/unicode/char/0eca" mce_href="http://www.fileformat.info/info/unicode/char/0eca">U+0eca</A>&nbsp;&nbsp;໊&nbsp; LAO TONE MAI TI</DIV></LI>
<LI>
<DIV mce_keep="true"><A class="" href="http://www.fileformat.info/info/unicode/char/0ecb" mce_href="http://www.fileformat.info/info/unicode/char/0ecb">U+0ecb</A>&nbsp;&nbsp;໋&nbsp; LAO TONE MAI CATAWA</DIV></LI>
<LI>
<DIV mce_keep="true"><A class="" href="http://www.fileformat.info/info/unicode/char/0ec6" mce_href="http://www.fileformat.info/info/unicode/char/0ec6">U+0ec6</A>&nbsp;&nbsp;ໆ&nbsp; LAO KO LA</DIV></LI>
<LI>
<DIV mce_keep="true"><A class="" href="http://www.fileformat.info/info/unicode/char/0eb0" mce_href="http://www.fileformat.info/info/unicode/char/0eb0">U+0eb0</A>&nbsp;&nbsp;ະ&nbsp; LAO VOWEL SIGN A</DIV></LI>
<LI>
<DIV mce_keep="true"><A class="" href="http://www.fileformat.info/info/unicode/char/0eb2" mce_href="http://www.fileformat.info/info/unicode/char/0eb2">U+0eb2</A>&nbsp;&nbsp;າ&nbsp; LAO VOWEL SIGN AA</DIV></LI>
<LI>
<DIV mce_keep="true"><A class="" href="http://www.fileformat.info/info/unicode/char/0eb4" mce_href="http://www.fileformat.info/info/unicode/char/0eb4">U+0eb4</A>&nbsp;&nbsp;ິ&nbsp; LAO VOWEL SIGN I</DIV></LI>
<LI>
<DIV mce_keep="true"><A class="" href="http://www.fileformat.info/info/unicode/char/0eb5" mce_href="http://www.fileformat.info/info/unicode/char/0eb5">U+0eb5</A>&nbsp;&nbsp;ີ&nbsp; LAO VOWEL SIGN II</DIV></LI>
<LI>
<DIV mce_keep="true"><A class="" href="http://www.fileformat.info/info/unicode/char/0eb6" mce_href="http://www.fileformat.info/info/unicode/char/0eb6">U+0eb6</A>&nbsp;&nbsp;ຶ&nbsp; LAO VOWEL SIGN Y</DIV></LI>
<LI>
<DIV mce_keep="true"><A class="" href="http://www.fileformat.info/info/unicode/char/0eb7" mce_href="http://www.fileformat.info/info/unicode/char/0eb7">U+0eb7</A>&nbsp;&nbsp;ື&nbsp; LAO VOWEL SIGN YY</DIV></LI>
<LI>
<DIV mce_keep="true"><A class="" href="http://www.fileformat.info/info/unicode/char/0eb8" mce_href="http://www.fileformat.info/info/unicode/char/0eb8">U+0eb8</A>&nbsp;&nbsp;ຸ&nbsp; LAO VOWEL SIGN U</DIV></LI>
<LI>
<DIV mce_keep="true"><A class="" href="http://www.fileformat.info/info/unicode/char/0eb9" mce_href="http://www.fileformat.info/info/unicode/char/0eb9">U+0eb9</A>&nbsp;&nbsp;ູ&nbsp; LAO VOWEL SIGN UU</DIV></LI>
<LI>
<DIV mce_keep="true"><A class="" href="http://www.fileformat.info/info/unicode/char/0ec0" mce_href="http://www.fileformat.info/info/unicode/char/0ec0">U+0ec0</A>&nbsp;&nbsp;ເ&nbsp; LAO VOWEL SIGN E</DIV></LI>
<LI>
<DIV mce_keep="true"><A class="" href="http://www.fileformat.info/info/unicode/char/0ec1" mce_href="http://www.fileformat.info/info/unicode/char/0ec1">U+0ec1</A>&nbsp;&nbsp;ແ&nbsp; LAO VOWEL SIGN EI</DIV></LI>
<LI>
<DIV mce_keep="true"><A class="" href="http://www.fileformat.info/info/unicode/char/0ec2" mce_href="http://www.fileformat.info/info/unicode/char/0ec2">U+0ec2</A>&nbsp;&nbsp;ໂ&nbsp; LAO VOWEL SIGN O</DIV></LI>
<LI>
<DIV mce_keep="true"><A class="" href="http://www.fileformat.info/info/unicode/char/0ebb" mce_href="http://www.fileformat.info/info/unicode/char/0ebb">U+0ebb</A>&nbsp;&nbsp;ົ&nbsp; LAO VOWEL SIGN MAI KON</DIV></LI>
<LI>
<DIV mce_keep="true"><A class="" href="http://www.fileformat.info/info/unicode/char/0ec4" mce_href="http://www.fileformat.info/info/unicode/char/0ec4">U+0ec4</A>&nbsp;&nbsp;ໄ&nbsp; LAO VOWEL SIGN AI</DIV></LI>
<LI>
<DIV mce_keep="true"><A class="" href="http://www.fileformat.info/info/unicode/char/0ec3" mce_href="http://www.fileformat.info/info/unicode/char/0ec3">U+0ec3</A>&nbsp;&nbsp;ໃ&nbsp; LAO VOWEL SIGN AY</DIV></LI>
<LI>
<DIV mce_keep="true"><A class="" href="http://www.fileformat.info/info/unicode/char/0eb3" mce_href="http://www.fileformat.info/info/unicode/char/0eb3">U+0eb3</A>&nbsp;&nbsp;ຳ&nbsp; LAO VOWEL SIGN AM</DIV></LI>
<LI>
<DIV mce_keep="true"><A class="" href="http://www.fileformat.info/info/unicode/char/0eb1" mce_href="http://www.fileformat.info/info/unicode/char/0eb1">U+0eb1</A>&nbsp;&nbsp;ັ&nbsp; LAO VOWEL SIGN MAI KAN</DIV></LI>
<LI>
<DIV mce_keep="true"><A class="" href="http://www.fileformat.info/info/unicode/char/0ebc" mce_href="http://www.fileformat.info/info/unicode/char/0ebc">U+0ebc</A>&nbsp;&nbsp;ຼ&nbsp; LAO SEMIVOWEL SIGN LO</DIV></LI>
<LI>
<DIV mce_keep="true"><A class="" href="http://www.fileformat.info/info/unicode/char/0ebd" mce_href="http://www.fileformat.info/info/unicode/char/0ebd">U+0ebd</A>&nbsp;&nbsp;ຽ&nbsp; LAO SEMIVOWEL SIGN NYO</DIV></LI></UL>
<P mce_keep="true">The bug is an interesting one since the results are much worse when comparing sort keys via <A class="" href="http://msdn2.microsoft.com/library/ms776290.aspx" mce_href="http://msdn2.microsoft.com/library/ms776290.aspx">LCMapString</A> calls than via <A class="" href="http://msdn2.microsoft.com/library/ms647476.aspx" mce_href="http://msdn2.microsoft.com/library/ms647476.aspx">CompareString</A> calls, with the former producing embedded 0x00 byte values in the middle of the sort key while the latter simply produces results that are&nbsp;a bit&nbsp;off (most noticeable in huge sorted lists).</P>
<P mce_keep="true">Now since those early days everyone involved has progressed:</P>
<UL>
<UL>
<LI>
<DIV mce_keep="true">I did manage to get over my inferiority complex (upgrading my delusions of linguistic aptitude to notions thereof);</DIV></LI>
<LI>
<DIV mce_keep="true">the program manager who did this work in prior versions has proven to be&nbsp;simply amazing in newer roles;</DIV></LI>
<LI>
<DIV mce_keep="true">the program manager who didn't quite get it left the company (presumably for other reasons no matter how far reaching the affects of collation may be!);</DIV></LI>
<LI>
<DIV mce_keep="true">the other program manager who didn't quite get it found a job they did get where they are much happier;</DIV></LI>
<LI>
<DIV mce_keep="true">the tester proved&nbsp;to be&nbsp;a freaking Rembrandt;</DIV></LI>
<LI>
<DIV mce_keep="true">the later tester who picked up the area proved to also be quite the artist (and is the one who first reported this bug, over a year after Vista had shipped);</DIV></LI>
<LI>
<DIV mce_keep="true">the program manager who produced the data proved quite&nbsp;more than able&nbsp;to do many of the later collations with both skill and inspiration.</DIV></LI></UL></UL>
<P mce_keep="true">but the legacy of the not quite correct vowels and tones in Lao call out to me quite LAOdly....</P>
<P mce_keep="true">&nbsp;</P>
<P mce_keep="true"><EM><FONT color=#ff00ff>This blog sponsored by all of the above cited characters, not only in gratitude for the chance to be properly noticed in this new world but also </FONT></EM><EM><FONT color=#ff00ff>in the hope of future adjustments</FONT></EM></P>
<hr/><p><strong>John Durdin</strong> on 25 Feb 2008 2:45 AM:</p><div style="margin-left: 1em"><p>Conventions for sorting are probably still not fully accepted in Lao PDR, but sorting according to the rules given in Kerr's 1972 Lao-English Dictionary is widely followed. &nbsp;The algorithm is (primarily) phonetic, unlike Thai, which uses an orthographic sorting approach. &nbsp;From a user's perspective, it is much easier, since you can find a word in a dictionary without knowing how it is spelled. &nbsp;Most Thai university students do not use a dictionary effectively - if you don't know how the word is spelled, it can be quite hard to find it (and Thai, like English, has very irregular spelling). &nbsp;The problem with the Lao approach is that words (or text) *must* be split at syllable boundaries (reasonably well) before determining the sorting key for each syllable, which adds computational complexity, but can be done. </p></div>
<p><strong>Michael S. Kaplan</strong> on 25 Feb 2008 11:22 AM:</p><div style="margin-left: 1em"><p>We actually had the sorting figured out okay, just without the vowels there to act as secondary distinctions and the tones to act as tertiary distinctions, it doesn't work....</p>
</div>
<p><strong>Marc Durdin</strong> on 25 Feb 2008 5:39 PM:</p><div style="margin-left: 1em"><p>I'm not quite sure I can see how the sorting can even kinda work without taking each syllable as a whole. &nbsp;Do you work on a syllable-by-syllable basis?</p>
<p>Unless you take each syllable as a whole (initial consonant, final consonant, vowel, tone), the sorting just won't work. &nbsp;And because there can be ambiguity with final consonants and open syllables, you really need to split each syllable before sorting.</p></div>
<p><strong>Michael S. Kaplan</strong> on 25 Feb 2008 6:22 PM:</p><div style="margin-left: 1em"><p>Well, like I said it turns out it does not work, for the above stated reasons. But had those mistakes not been made, it would have.</p>
<p>And there is hope for the future, at least....</p>
</div>
<hr/><p><em>referenced by</em></p><div style="margin-left: 1em"><p>2010/05/06 <a href="http://archives.miloush.net/michkap/archive/2010/05/06/10006797.html">Dude! Not so Lao'd!</a></p><p>2010/04/17 <a href="http://archives.miloush.net/michkap/archive/2010/04/17/9997539.html">Sing. Sing a song. Sing it Lao'd (just in case the sort's still wrong!)</a></p></div><p><em>go to <a id="newer" href="http://archives.miloush.net/michkap/archive/2008/02/24/7864631.html" title="The idea has to do more than just make sense to me (aka How S-Sharp are *you* feeling today?)">newer</a> or <a id="older" href="http://archives.miloush.net/michkap/archive/2008/02/23/7850221.html" title="The triage process gives me hives">older</a> post, or back to <a href="http://archives.miloush.net/michkap/archive/index.html">index</a> or <a href="http://archives.miloush.net/michkap/archive/index.html#2008-02">month</a> or <a href="http://archives.miloush.net/michkap/archive/index.html#2008-02-23">day</a></em></p></body>
<!-- Mirrored from archives.miloush.net/michkap/archive/2008/02/23/7861817.html by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 25 May 2017 00:42:36 GMT -->
</html>