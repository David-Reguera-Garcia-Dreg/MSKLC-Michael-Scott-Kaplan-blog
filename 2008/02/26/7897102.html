<html>
<!-- Mirrored from archives.miloush.net/michkap/archive/2008/02/26/7897102.html by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 25 May 2017 00:42:36 GMT -->
<head><meta charset="utf-8" /><meta name="viewport" content="width=device-width" /><title>Making sure to TryParseReal, rather than TryParseImaginary (if you know what I mean)</title></head><body>
<h1>Making sure to TryParseReal, rather than TryParseImaginary (if you know what I mean)</h1>
<p><em>by Michael S. Kaplan, published on 2008/02/26 10:01 -05:00, original URI: http://blogs.msdn.com/b/michkap/archive/2008/02/26/7897102.aspx</em></p>
<hr/> <!-- Archival Source: ProcessPostNew -->
<P>Brian was once telling me about a meeting of various folks from the .NET Framework. Anders was there (yes, <EM><A class="" href="http://www.microsoft.com/presspass/exec/techfellow/Hejlsberg/default.mspx" mce_href="http://www.microsoft.com/presspass/exec/techfellow/Hejlsberg/default.mspx">that</A></EM> Anders!).</P>
<P>Anyway, the meeting started in the normal way but people found themselves&nbsp;rat-holing on some very obscure technical issues. It was spinning further and further out of control into scenarios that were very obscure, bordering on invented or even imaginary. It was easy to follow the logic if you were there, but otherwise this shared form of associative linkage would be impossible to grok.</P>
<P>Finally, Anders stopped everyone, and asked&nbsp;whether anyone knew precisely what was being discussed at the moment. There was an embarrassed pause, as everyone realized that no one did.</P>
<P>And then Anders ended the meeting.</P>
<P>Apropos of nothing, perhaps. But I'll let you decide. :-)</P>
<P>The unrelated question that&nbsp;Rags asked yesterday was straightforward enough:</P>
<BLOCKQUOTE>
<P><EM><FONT face="times new roman,times">DateTime.ParseExact (apparently) does a case-insensitive comparison of the names of the days and months. Is there a way to make it do case-sensitive comparison?<BR><BR>I’m dealing with parsing of date time strings given in RFC 1123 format. I use DateTime.ParseExact &amp; pass ‘R’ to the format string to indicate RFC1123Pattern for date time format. However the following string is being considered as valid even though it’s invalid because the name of the day is case-sensitive (&amp; must be Sun not SUN) according to RFC.<BR><BR>"SUN, 06 Nov 1994 08:49:37 GMT"<BR><BR>Thanks</FONT></EM></P></BLOCKQUOTE>
<P>Malcolm stepped up with some information from the referenced standard that helped understand the urgency of the request:</P>
<BLOCKQUOTE>
<P><FONT face="times new roman,times">RFC 822, which RFC 1123 references re Date/Time formats, specifically states:<BR><BR>&lt;&lt;<BR>3.4.7.&nbsp; CASE INDEPENDENCE<BR><BR></FONT><FONT face="times new roman,times">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Except as noted, alphabetic strings may be represented in any<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; combination of upper and lower case.<BR>...<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; When matching any other syntactic unit, case is to be ignored.<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; For&nbsp; example, the field-names "From", "FROM", "from", and even<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; "FroM" are semantically equal and should all be treated ident-<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ically.<BR>&gt;&gt;</FONT></P></BLOCKQUOTE>
<P>Ah good, so that takes care of that. :-)</P>
<P>Or maybe not? </P>
<P>Rags replied back:</P>
<BLOCKQUOTE>
<P><A href="http://www.w3.org/Protocols/rfc2616/rfc2616-sec3.html#sec3.3"><FONT face="times new roman,times"><EM>http://www.w3.org/Protocols/rfc2616/rfc2616-sec3.html#sec3.3</EM></FONT></A><FONT face="times new roman,times"><EM> states the following in the context of HTTP<BR><BR>All HTTP date/time stamps MUST be represented in Greenwich Mean Time (GMT), without exception. For the purposes of HTTP, GMT is exactly equal to UTC (Coordinated Universal Time). This is indicated in the first two formats by the inclusion of "GMT" as the three-letter abbreviation for time zone, and MUST be assumed when reading the asctime format. HTTP-date is case sensitive and MUST NOT include additional LWS beyond that specifically included as SP in the grammar. <BR><BR>Thanks</EM></FONT></P></BLOCKQUOTE>
<P>Let's pretend that RFC1123 and RFC2616 are tied together despite no such reference and that RFC1123 and RFC822 are not despite having one, and then take this one around the dancefloor three times. :-)</P>
<P>Well, if one calls <A class="" href="http://msdn2.microsoft.com/library/system.datetime.parseexact.aspx" mce_href="http://msdn2.microsoft.com/library/system.datetime.parseexact.aspx">DateTime.ParseExact</A> then one will have a <A class="" href="http://msdn2.microsoft.com/library/system.datetime.aspx" mce_href="http://msdn2.microsoft.com/library/system.datetime.aspx">DateTime</A>.</P>
<P>One could take that <A class="" href="http://msdn2.microsoft.com/library/system.datetime.aspx" mce_href="http://msdn2.microsoft.com/library/system.datetime.aspx">DateTime</A>&nbsp;and then&nbsp;then turn around and call <A class="" href="http://msdn2.microsoft.com/library/zdtaw1bw.aspx" mce_href="http://msdn2.microsoft.com/library/zdtaw1bw.aspx">DateTime.ToString("R")</A> on it.</P>
<P>And then compare the resulting string to the original one before the parse, using whatever means one wishes to use!</P>
<P>I would definitely recommend against an Ordinal comparison here, since <STRONG>út</STRONG> (<A class="" href="http://www.fileformat.info/info/unicode/char/00fa" mce_href="http://www.fileformat.info/info/unicode/char/00fa">U+00fa</A> <A class="" href="http://www.fileformat.info/info/unicode/char/0074" mce_href="http://www.fileformat.info/info/unicode/char/0074">U+0074</A>) == <STRONG>út</STRONG> (<A class="" href="http://www.fileformat.info/info/unicode/char/0075" mce_href="http://www.fileformat.info/info/unicode/char/0075">U+0075</A> <A class="" href="http://www.fileformat.info/info/unicode/char/0301" mce_href="http://www.fileformat.info/info/unicode/char/0301">U+0301</A> <A class="" href="http://www.fileformat.info/info/unicode/char/0074" mce_href="http://www.fileformat.info/info/unicode/char/0074">U+0074</A>) thanks to Unicode canonical equivalence, and you would almost certainly want them to be considered equal to each other. Since they are meant to be considered equal to each other.</P>
<P>If you wanted to use Ordinal comparisons in spite of all that, you could always normalize the strings, I suppose....</P>
<P>Of course that seems like a lot of work, but then that's what artificial requirements often bring to the party.</P>
<P>I am going to take this opportunity to point out that we are so far from the original scenario that the methods may as well be called <STRONG>TryParseImaginary</STRONG> and <STRONG>ToStringFictional</STRONG>. The blog (though not the Blog) has lost sight of what it is trying to say.</P>
<P>And although I'm not Anders<FONT size=1><SUP>1</SUP></FONT>, I am now going to thank you all for reading this far, and end the blog post.</P>
<P mce_keep="true">&nbsp;</P>
<P><FONT size=1>1 - Well, I suppose I could claim that by virtue of being the owner and sole author of SiaO that I am the Chairman, CEO, COO, CTO, CFO, VP, TF, and DE of the entire Blog, but that is really kind of silly, you know? :-)</FONT></P>
<P mce_keep="true">&nbsp;</P>
<P><FONT color=#ff00ff><EM>This blog brought to you by</EM><FONT size=5> ú </FONT><EM>(<A class="" href="http://www.fileformat.info/info/unicode/char/00fa" mce_href="http://www.fileformat.info/info/unicode/char/00fa">U+00fa</A>, aka LATIN SMALL LETTER U WITH ACUTE)</EM></FONT></P>
<hr/><div style="margin-left: 1em"><em>no comments</em></div><hr/><p><em>go to <a id="newer" href="http://archives.miloush.net/michkap/archive/2008/02/26/7898303.html" title="Learn Tamil in 30 Days (or something like that)">newer</a> or <a id="older" href="http://archives.miloush.net/michkap/archive/2008/02/25/7893424.html" title="What the #$!*&amp; is a KeyboardLayoutId, anyway?">older</a> post, or back to <a href="http://archives.miloush.net/michkap/archive/index.html">index</a> or <a href="http://archives.miloush.net/michkap/archive/index.html#2008-02">month</a> or <a href="http://archives.miloush.net/michkap/archive/index.html#2008-02-26">day</a></em></p></body>
<!-- Mirrored from archives.miloush.net/michkap/archive/2008/02/26/7897102.html by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 25 May 2017 00:42:36 GMT -->
</html>