<html>
<!-- Mirrored from archives.miloush.net/michkap/archive/2008/12/02/9163572.html by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 25 May 2017 00:42:35 GMT -->
<head><meta charset="utf-8" /><meta name="viewport" content="width=device-width" /><title>IsCrAndLfComplex or what?</title></head><body>
<h1>IsCrAndLfComplex or what?</h1>
<p><em>by Michael S. Kaplan, published on 2008/12/02 03:01 -05:00, original URI: http://blogs.msdn.com/b/michkap/archive/2008/12/02/9163572.aspx</em></p>
<hr/> <!-- Archival Source: ProcessPostNew -->
<p>The question from the other day from Patrick was:</p><blockquote><p><i><font face="times new roman,times">I have a class defined as <br>&nbsp;&nbsp;&nbsp; public class Foo<br>&nbsp;&nbsp;&nbsp; {<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; private string name = "a\r\nb\r\nc";<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; public string Name<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; get { return this.name; }<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; set { this.name = value; }<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }<br>&nbsp;&nbsp;&nbsp; }<br><br>When I push object foo:Foo into a property grid control. It's showing empty squares for \r\n. Something like</font></i></p><p><i><font face="times new roman,times"><img src="http://trigeminal.fmsinc.com/images/csgrid01.png" title="a grid with boxes" alt="a grid with boxes" mce_src="http://trigeminal.fmsinc.com/images/csgrid01.png" width="214" height="105"></font></i></p><p><i><font face="times new roman,times">This only happens in one of my XP machines. It does not happen in the other XP machine and a Vista machine I have (ie they're showing fine <img src="http://trigeminal.fmsinc.com/images/csgrid02.png" title="grid without boxes" alt="grid without boxes" mce_src="http://trigeminal.fmsinc.com/images/csgrid02.png" width="157" height="57">).</font></i></p><p><i><font face="times new roman,times">anyone has idea why this happen? I am suspecting it's an OS language setting issue...</font></i></p></blockquote><p>Well, Patrick's instincts are pretty good here!</p><p>Just as we learned when dealing with vertical text (ref: <b><a href="http://archives.miloush.net/michkap/archive/2008/05/12/8490406.html" mce_href="http://archives.miloush.net/michkap/archive/2008/05/12/8490406.html">What happens when you involve an unenabled Uniscribe with vertical text, given that Uniscribe doesn't handle vertical text?</a></b>) and Unicode control characters like the RIGHT TO LEFT MARKER (ref: <b><a href="http://archives.miloush.net/michkap/archive/2006/12/11/1262690.html" mce_href="http://archives.miloush.net/michkap/archive/2006/12/11/1262690.html">IsComplexEnoughForYou?</a></b>), it turns out that sometimes even some of the most seemingly non-complex of all of the characters out there (the CARRIAGE RETURN and the LINE FEED) can depend on the special handling provided by Uniscribe handling.</p><p>When the checkbox in the middle tab of Regional and Language Options:</p><p><img src="http://trigeminal.fmsinc.com/images/RLO_Tab2.jpg" title="RLO" alt="RLO" mce_src="http://trigeminal.fmsinc.com/images/RLO_Tab2.jpg" width="404" border="0" height="478">&nbsp;</p><p>The one that says <b>I<u>n</u>stall files for complex script and right-po-left languages (including Thai)</b> on it, you know?</p><p>It is really saying "turn on Uniscribe in lots of the default handling of text" whether it is Uniscribe or not!</p><p>In the end, it is fair to say that this description of "complex scripts" really gets worse all the time, it really does.<br></p><p>Thankfully we don't need to fix it since in Vista the option is no longer available to turn off -- it is always there....</p><p>But how intuitive is it to think of CR and LF as complex script characters? :-)</p><p>&nbsp;</p><p><i><font color="#ff00ff">This blog brought to you by</font><font color="#ff00ff"> <a href="http://www.fileformat.info/info/unicode/char/0013" mce_href="http://www.fileformat.info/info/unicode/char/0013">U+0013</a> and <a href="http://www.fileformat.info/info/unicode/char/0010" mce_href="http://www.fileformat.info/info/unicode/char/0010">U+0010</a>, aka CARRIAGE RETURN and LINE FEED</font></i><br></p>
<hr/><div style="margin-left: 1em"><em>no comments</em></div><hr/><p><em>referenced by</em></p><div style="margin-left: 1em"><p>2011/08/31 <a href="http://archives.miloush.net/michkap/archive/2011/08/31/10203390.html">And then, the unrelated KB article fixes the problem...</a></p><p>2010/03/25 <a href="http://archives.miloush.net/michkap/archive/2010/03/25/9982164.html">Q: Why do the small black squares disappear? Hint: The answer isn't complicated, it's complex...</a></p></div><p><em>go to <a id="newer" href="http://archives.miloush.net/michkap/archive/2008/12/02/9166557.html" title="From I SCOOT to IBOT, #7 of ?? (Unintended movement of the joystick will result in unintended movement of the product)">newer</a> or <a id="older" href="http://archives.miloush.net/michkap/archive/2008/11/27/9148204.html" title="From I SCOOT to IBOT, #6 of ?? (The cost of standing still?)">older</a> post, or back to <a href="http://archives.miloush.net/michkap/archive/index.html">index</a> or <a href="http://archives.miloush.net/michkap/archive/index.html#2008-12">month</a> or <a href="http://archives.miloush.net/michkap/archive/index.html#2008-12-02">day</a></em></p></body>
<!-- Mirrored from archives.miloush.net/michkap/archive/2008/12/02/9163572.html by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 25 May 2017 00:42:35 GMT -->
</html>