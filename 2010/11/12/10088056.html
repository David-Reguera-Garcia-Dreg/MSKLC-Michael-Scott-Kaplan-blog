<html>
<!-- Mirrored from archives.miloush.net/michkap/archive/2010/11/12/10088056.html by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 25 May 2017 00:42:34 GMT -->
<head><meta charset="utf-8" /><meta name="viewport" content="width=device-width" /><title>Suddenly, in a bit more time than a blink of an eye, "standards support" becomes "less i18n support"</title></head><body>
<h1>Suddenly, in a bit more time than a blink of an eye, "standards support" becomes "less i18n support"</h1>
<p><em>by Michael S. Kaplan, published on 2010/11/12 07:01 -05:00, original URI: http://blogs.msdn.com/b/michkap/archive/2010/11/12/10088056.aspx</em></p>
<hr/> <!-- Archival Source: ProcessPostNew -->
<p>Over the years I've had a lot to say about <strong>Digit Substitution</strong>, the feature so widely used in so many of the bidirectional scripts and the scripts of South Asia:</p>
<ul>
<li>December 1, 2004: <a href="http://archives.miloush.net/michkap/archive/2004/12/01/272864.html" title="Crossing the &amp;lt;b&amp;gt;DIGIT&amp;lt;/b&amp;gt;al divide..."><strong>Crossing the &lt;b&gt;DIGIT&lt;/b&gt;al divide...</strong></a></li>
<li>April 24, 2005: <a href="http://archives.miloush.net/michkap/archive/2005/04/24/411329.html" title="Is Whidbey's international support finished?'"><strong>Is Whidbey's international support finished?</strong></a></li>
<li>July 9, 2005: <a href="http://archives.miloush.net/michkap/archive/2005/07/09/437071.html" title="Why doesn't FoldString take an LCID?"><strong>Why doesn't FoldString take an LCID?</strong></a></li>
<li>September 9, 2005: <a href="http://archives.miloush.net/michkap/archive/2005/09/09/462920.html" title="Figuring out when digit substitution is applied"><strong>Figuring out when digit substitution is applied</strong></a></li>
<li>January 18, 2006: <a href="http://archives.miloush.net/michkap/archive/2006/01/18/514171.html" title="Digits -- there is no substitute"><strong>Digits -- there is no substitute</strong></a></li>
<li>February 22, 2006: <a href="http://archives.miloush.net/michkap/archive/2006/02/22/536877.html" title="And the digits just keep on coming"><strong>And the digits just keep on coming</strong></a></li>
<li>April 26, 2006: <a href="http://archives.miloush.net/michkap/archive/2006/04/26/583390.html" title="How to NOT Parse Unicode Digits, or How to: Parse Unicode Digits... NOT!"><strong>How to NOT Parse Unicode Digits, or How to: Parse Unicode Digits... NOT!</strong></a></li>
<li>June 18, 2006: <a href="http://archives.miloush.net/michkap/archive/2006/06/18/636180.html" title="The Phantom of the Digits"><strong>The Phantom of the Digits</strong></a></li>
<li>June 19, 2006: <a href="http://archives.miloush.net/michkap/archive/2006/06/19/636785.html" title="Correct? Intuitive? Both? Neither?"><strong>Correct? Intuitive? Both? Neither?</strong></a></li>
<li>February 14, 2007: <a href="http://archives.miloush.net/michkap/archive/2007/02/14/1675303.html" title="Nothing seems to be parsing the crap out of *this* number"><strong>Nothing seems to be parsing the crap out of *this* number</strong></a></li>
<li>February 19, 2007: <a href="http://archives.miloush.net/michkap/archive/2007/02/19/1713911.html" title="Ever wonder why no one bothers to fold digits?"><strong>Ever wonder why no one bothers to fold digits?</strong></a></li>
<li>March 29, 2008: <a href="http://archives.miloush.net/michkap/archive/2008/03/29/8342675.html" title="Somehow I just get a Visual of the Logical Song (as sung by Supertramp)"><strong>Somehow I just get a Visual of the Logical Song (as sung by Supertramp)</strong></a></li>
<li>August 4, 2008: <a href="http://archives.miloush.net/michkap/archive/2008/08/04/8823327.html" title="Tap your heels together three times and the problem is solved?"><strong>Tap your heels together three times and the problem is solved?</strong></a></li>
<li>April 21, 2008: <a href="http://archives.miloush.net/michkap/archive/2008/04/21/8413510.html" title="Windows doesn't let you choose the pinch hitter in digit substitution cases"><strong>Windows doesn't let you choose the pinch hitter in digit substitution cases</strong></a></li>
<li>April 21, 2008: <a href="http://archives.miloush.net/michkap/archive/2008/04/21/8413627.html" title="The pros and cons of context, aka CONTEXT is a four-letter-word"><strong>The pros and cons of context, aka CONTEXT is a four-letter-word</strong></a></li>
<li>June 16,2008: <a href="http://archives.miloush.net/michkap/archive/2008/06/16/8603298.html" title="Sometimes, GDI respects users (even if no one else does!)"><strong>Sometimes, GDI respects users (even if no one else does!)</strong></a></li>
<li>June 25, 2008: <a href="http://archives.miloush.net/michkap/archive/2008/06/25/8650800.html" title="So logical that even Mr. Spock (and my fianc&amp;eacute;e?) would approve"><strong>So logical that even Mr. Spock (and my fianc&eacute;e?) would approve</strong></a></li>
<li>September 15, 2008: <a href="http://archives.miloush.net/michkap/archive/2008/09/15/8951496.html" title="Hi, I'm a PC. And I have a MAC. Wait, isn't that backwards? No worries, we're talking Bidi here!"><strong>Hi, I'm a PC. And I have a MAC. Wait, isn't that backwards? No worries, we're talking Bidi here!</strong></a></li>
<li>October 2, 2008: <a href="http://archives.miloush.net/michkap/archive/2008/10/02/8971896.html" title="When swimming in a sea of CONTEXT, applications can drown (and there is no lifeguard)"><strong>When swimming in a sea of CONTEXT, applications can drown (and there is no lifeguard)</strong></a></li>
<li>January 18, 2010: <a href="http://archives.miloush.net/michkap/archive/2010/01/18/9949627.html" title="Yet another digit substitution[.Net] problem"><strong>Yet another digit substitution[.Net] problem</strong></a></li>
</ul>
<p>and so on.</p>
<p>I think this is most of them.</p>
<p>Most of these blogs have talked about the times that <strong>Digit Substitution</strong> isn't doing what you might expect, or isn't doing what the people designing&nbsp;it intended, or violates the claims and/or implied behavior in the documentation, or is just plain&nbsp;broken.</p>
<p>But when one considers how long this feature has been around, it really seems unlikely that anyone could ever simply dump the functionality and act like it isn't there or doesn't exist, 1984 "Oceania has always been at war with Eurasia" style, right?</p>
<p>Actually, as it turns out, this kind of assumption would be wrong.</p>
<p>In a bold push to prove how conformant the last two versions of Internet Explorer -- IE 8 and IE 9 -- (present in, respectively, <a href="http://www.microsoft.com/windows/internet-explorer/worldwide-sites.aspx">shipping</a> and widely available <a href="http://www.microsoft.com/windows/internet-explorer/default.aspx">in beta form</a>) truly is, support for <strong>Digit Substitution</strong> is not there so much, any more.</p>
<p>Because there is not such a feature in the HTML standard (HTML5 or any other version).</p>
<p>Other browsers like FireFox don't support the idea, either (since their installer is still user locale based for installer UI localization, they are not a model I trust for international even outside the lameness that is international support in HTML they follow, but alas I digress).</p>
<p>Now you can specify you want things the old way that follows Regional and Languge Options and its <strong>Digit Substitution</strong> settings with a meta tag, like the below HTML snippet:</p>
<p style="padding-left: 60px;">&lt;!DOCTYPE HTML&gt;<br />&lt;html&gt;<br />&lt;head&gt;<br />&nbsp;&nbsp;&nbsp; &lt;meta http-equiv="X-UA-Compatible" content="IE=7" &gt;<br />&lt;/head&gt;<br />&lt;body&gt;<br />&lt;p&gt;0123456789&lt;/p&gt;<br />&lt;/body&gt;<br />&lt;/html&gt;</p>
<p>That content note -- 5 or 7 will give you <strong>Digit Substitution</strong>, and 8 or 9 will not. </p>
<p>Note that if you don't have that meta tag&nbsp;(most pages won't) then it will <em>usually</em> use the same as the browser version, though there are interesting and not-very-well-documented exceptions I found, like in HTML file opened from local or network paths, for example. I can't claim I have found anything reliable <strong>except</strong> when I specify things. I guess <strong>Unspecified behavior&nbsp;seems to be&nbsp;unspecified</strong> might provide us all with as bit of irony here....</p>
<p>On this blog, where I have very little control over the per-page meta tags and headers, I cannot really control what this behavior will be on pages.</p>
<p>I had better show this a little, so here follows some art....</p>
<p>First set the <strong>Format</strong> to Arabic (Saudi Arabia) and hit the A<span style="text-decoration: underline;">d</span>ditional settings button:</p>
<p><img src="http://trigeminal.fmsinc.com/images/digit01.png" border="0" /></p>
<p>When that other dialog comes up, set the <strong>Use native digits</strong> control to "National":</p>
<p><img src="http://trigeminal.fmsinc.com/images/digit02.png" border="0" /></p>
<p>hit OK out of both dialogs, and then the fun begins!</p>
<p>You can see the difference between when that compatibility setting is <strong>5</strong>:</p>
<p><img src="http://trigeminal.fmsinc.com/images/digit04.png" border="0" /></p>
<p>and when it is 8:</p>
<p><img src="http://trigeminal.fmsinc.com/images/digit03.png" border="0" /></p>
<p>You clearly&nbsp;see <strong>Digit Substitution</strong> in Internet Explorer being tied to the support of version-specific behavior and standards mode and all the rest of the work in IE.</p>
<p>Suddenly, in a bit&nbsp;more time than a blink of an eye,&nbsp;"standards support" becomes "less Internationalization support"....</p>
<p><em>Though there are some related features like the "list-style-type" style that can be applied to ordered lists (the OL element) -- features that require specific opt-in by the author of the web content and the user's preferences have no impact upon it&nbsp;(other than by choosing a browser that doesn't support a given "list-style-type" since the full available list of each browser varies, I mean).</em></p>
<p>I am still deciding how I feel about all of this.</p>
<p>Part of me feels okay about this, given all of the weirdnesses I have been pointing out for years. There are clearly some very real flaws with this feature.</p>
<p>But on balance I consider the following:</p>
<ul>
<li>the <strong>Digit Substitution</strong> behavior has been around in one form or another on Windows for over 15 years, and</li>
<li>many of the keyboards (e.g. all 3 Arabic keyboards, Persian, Sinhala, Urdu, and Uyghur)&nbsp;of these various languages with alternate digits don't have the digits on them since this feature makes it seem like they are there, and</li>
<li>the Arabic Windows keyboard (cp1256) itself doesn't have digits (for pretty much the same reasons), and</li>
<li>users can have between 5 and 15 years of experience with typing ASCI digits and getting their National ones, with no idea how to type them in any other way even if the keyboard as the keys assigned somewhere on them, and</li>
<li>the formatting code in Windows does not ever even use National digits because this feature keeps it from having to, and</li>
<li>neither the formatting nor the parsing code in .Net have ever even used National digits (for much the same reasons), and</li>
<li>users have been dealing with the good and the bad of this feature all along;</li>
</ul>
<p>and suddenly I don't feel&nbsp;so good.</p>
<p>Given all of the consequences implicit in the above,&nbsp;having this change in the latest version of Internet Explorer and in a public beta of the next version, when no conversations happened among so many of the stakeholders of the functionality, seems to me to be a little unfortunate....</p>
<p>Especially with web apps becoming more and more popular as they become more sophisticated and able to give richer experiences, losing this particular rich experience may not be so pleasant for some users. Users who LIKE that support.</p>
<p>But maybe that is just me being oversensitive, as one of those stakeholders.</p>
<p>Maybe Windows and the .Net Framework should beef up their parsing and formatting support to work in this new world where you may no longer get your numbers, even if you ask for them....</p>
<p><em><span style="color: #ff0000;"><strong>Note to .Net and Windows globalization people (you know who you are!): you may be hearing from me sometime soon about this!</strong></span></em></p>
<hr/><p><strong>John Cowan</strong> on 12 Nov 2010 7:57 AM:</p><div style="margin-left: 1em"><p>So what happens when there is a U+206E in the text that IE is rendering? &nbsp;Does it have effect, and if so, what effect?</p>
</div>
<p><strong>Michael S. Kaplan</strong> on 12 Nov 2010 8:28 AM:</p><div style="margin-left: 1em"><p>Unknown -- though the general disdain for the Cf characters in markup situations might have made them less interested in doing much here (and of course U+206e -- aka NATIONAL DIGIT SHAPES -- is also not on any keyboard and is not documented as a way to do digit substitution, either)....</p>
</div>
<hr/><p><em>referenced by</em></p><div style="margin-left: 1em"><p>2012/05/04 <a href="http://archives.miloush.net/michkap/archive/2012/05/04/10300975.html">You know, it isn't always about us...</a></p><p>2012/04/16 <a href="http://archives.miloush.net/michkap/archive/2012/04/16/10293962.html">‎١‎, ‎٢‎, ‎٣‎ o'clock, ‎٤‎ o'clock digit substitution...</a></p><p>2012/04/12 <a href="http://archives.miloush.net/michkap/archive/2012/04/12/10292952.html">The evolving Story of Locale Support, part 22: Digit Substitution 2.0</a></p><p>2011/05/12 <a href="http://archives.miloush.net/michkap/archive/2011/05/12/10163685.html">It will take putting NADS out in front to make a diference</a></p><p>2011/03/31 <a href="http://archives.miloush.net/michkap/archive/2011/03/31/10148063.html">"Digit substitution is maybe a tolerable hack for displaying UI, but it’s definitely bad if you’re creating content."</a></p></div><p><em>go to <a id="newer" href="http://archives.miloush.net/michkap/archive/2010/11/13/10090513.html" title="A lot of LIPs for South Africa!">newer</a> or <a id="older" href="http://archives.miloush.net/michkap/archive/2010/11/11/10089227.html" title="At long last, it&#39;s Sinhala time!">older</a> post, or back to <a href="http://archives.miloush.net/michkap/archive/index.html">index</a> or <a href="http://archives.miloush.net/michkap/archive/index.html#2010-11">month</a> or <a href="http://archives.miloush.net/michkap/archive/index.html#2010-11-12">day</a></em></p></body>
<!-- Mirrored from archives.miloush.net/michkap/archive/2010/11/12/10088056.html by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 25 May 2017 00:42:34 GMT -->
</html>