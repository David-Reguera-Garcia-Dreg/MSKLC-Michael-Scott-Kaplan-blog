<html>
<!-- Mirrored from archives.miloush.net/michkap/archive/2010/03/06/9972239.html by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 25 May 2017 00:42:35 GMT -->
<head><meta charset="utf-8" /><meta name="viewport" content="width=device-width" /><title>Burn Windows Burn (aka If we want to unsay *this* one, we cannot say "Mu")</title></head><body>
<h1>Burn Windows Burn (aka If we want to unsay *this* one, we cannot say "Mu")</h1>
<p><em>by Michael S. Kaplan, published on 2010/03/06 07:01 -05:00, original URI: http://blogs.msdn.com/b/michkap/archive/2010/03/06/9972239.aspx</em></p>
<hr/> <!-- Archival Source: ProcessPostNew -->
<P><EM><FONT color=#ff0000 size=3>This blog was written by a chap named Alan Smithee....</FONT></EM></P>
<P>The use of <STRONG>Mu</STRONG> as a way to make it as if one had not said something is widely known (required Wikipedia reference <A href="http://en.wikipedia.org/wiki/Mu_(negative)" mce_href="http://en.wikipedia.org/wiki/Mu_(negative)">here</A>).</P>
<P>But in noting a particular reported bug and wanting to "unsay" it or somehow make it as if the bug was not unleashed upon the populace, I found a time where I could not say Mu.</P>
<P>Which is just as well since I cannot "fix" the bug in the version where it exists.</P>
<P>Even though it was fixed shortly thereafter.</P>
<P>Wait.</P>
<P>Maybe I should tell the whole story.</P>
<P>Not too long ago, John asked via the Contact link:</P>
<BLOCKQUOTE>
<P><FONT face="times new roman,times">Hello!</FONT></P>
<P><FONT face="times new roman,times">I'm not sure if this is the best place to leave a message of this kind, however after wandering aimlessly through the web (and less so through your blog :-) I figured it was as good a place as any.</FONT></P>
<P><FONT face="times new roman,times">A couple of years back I arrived at your blog having "discovered" Vista's German dictionary/phonebook (of the letter ü/Ü) sort order bug (</FONT><A href="http://archives.miloush.net/michkap/archive/2007/09/08/4831056.html"><FONT face="times new roman,times">http://blogs.msdn.com/michkap/archive/2007/09/08/4831056.aspx</FONT></A><FONT face="times new roman,times">)</FONT></P>
<P><FONT face="times new roman,times">Now, a couple of years and a few more dictionaries later, I seem to have run into another problem. However this one doesn't seem to be documented anywhere (at least none of my many dozens of searches with Google/Bing/Yahoo were able to turn up any hint of this).</FONT></P>
<P><FONT face="times new roman,times">The problem? When sorting Greek words the sort order for the Capital Letter Mu (Μ) is wrong! Basically what is happening is that the letter Μ (under Vista) is being sorted *after* the small letter μ. Curiously *only* the letter Μ is affected, and this change was introduced in Vista (sort order in XP is unaffected).</FONT></P>
<P><FONT face="times new roman,times">I don't suppose you're aware of this problem? And if you are, do you know of any way to *fix* it? The German ü/Ü problem was (fairly) easily fixed by considering the ü as "ue" (the apps in question are not unicode aware, so I couldn't make use of the original solution mentioned in the blog). But for this problem in Greek...</FONT></P>
<P><FONT face="times new roman,times">If the problem were limited to the initial letter it may not be too difficult to come up with a hacked solution, but the problem also affects abbreviations e.g. sort order in XP:</FONT></P>
<P><FONT face="times new roman,times">άλωση<BR>αλώσιμος<BR>Α.Μ.<BR>άμα<BR>αμαγείρευτος</FONT></P>
<P><FONT face="times new roman,times">and in Vista</FONT></P>
<P><FONT face="times new roman,times">αμφοτέρωθεν<BR>άμωμος<BR>Α.Μ.<BR>αν<BR>ανά</FONT></P>
<P><FONT face="times new roman,times">I'm not going to hold my breath for a solution to this problem, but at the least it might make for a new blog article one day :-)</FONT></P>
<P><FONT face="times new roman,times">Many thanks for listening,<BR>John</FONT></P></BLOCKQUOTE>
<P>Interesting question, that -- not just for its own sake, but the words themselves!</P>
<P>I'll explain what I mean.</P>
<P>It is this&nbsp;statement in particular:</P>
<BLOCKQUOTE>
<P><STRONG>Basically what is happening is that the letter Μ (under Vista) is being sorted *after* the small letter μ</STRONG></P></BLOCKQUOTE>
<P>Now all linguistic collations on Windows and .Net other than the Hungarian technical sort (described in <A href="http://archives.miloush.net/michkap/archive/2005/11/26/495072.html" mce_href="http://archives.miloush.net/michkap/archive/2005/11/26/495072.html"><STRONG>Technically it *is* a hungarian sort</STRONG></A>) sort with the lowercase letters before the uppercase ones (as I mention in <A href="http://archives.miloush.net/michkap/archive/2005/11/13/492179.html" mce_href="http://archives.miloush.net/michkap/archive/2005/11/13/492179.html"><STRONG>Which comes first, 'a' or 'A' ?</STRONG></A>).</P>
<P>So with an observation like John's I was at first confused -- the capital letters are <STRONG>always</STRONG> after the small ones. That is their weight.</P>
<P>But then I saw what he was talking about -- the small and the capital, which should have a tertiary (case) distinction (ref: <A href="http://archives.miloush.net/michkap/archive/2007/09/13/4889199.html" mce_href="http://archives.miloush.net/michkap/archive/2007/09/13/4889199.html"><STRONG>here</STRONG></A>) have a primary distinction. As if they were entirely different letters. Looking at the underlying weights:</P>
<BLOCKQUOTE>
<P><FONT face="consolas,lucida console,courier new,courier,FIXED"><STRONG>0x03bb&nbsp;15&nbsp;22&nbsp;2&nbsp;2&nbsp; ;Greek Small Lambda<BR>0x039b&nbsp;15&nbsp;22&nbsp;2&nbsp;18&nbsp;;Greek Capital Lambda<BR>0x03bc&nbsp;15&nbsp;24&nbsp;2&nbsp;2&nbsp; ;Greek Small Mu<BR>0x039c&nbsp;15&nbsp;<FONT color=#ff0000>26</FONT>&nbsp;2&nbsp;18&nbsp;;Greek Capital Mu<BR>0x03bd&nbsp;15&nbsp;28&nbsp;2&nbsp;2&nbsp; ;Greek Small Nu<BR>0x039d&nbsp;15&nbsp;28&nbsp;2&nbsp;18&nbsp;;Greek Capital Nu</STRONG></FONT></P></BLOCKQUOTE>
<P>you can see the problem. Well I was wrong -- there is a tertiary distinctioin (the 2 vs. 18) thing. But I was also right in that there is a primary distinction (the 24 vs. 26 thing).</P>
<P>This problem is definitely a bug.</P>
<P>Luckily it was fixed in Server 2008 and is correct in all versions after that too (Windows 7 and Server 2008 R2). The new weights:</P>
<BLOCKQUOTE>
<P><FONT face="consolas,lucida console,courier new,courier,FIXED"><STRONG>0x03bb&nbsp;15&nbsp;22&nbsp;2&nbsp;2&nbsp; ;Greek Small Lambda<BR>0x039b&nbsp;15&nbsp;22&nbsp;2&nbsp;18&nbsp;;Greek Capital Lambda<BR>0x03bc&nbsp;15&nbsp;24&nbsp;2&nbsp;2&nbsp; ;Greek Small Mu<BR>0x039c&nbsp;15&nbsp;24&nbsp;2&nbsp;18&nbsp;;Greek Capital Mu<BR>0x03bd&nbsp;15&nbsp;28&nbsp;2&nbsp;2&nbsp; ;Greek Small Nu<BR>0x039d&nbsp;15&nbsp;28&nbsp;2&nbsp;18&nbsp;;Greek Capital Nu</STRONG></FONT></P></BLOCKQUOTE>
<P>This is not great comfort if you are using Vista of course, even if I were able to say <STRONG>Mu</STRONG> to unsay this one (which I can't, for multiple reasons), but this could be&nbsp;yet another&nbsp;good reason to consider an upgrade. :-)</P>
<hr/><p><strong>Mihai</strong> on 8 Mar 2010 10:36 AM:</p><div style="margin-left: 1em"><p>There are other funny things about Hungarian technical sort when mixing the wide versions of the characters.</p>
<p>Below I will use the wide versions (U+FF21 and U+FF41) at left, and regular versions (U+0041 &amp; U+0061) at right.</p>
<p>hu-HU_technl:</p>
<p> &nbsp; ａ &lt; a</p>
<p> &nbsp; ａ &gt; A</p>
<p> &nbsp; Ａ &gt; A</p>
<p> &nbsp; Ａ &gt; a</p>
<p>Ignore NORM_IGNOREWIDTH:</p>
<p> &nbsp; ａ &lt; a</p>
<p> &nbsp; ａ == A</p>
<p> &nbsp; Ａ == a</p>
<p> &nbsp; Ａ &gt; A</p>
<p>hu-HU seem to behave as expected.</p>
<p>(All on Win 7)</p></div>
<hr/><p><em>referenced by</em></p><div style="margin-left: 1em"><p>2010/03/09 <a href="http://archives.miloush.net/michkap/archive/2010/03/09/9975184.html">Coloring outside the lines in the a-ness of the Hungarian Technical Sort</a></p></div><p><em>go to <a id="newer" href="http://archives.miloush.net/michkap/archive/2010/03/07/9972623.html" title="Farsi? Persian? You&#39;ll be getting some LIP about it either way">newer</a> or <a id="older" href="http://archives.miloush.net/michkap/archive/2010/03/05/9971222.html" title="For the Swedish Chef, March comes in like a Bork and goes out like a Bork...">older</a> post, or back to <a href="http://archives.miloush.net/michkap/archive/index.html">index</a> or <a href="http://archives.miloush.net/michkap/archive/index.html#2010-03">month</a> or <a href="http://archives.miloush.net/michkap/archive/index.html#2010-03-06">day</a></em></p></body>
<!-- Mirrored from archives.miloush.net/michkap/archive/2010/03/06/9972239.html by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 25 May 2017 00:42:35 GMT -->
</html>