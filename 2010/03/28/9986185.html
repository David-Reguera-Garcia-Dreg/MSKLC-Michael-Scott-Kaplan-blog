<html>
<!-- Mirrored from archives.miloush.net/michkap/archive/2010/03/28/9986185.html by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 25 May 2017 00:42:35 GMT -->
<head><meta charset="utf-8" /><meta name="viewport" content="width=device-width" /><title>We do seem to be short on time to find a date</title></head><body>
<h1>We do seem to be short on time to find a date</h1>
<p><em>by Michael S. Kaplan, published on 2010/03/28 07:01 -04:00, original URI: http://blogs.msdn.com/b/michkap/archive/2010/03/28/9986185.aspx</em></p>
<hr/> <!-- Archival Source: ProcessPostNew -->
<P><EM><FONT color=#ff0000>This is not a blog about my social life or love life. I'm just saying....</FONT></EM></P>
<P>Over in the Suggestion Box, Ian Boyd asked:</P>
<BLOCKQUOTE>
<P><FONT face="times new roman,times"><EM>I'm short on DATETIME.</EM></FONT></P>
<P><FONT face="times new roman,times"><EM>Is there, or why is there no, LOCALE_SSHORTDATETIME?</EM></FONT></P>
<P><FONT face="times new roman,times"><EM>There's a formatting string for short dates, LOCALE_SSHORTDATE (e.g. 3/18/2010). There's a formatting string for times, LOCALE_STIMEFORMAT (e.g. 9:08:13 AM). But there's no locale formatting string that combines a date and time together.</EM></FONT></P>
<P><FONT face="times new roman,times"><EM>Is it safe to construct a full Date+Time as the date, following by a time, separated by a single space? It this true in all locale's, in LTR and RTL, etc?</EM></FONT></P></BLOCKQUOTE>
<P>There's several questions in there, I'll take them one at a time....</P>
<P>To answer the first question first -- there is no such combinatorial beast of date&nbsp;and time&nbsp;in Win32. </P>
<P>Dates and times are handled separately, despite the almost religious fervor about avoiding overlapping tokens in dates and times (that fervor is mostly an effort to avoid confusion and in English really only affects MINUTES and MONTHS).</P>
<P>And to answer the third question second, about whether it is safe to combine two of the existing ones, yes it is "safe" in that you won't physically hurt anyone by combining the two (that is all .Net does when it combines things, for what it is worth).</P>
<P>One could occasionally confuse users a tad given random factoids like the mostly left-to-right-ness of the Hebrew short date, but by and large they'll know what is going on, so it's fine.</P>
<P><EM>I'll have to cover that issue about Hebrew another day!</EM></P>
<P>And finally, to answer the second question third, the question of "why not?", there is an obvious and easy answer....</P>
<P>Since Win32 has supports for dates and times in two different functions, there is no place one could <STRONG>use</STRONG> such a thing as a LOCALE_SSHORTDATETIME! Thus if it existed it would just be there to make people ask where they could use it since there is no function that can take it as input!</P>
<P>Could a new function have been added? Of course.</P>
<P>But then it begs the question -- if one wants this for a log file or whatever, one can just concatenate the two values, it isn't like the new function would be doing any kind of unique work here that blocks developers, right? :-)</P>
<P>Now if you stretch the "why?" question back to wonder why things were designed that way in the first place, you'd have to ask a bunch of people who made decisions nearly 20 years ago. Only one of those people reads this blog as far&nbsp;as I knod,&nbsp;and even she probably only does so occasionally. Either way,&nbsp;I doubt any of them would really remember the why....</P>
<P>For what it is worth, the times that .Net creates formats like this (e.g. the "f", "F", "g" and "G" formats among the <A href="http://msdn.microsoft.com/library/az4se3k1.aspx" mce_href="http://msdn.microsoft.com/library/az4se3k1.aspx">Standard Date and Time Format Strings</A>) it builds them by concatenating various date formats and time formats. So if there are any that display oddly for you, then you are in good company -- every version of the .Net Framework will do equally well/poorly!</P>
<hr/><p><a id="9986686" href="#9986686">#</a> <strong>Random832</strong> on 29 Mar 2010 6:59 AM:</p><div style="margin-left: 1em"><p>What if some locale needed a &quot;date and time&quot; format like &quot;dd MMM HH:mm yyyy&quot;? Even without this, concatenating the two together _already_ loses the ability to specify which of the two comes first in the locale.</p>
<p>&quot;which in English really only affects MINUTES and MONTHS&quot; - wait - are the tokens themselves different in different languages? like &quot;AAAA&quot; for the four-digit year in spanish?</p>
<p>(looking forward to that bit on the Hebrew date format - your last mention of that and the Arabic one glossed over the difference between which part of the date/time is on the left or right vs which part comes first or last in the string - same for percentage and any interaction with the bidirectional algorithm and surrounding text/context)</p></div>
<p><a id="9986723" href="#9986723">#</a> <strong>Michael S. Kaplan</strong> on 29 Mar 2010 8:01 AM:</p><div style="margin-left: 1em"><p>No locale under Windows currently defines such a thing, so for the foreseeable future this is a non-issue.</p>
<p>Look at the documentation on the tokens - they don't both use the letter &quot;m&quot;.....</p>
</div>
<hr/><p><em>go to <a id="newer" href="http://archives.miloush.net/michkap/archive/2010/03/29/9986413.html" title="What the @!#$% is up with the Tibetan keyboard? (aka To be good enough for government work?)">newer</a> or <a id="older" href="http://archives.miloush.net/michkap/archive/2010/03/27/9982491.html" title="You Myanmar&#39;ing me? You Myanmar&#39;ing *me*? You must be Myanmar&#39;ing me, there&#39;s no one else here!">older</a> post, or back to <a href="http://archives.miloush.net/michkap/archive/index.html">index</a> or <a href="http://archives.miloush.net/michkap/archive/index.html#2010-03">month</a> or <a href="http://archives.miloush.net/michkap/archive/index.html#2010-03-28">day</a></em></p></body>
<!-- Mirrored from archives.miloush.net/michkap/archive/2010/03/28/9986185.html by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 25 May 2017 00:42:35 GMT -->
</html>