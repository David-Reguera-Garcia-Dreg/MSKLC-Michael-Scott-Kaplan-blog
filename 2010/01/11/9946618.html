<html>
<!-- Mirrored from archives.miloush.net/michkap/archive/2010/01/11/9946618.html by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 25 May 2017 00:42:35 GMT -->
<head><meta charset="utf-8" /><meta name="viewport" content="width=device-width" /><title>The Unicode train is leaving the station, 2010 edition (aka How to do a feature in two versions)</title></head><body>
<h1>The Unicode train is leaving the station, 2010 edition (aka How to do a feature in two versions)</h1>
<p><em>by Michael S. Kaplan, published on 2010/01/11 09:16 -05:00, original URI: http://blogs.msdn.com/b/michkap/archive/2010/01/11/9946618.aspx</em></p>
<hr/> <!-- Archival Source: ProcessPostNew -->
<P>I got an email from Mike the other day:</P>
<BLOCKQUOTE>
<P><FONT face="times new roman,times"><EM>Hi Michael,<BR>&nbsp;<BR>Just a quick FYI, a bit of great news (I guess 15 years is as good a time as any).&nbsp; VC2010 now generates Unicode RC files (when using the project wizard to generate a new app).&nbsp; Wow, I'd never thought I'd see the day.&nbsp;&nbsp;&nbsp; It was a great day when VC2005 actually supported opening and saving of Unicode RC files, but this is the icing on the cake.&nbsp; <BR>&nbsp;<BR>Now all those people using obsolete source control systems and diff utilities are really gonna have to update to support these newly generated projects that include Unicode RC files or they're in for a surprise :)</EM></FONT></P></BLOCKQUOTE>
<P>Woo hoo!</P>
<P>I agree this is very good news, and very good icing on this particular cake.</P>
<P>Remember when I talked about the first part of this, in <A href="http://archives.miloush.net/michkap/archive/2005/10/02/476213.html" mce_href="http://archives.miloush.net/michkap/archive/2005/10/02/476213.html"><STRONG>The Unicode train is leaving the station</STRONG></A>, back in 2005?</P>
<P>I remember inside Microsoft how awful the diff'ing sitution was until someone updated WinDiff to support Unicode; Mike has a good point about those other diffing programs!</P>
<hr/><p><strong>Sam</strong> on 11 Jan 2010 3:09 PM:</p><div style="margin-left: 1em"><p>Where is the unicode-enabled windiff available from?</p></div>
<p><strong>muntyan</strong> on 12 Jan 2010 10:25 AM:</p><div style="margin-left: 1em"><p>What's &quot;unicode&quot; here, is it UTF-16 or UTF-8?</p>
</div>
<p><strong>Karellen</strong> on 12 Jan 2010 2:59 PM:</p><div style="margin-left: 1em"><p>&quot;Unicode&quot; in Microsoft/Windows world means &quot;UTF-16&quot;. Actually, it more likely means &quot;UCS-2&quot; (e.g. in NTFS), but it could be UTF-16.</p>
<p>Windows can't do UTF-8 as MB_LEN_MAX is 2, which is a compile-time constant and therefore cannot be changed without fundamentally breaking the Windows ABI, which is just not possible.</p>
<p>It would have been possible to up MB_LEN_MAX in 64-bit Windows when there was necessarily a brand new ABI, but I don't think they did and it's too late now. :-(</p></div>
<p><strong>Andrew West</strong> on 13 Jan 2010 4:36 AM:</p><div style="margin-left: 1em"><p>My version of WinDiff supports UTF16LE if it has a BOM, but apparently no other flavours of Unicode. It would be nice if it supported UTF8 as I use it a lot, and most of my files are UTF8 encoded.</p></div>
<p><strong>muntyan</strong> on 14 Jan 2010 5:46 AM:</p><div style="margin-left: 1em"><p>Karellen, windows can do UTF-8 all right, it doesn't matter what C wchar_t is. What you pass to windows API functions is one thing, what you store on disk is another.</p>
<p>Not using UTF-8 for text is just screwing up everybody else (including even Microsoft tools), you need every tool which reads text files to support UTF-16 even to read simple English text! We don't care much about others, do we?</p>
</div>
<p><strong>Mihai</strong> on 15 Jan 2010 10:50 AM:</p><div style="margin-left: 1em"><p>Nice to see it, but the MFC combo-box bug (storing the combo-box content as hex) still generates &nbsp;question marks. (All the hex values are 3C).</p>
<p>(<a rel="nofollow" target="_new" href="https://connect.microsoft.com/VisualStudio/feedback/ViewFeedback.aspx?FeedbackID=276957">https://connect.microsoft.com/VisualStudio/feedback/ViewFeedback.aspx?FeedbackID=276957</a>)</p>
<p>Although storing text as hex values is horrible for localization, having the content of the combo-box &quot;right there&quot; is very popular with the developers. And for localization is also nice to be able to test if all entries fit the width of the control.</p></div>
<p><strong>Bob Bobson</strong> on 14 Apr 2012 7:10 PM:</p><div style="margin-left: 1em"><p>I too would like to know if/where a Unicode copy of WinDiff is available. The 6.1.7716.0 version certainly doesnâ€™t work, at least not for file and folders with Unicode names.</p>
</div>
<p><strong>Michael S. Kaplan</strong> on 15 Apr 2012 1:35 PM:</p><div style="margin-left: 1em"><p>As far as I know, it has never been released externally?</p>
</div>
<hr/><p><em>referenced by</em></p><div style="margin-left: 1em"><p>2012/03/26 <a href="http://archives.miloush.net/michkap/archive/2012/03/26/10286723.html">The Unicode train left the station YEARS ago, in fact! (2012 edition)</a></p></div><p><em>go to <a id="newer" href="http://archives.miloush.net/michkap/archive/2010/01/12/9946880.html" title="On my &quot;Vietnamese Plus&quot; and &quot;pseudo-Form V&quot; constructs">newer</a> or <a id="older" href="http://archives.miloush.net/michkap/archive/2010/01/08/9945487.html" title="Lots of Locale questions">older</a> post, or back to <a href="http://archives.miloush.net/michkap/archive/index.html">index</a> or <a href="http://archives.miloush.net/michkap/archive/index.html#2010-01">month</a> or <a href="http://archives.miloush.net/michkap/archive/index.html#2010-01-11">day</a></em></p></body>
<!-- Mirrored from archives.miloush.net/michkap/archive/2010/01/11/9946618.html by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 25 May 2017 00:42:35 GMT -->
</html>