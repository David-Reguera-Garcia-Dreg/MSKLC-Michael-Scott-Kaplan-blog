<html>
<!-- Mirrored from archives.miloush.net/michkap/archive/2007/05/25/2871960.html by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 25 May 2017 00:42:38 GMT -->
<head><meta charset="utf-8" /><meta name="viewport" content="width=device-width" /><title>More significant than petty cache</title></head><body>
<h1>More significant than petty cache</h1>
<p><em>by Michael S. Kaplan, published on 2007/05/25 10:05 -04:00, original URI: http://blogs.msdn.com/b/michkap/archive/2007/05/25/2871960.aspx</em></p>
<hr/> <!-- Archival Source: ProcessPostNew -->
<P>Georg asked:</P>
<BLOCKQUOTE>
<P><FONT face="times new roman,times"><EM>One of my customers is enumerating fonts using the following code construct:</EM></FONT></P>
<P><FONT face="courier new,courier"><STRONG>foreach (FontFamily font in FontFamily.Families) {<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if (font.IsStyleAvailable(FontStyle.Regular))<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; cbxFontName.Items.Add(font);<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }</STRONG></FONT></P>
<P><FONT face="times new roman,times"><EM>They are wondering regarding the performance of this enumeration. First run of the test app takes about 2 seconds, all consecutive runs take about 0.2 secons. I assume this has to do with some memory caching.</EM></FONT></P>
<P><FONT face="times new roman,times"><EM>Thanks,<BR>Georg</EM></FONT></P></BLOCKQUOTE>
<P mce_keep="true">Well, in a way it is caching, but no so much memory caching. In this case it is the one time hit (per session) of creating every single font.</P>
<P mce_keep="true">You can see a somewhat analogous&nbsp;hit if you use <A class="" href="http://msdn2.microsoft.com/library/system.globalization.cultureinfo.getcultures.aspx" mce_href="http://msdn2.microsoft.com/library/system.globalization.cultureinfo.getcultures.aspx">CultureInfo.GetCultures</A>, and that bit of caching will only last for as long as the process is around since <A class="" href="http://msdn2.microsoft.com/library/system.globalization.cultureinfo.aspx" mce_href="http://msdn2.microsoft.com/library/system.globalization.cultureinfo.aspx">CultureInfo</A> objects are not put in any kind of session level caching like fonts are....</P>
<P mce_keep="true">Although in this case memory caching may make it a <EM>little</EM> bit faster from time to time. :-)</P>
<P mce_keep="true">I should probably talk about the Window side of all this, but I will let that wait for an upcoming post....</P>
<P mce_keep="true">&nbsp;</P>
<P mce_keep="true"><FONT color=#ff00ff><EM>This post brought to you by</EM> á€¸ <EM>(<A class="" href="http://www.fileformat.info/info/unicode/char/1038" mce_href="http://www.fileformat.info/info/unicode/char/1038">U+1038</A>, a.k.a. MYANMAR SIGN VISARGA)</EM></FONT></P>
<hr/><div style="margin-left: 1em"><em>no comments</em></div><hr/><p><em>go to <a id="newer" href="http://archives.miloush.net/michkap/archive/2007/05/25/2875426.html" title="I&#39;d stop as soon as possible, IIf you&#39;d let me">newer</a> or <a id="older" href="http://archives.miloush.net/michkap/archive/2007/05/25/2862437.html" title="&#39;Underage Thinking&#39; is playing in the background">older</a> post, or back to <a href="http://archives.miloush.net/michkap/archive/index.html">index</a> or <a href="http://archives.miloush.net/michkap/archive/index.html#2007-05">month</a> or <a href="http://archives.miloush.net/michkap/archive/index.html#2007-05-25">day</a></em></p></body>
<!-- Mirrored from archives.miloush.net/michkap/archive/2007/05/25/2871960.html by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 25 May 2017 00:42:38 GMT -->
</html>