<html>
<!-- Mirrored from archives.miloush.net/michkap/archive/2007/05/01/2367135.html by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 25 May 2017 00:42:38 GMT -->
<head><meta charset="utf-8" /><meta name="viewport" content="width=device-width" /><title>Not everyone does the right thing for Romanian</title></head><body>
<h1>Not everyone does the right thing for Romanian</h1>
<p><em>by Michael S. Kaplan, published on 2007/05/01 22:59 -04:00, original URI: http://blogs.msdn.com/b/michkap/archive/2007/05/01/2367135.aspx</em></p>
<hr/> <!-- Archival Source: ProcessPostNew -->
<P>Regular reader Cristian Secară asks:</P>
<BLOCKQUOTE><FONT face="times new roman,times"><I>
<P>Hi Michael,<BR><BR>Maybe you have a clue on a specific characters ș &amp; ț issue ...<BR><BR>Romanian Windows Vista users noticed that when trying to type messages&nbsp;in Yahoo Messenger using (also) characters ș and/or ț (you know, those&nbsp;infamous 0x0218 ... 0x021B), a question mark is displayed instead&nbsp;(instead of each ș and/or ț characters, not instead the whole text).&nbsp;If, instead of typing directly, one writes the same thing into other&nbsp;Unicode app, let's say Wordpad, by copying &amp; paste the text into YM,&nbsp;now the text is correct (everything, including sending and displaying&nbsp;on the receiving system).<BR><BR>Until recently I thought this is a Yahoo Messenger issue, but now I am&nbsp;no longer convinced about that. I found more applications with the same&nbsp;behaviour: NetObjects Fusion (checked by myself), Pegasus Mail and&nbsp;Skype (reported by others).<BR><BR>Sidenote: I am using some applications that were ported from the Linux&nbsp;world, applications running on top of GTK+ (for example Sylpheed e-mail&nbsp;client). On all those applications, when running in win32 environment,&nbsp;a menu bar which contains strings containing one of characters ș and/or&nbsp;ț will either display a blank menu bar, or will display a question mark&nbsp;in place of respective ș and/or ț characters. The same applications will&nbsp;behave correctly when running in native environment systems.<BR><BR>I have no idea if there is any relation between the two situations&nbsp;described.&nbsp;Giving the fact that in WinXP and Win2000, inspite of the fact that&nbsp;both systems claims to be Unicode aware there are several known&nbsp;problems with s and ț characters, problems which until now were fixed&nbsp;only on Vista, I am wondering if there may be still some other issues&nbsp;as well, which are difficult to identify/find/fix.<BR><BR>Cristi</P></I></FONT></BLOCKQUOTE>
<P>Sorry, Cristi -- this is an application problem. The OS supports these characters, along with the rest of Unicode -- and it is only applications that do non-Unicode things (like text input routines that limit text to code pages or other subsets) or that support fonts which do not support characters that can lead to problems here.</P>
<P>In the case of the newer Romanian characters, the situation requires applications that support Unicode in more than just clipboard operations; if Yahoo Messenger or NetObjects Fusion&nbsp;or Pegasus Mail or skype have problems here, then you can complain to the apps that are doing the wrong thing or you can just find better programs that fully support Unicode in all of their operations for your chosen language.</P>
<P><EM>(Keep in mind that even though there was <STRONG><A class="" href="http://archives.miloush.net/michkap/archive/2006/12/09/1245128.html" mce_href="http://archives.miloush.net/michkap/archive/2006/12/09/1245128.html">that update for Romanian</A></STRONG> in Arial, Times New Roman, and Verdana, that the characters were already in other fonts like Tahoma. So even without the update, one could write an application that would display these characters if one truly wanted to!)</EM></P>
<P>This principle applies to Microsoft products as well -- I am not going to be an apologist here. As an example,&nbsp;there have been occasions on the past that I have had to honestly recommend against using SQL Server or Jet due to limitations within it, unless they were willing to go through solutions like the one I suggested in the <STRONG><A class="" href="http://archives.miloush.net/michkap/archive/2005/09/13/463962.html" mce_href="http://archives.miloush.net/michkap/archive/2005/09/13/463962.html">Extending collation support</A></STRONG> series I did back in 2005.</P>
<P mce_keep="true">&nbsp;</P>
<P><FONT color=#ff00ff><EM>This post brought to you by</EM> <FONT face=Tahoma size=6>Ș</FONT>&nbsp;</FONT><EM><FONT color=#ff00ff>(</FONT><A href="http://www.fileformat.info/info/unicode/char/0218">U+0218</A><FONT color=#ff00ff>, a.k.a. LATIN CAPITAL LETTER S WITH COMMA BELOW)</FONT></EM></P>
<hr/><p><strong>Marc Durdin</strong> on 2 May 2007 7:40 AM:</p><div style="margin-left: 1em"><p>Cristi, our tool 'Keyman Desktop' allows you to input Unicode characters (including these specific Romanian letters) into Yahoo Messenger and many other applications that don't support Unicode input. &nbsp;Have a look at: <a rel="nofollow" target="_new" href="http://www.tavultesoft.com/keyman/">http://www.tavultesoft.com/keyman/</a> and <a rel="nofollow" target="_new" href="http://www.tavultesoft.com/kb/index.php?KnowledgeBaseID=18">http://www.tavultesoft.com/kb/index.php?KnowledgeBaseID=18</a></p>
<p>Please contact us at sales@tavultesoft.com if you'd like more information.</p></div>
<p><strong>Alan McFarlane</strong> on 2 May 2007 10:58 AM:</p><div style="margin-left: 1em"><p>Err, should this be obvious to me... &nbsp;Why does copy&amp;paste work, but typing directly not? &nbsp;Hmm something in the UI code path isn't Unicode but the clipboard read is, or uses a Windows-X codepage?...</p></div>
<p><strong>Michael S. Kaplan</strong> on 2 May 2007 12:48 PM:</p><div style="margin-left: 1em"><p>The clipboard supports both CF_TEXT and CF_UNICODETEXT, so whatever the app asks for, it can get.</p>
<p>The app decides how it wants to process input though, and if takes ANSI input or if it cinverts it due to the way that the input is handled, then the app has the freedom to do what they want....</p>
</div>
<p><strong>Mihai</strong> on 2 May 2007 12:55 PM:</p><div style="margin-left: 1em"><P>Using "psychic debugging" (to quote Raymond) this is another case of "<STRONG><A class="" href="http://archives.miloush.net/michkap/archive/2007/03/08/1838231.html">Double Secret ANSI</A></STRONG>"</P>
<P>(and this answer just duplicates Michael's explanation on ANSI input/Unicode clipboard :-)</P></div>
<p><strong>Mihai</strong> on 2 May 2007 12:56 PM:</p><div style="margin-left: 1em"><p>Now I realize another thing: it can be a &quot;non Unicode RTF in a Unicode application&quot; (explained here <a rel="nofollow" target="_new" href="http://www.mihai-nita.net/article.php?artID=20050709b">http://www.mihai-nita.net/article.php?artID=20050709b</a>)</p></div>
<p><strong>Michael S. Kaplan</strong> on 3 May 2007 9:22 PM:</p><div style="margin-left: 1em"><p>It may not be as smart as &quot;double secret ANSI&quot; -- instead it might just be CP_ACP handling....</p>
</div>
<p><strong>Alan McFarlane</strong> on 8 May 2007 6:04 AM:</p><div style="margin-left: 1em"><p>OK, thanks. &nbsp;So not necessary just a simple mistake, possibly a bigger mistake too. :-,(</p>
<p>Alan</p></div>
<hr/><p><em>referenced by</em></p><div style="margin-left: 1em"><p>2007/09/27 <a href="http://archives.miloush.net/michkap/archive/2007/09/27/5141426.html">Wouldn't you bet, Fret (aka You've got 50 ways to fix your characters)</a></p></div><p><em>go to <a id="newer" href="http://archives.miloush.net/michkap/archive/2007/05/02/2388803.html" title="There is no IsDBCSTrailByte">newer</a> or <a id="older" href="http://archives.miloush.net/michkap/archive/2007/05/01/2366714.html" title="HALFWIDTH != Half the width">older</a> post, or back to <a href="http://archives.miloush.net/michkap/archive/index.html">index</a> or <a href="http://archives.miloush.net/michkap/archive/index.html#2007-05">month</a> or <a href="http://archives.miloush.net/michkap/archive/index.html#2007-05-01">day</a></em></p></body>
<!-- Mirrored from archives.miloush.net/michkap/archive/2007/05/01/2367135.html by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 25 May 2017 00:42:38 GMT -->
</html>