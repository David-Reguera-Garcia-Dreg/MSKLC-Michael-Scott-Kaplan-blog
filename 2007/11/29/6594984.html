<html>
<!-- Mirrored from archives.miloush.net/michkap/archive/2007/11/29/6594984.html by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 25 May 2017 00:42:37 GMT -->
<head><meta charset="utf-8" /><meta name="viewport" content="width=device-width" /><title>The UK Extended keyboard -- over-extended? Or weirdly extended?</title></head><body>
<h1>The UK Extended keyboard -- over-extended? Or weirdly extended?</h1>
<p><em>by Michael S. Kaplan, published on 2007/11/29 10:16 -05:00, original URI: http://blogs.msdn.com/b/michkap/archive/2007/11/29/6594984.aspx</em></p>
<hr/> <!-- Archival Source: ProcessPostNew -->
<P>I have a regular reader who is kind of fond of the blog. She admits to skimming it&nbsp;regularly, kind of a <A class="" href="http://archives.miloush.net/michkap/archive/2007/10/07/5349626.html" mce_href="http://archives.miloush.net/michkap/archive/2007/10/07/5349626.html"><STRONG>Category B</STRONG></A>, Cliff Notes version kind of reader. </P>
<P>Though she also admits that posts about keyboards bore the hell out of her, so once she sees a post is about keyboards, it gets skipped.</P>
<P>Now that both posts today are clearly about keyboards, it is safe to say that the day is just going to be downhill from here for anyone who shares her opinion on these things....</P>
<P>However, the needs of the many out weigh, etc, etc. etc.</P>
<P>Apparently, she isn't reading this, based on the filtering by title, so everyone pretend I made a really amusing joke at her expense (I can't think of one offhand). :-)</P>
<P>Okay, on to the post....</P>
<P>Over in the Suggestion Box, DrPizza asked:</P>
<OL>
<LI><FONT face="times new roman,times">I use the "United Kingdom Extended" keyboard layout with English (United Kingdom); it's like a cross between the UK layout and the "United Stats-International" layout (why one should be "international" and the other "extended", and why one should have a hyphen in its name and the other not is beyond me). &nbsp;Whenever I RDP into my Vista machine, Vista adds, and switches to, the Welsh input language, still using the UK Extended layout. &nbsp;This is infuriating. &nbsp;What gives, and is it possible to prevent it?</FONT></LI>
<LI><FONT face="times new roman,times">Given the death of the Unicode IME (which was never especially satisfactory) is there any plan to ever have a non-sucky way of entering otherwise untypable characters?</FONT></LI>
<LI><FONT face="times new roman,times">Is there any way to make keyboard layouts with a compose key, instead of the dead key mechanism? &nbsp;e.g., using alt-gr as compose, letting me type alt-gr, o, e, (sequentially, no need for concurrent key-presses) to get an œ ligature.</FONT></LI></OL>
<P>I'll take these in reverse order, as I think that will allow my answers to become more satisfying/fulfilling, rather than less so....</P>
<P>For the third item, there is no way to extend the low level keyboarding mechanism in this way, as it truly is a data-based mechanism backed by data "tables" of information, making a generative model such as that impossible, as would altering the behavior of shift keys so markedly....</P>
<P>For the second item, there are of course already many other methods of inputting such data that exist, covered in posts like <A class="" href="http://archives.miloush.net/michkap/archive/2005/05/18/419117.html" mce_href="http://archives.miloush.net/michkap/archive/2005/05/18/419117.html"><STRONG>Typing in random Unicode code points</STRONG></A> and those who don;t want to wait for Microsoft do something better can emulate Andrew as I pointed out in <A class="" href="http://archives.miloush.net/michkap/archive/2005/07/18/439946.html" mce_href="http://archives.miloush.net/michkap/archive/2005/07/18/439946.html"><STRONG>Typing in random Unicode code points redux</STRONG></A>. Better mechanisms are not a bad idea in my opinion, and something more central rather the constant inclusion of features in random components/applications like ALT+X support in RichEdit/Word.</P>
<P>Questions&nbsp;like what such a mechanism would/could be, where would it sit, and who would own it are of course ones that would need to be answered, though without a really clear sense of usability (remember that most users of Windows don't even know what Unicode is, let alone what code point values map to what characters -- so this is a hard scenario to claim as mainstream!).</P>
<P>And then there is that first question, the only one I feel I had good answers for! :-)</P>
<P>Of course the name silliness is not really question anyone can answer, other than the abject fear that the cleanup of the names would lead to a support hit as people called to complain about the changes. :-)</P>
<P>So let's stick to the technical bit, which has an answer!</P>
<P>Let's look at the United Kingdom Extended keyboard in its place in the registry:</P>
<P><IMG height=298 src="http://trigeminal.fmsinc.com/images/ukextended03.png" width=834></P>
<P>You may see it right now -- the <A class="" href="http://archives.miloush.net/michkap/archive/2004/11/27/270931.html" mce_href="http://archives.miloush.net/michkap/archive/2004/11/27/270931.html"><STRONG>KLID</STRONG></A> value for this keyboard? Its 00000452, and that attached LANGID is the one for cy-GB,&nbsp;aka Welsh (United Kingdom).</P>
<P>Regular readers my recall some of the blathering I did in <A class="" href="http://archives.miloush.net/michkap/archive/2006/01/05/509539.html" mce_href="http://archives.miloush.net/michkap/archive/2006/01/05/509539.html"><STRONG>Keyboards over Terminal Server</STRONG></A>, where the way that keyboard layouts on the client side are picked up and added in a non-permanent fashion on the Terminal Server.</P>
<P>The behavior DrPizza describes give some insight into how that is accomplished -- by using the KLID value without picking up the language information from the HKL itself.</P>
<P>So that takes care if the first part of the question (<STRONG>what gives?</STRONG>) though unfortunately there is no way to stop other than creating a custom keyboard in MSKLC that you put on both client and server, based on the language you want the server to pick up....</P>
<P mce_keep="true">&nbsp;</P>
<P><FONT color=#ff00ff><EM>This post brought to you by</EM><FONT size=5> ৺ </FONT><EM>(<A class="" href="http://www.fileformat.info/info/unicode/char/09fa" mce_href="http://www.fileformat.info/info/unicode/char/09fa">U+09fa</A>, aka BENGALI ISSHAR)</EM></FONT></P>
<hr/><p><a id="6607980" href="#6607980">#</a> <strong>John Cowan</strong> on 29 Nov 2007 11:16 PM:</p><div style="margin-left: 1em"><p>Let me remind you again of Gwalla's superb US-Latin1 keyboard (which would be easy to adapt to U.K. style, I think). &nbsp;It provides full access to the Latin-1 repertoire without changing the effect of any key except AltGr -- no dead keys. &nbsp;To enter a-acute, for example, simply type Alt-Gr-apostrophe followed by a. &nbsp;When I was still on Windows at all, it was my very favorite keyboard, usable for coding *and* writing internationalized email.</p>
<p>You can fetch it from <a rel="nofollow" target="_new" href="http://gwalla.livejournal.com/39856.html">http://gwalla.livejournal.com/39856.html</a> .</p></div>
<p><a id="6608008" href="#6608008">#</a> <strong>Michael S. Kaplan</strong> on 29 Nov 2007 11:25 PM:</p><div style="margin-left: 1em"><p>I'm confused, John -- the last time I looked at this one, it had dead keys, in the AltGr state. what do you mean about there being no dead keys -- is there another version of the layout?</p>
</div>
<p><a id="6615326" href="#6615326">#</a> <strong>Dr Pizza</strong> on 30 Nov 2007 7:38 AM:</p><div style="margin-left: 1em"><p>Ok cool.</p>
<p>Isn't the terminal server behaviour a bit, well, silly? &nbsp;I mean, it's not immediately clear to me why a keyboard layout should have a language ID in the first place (the OS maintains language and keyboard layout as distinct concepts, which is how I can use UK English with UK Extended in the first place) but OK, I accept that for whatever reason it does. &nbsp;What I don't see is why TS should use that keyboard layout-defined language and not, y'know, the actual language I'm using.</p>
<p>Regarding a way of entering arbitrary codepoints; the extended (hexadecimal) number pad method is the one I'm using at the moment, but it doesn't work properly; some programs trap alt+keypress, and the unicode entry isn't hidden from them. &nbsp;For example, typing in the IE address bar, anything using a hexadecimal 'd' doesn't work. &nbsp;It seems to me that once you've begin a unicode keystroke sequence, VKs shouldn't be delivered to the application until you've finished. &nbsp;The escape sequence should be totally invisible to the application. &nbsp;Some kind of visible feedback would be nice, too.</p>
<p>The inability to support 'compose' is rather sad. &nbsp;'compose' is much friendlier, IMO, as it requires fewer contortions.</p>
</div>
<p><a id="6631786" href="#6631786">#</a> <strong>Michael S. Kaplan</strong> on 1 Dec 2007 11:19 AM:</p><div style="margin-left: 1em"><p>I don't know if I would call the TS behavior silly, when there are so many on Office and elsewhere who find the whole &quot;putting one language under another&quot; to be silly....</p>
</div>
<p><a id="6646415" href="#6646415">#</a> <strong>John Cowan</strong> on 3 Dec 2007 11:45 AM:</p><div style="margin-left: 1em"><p>Well, yes. &nbsp;I was speaking loosely: &nbsp;there are dead key *states*, but there are no keys which are dead in either normal or shifted state, which is what makes the US-International keyboard obnoxious to use for code, where you are all the time typing &quot;-space to quote a string. &nbsp;I used to switch between US-QWERTY and US-International all the time until I found and adopted Gwalla for all purposes.</p>
<p>(Then I defenestrated myself. &nbsp;I would never look back now, but I do miss my Gwalla.)</p></div>
<p><strong>John Cowan</strong> on 26 Dec 2010 10:27 AM:</p><div style="margin-left: 1em"><p>Well, I&#39;m back on Windows (thanks to the new job), and got Gwalla to send me the keyboard, which has a new home at <a rel="nofollow" target="_new" href="http://www.ccil.org/~cowan/USInt2.zip">www.ccil.org/.../USInt2.zip</a> .</p>
</div>
<p><strong>Michael S. Kaplan</strong> on 26 Dec 2010 11:35 AM:</p><div style="margin-left: 1em"><p>We&#39;re cooler anyway. Welcome back. ;-)</p>
</div>
<hr/><p><em>go to <a id="newer" href="http://archives.miloush.net/michkap/archive/2007/11/29/6605271.html" title="Get the WEX out of your ears and come see us do our global &#39;Karate Kid&#39; thing (WEX on, WEX off!)">newer</a> or <a id="older" href="http://archives.miloush.net/michkap/archive/2007/11/29/6590805.html" title="If the problem is bad enough, we should probably look beyond the workaround">older</a> post, or back to <a href="http://archives.miloush.net/michkap/archive/index.html">index</a> or <a href="http://archives.miloush.net/michkap/archive/index.html#2007-11">month</a> or <a href="http://archives.miloush.net/michkap/archive/index.html#2007-11-29">day</a></em></p></body>
<!-- Mirrored from archives.miloush.net/michkap/archive/2007/11/29/6594984.html by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 25 May 2017 00:42:37 GMT -->
</html>