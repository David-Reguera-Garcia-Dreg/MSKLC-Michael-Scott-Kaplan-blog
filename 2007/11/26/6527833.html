<html>
<!-- Mirrored from archives.miloush.net/michkap/archive/2007/11/26/6527833.html by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 25 May 2017 00:42:37 GMT -->
<head><meta charset="utf-8" /><meta name="viewport" content="width=device-width" /><title>When yesterday's workaround becomes tomorrow's potential solution...</title></head><body>
<h1>When yesterday's workaround becomes tomorrow's potential solution...</h1>
<p><em>by Michael S. Kaplan, published on 2007/11/26 10:01 -05:00, original URI: http://blogs.msdn.com/b/michkap/archive/2007/11/26/6527833.aspx</em></p>
<hr/> <!-- Archival Source: ProcessPostNew -->
<P>From the introduction to <STRONG>The More Than Complete Hitchhiker's Guide</STRONG>:</P>
<BLOCKQUOTE>
<P><EM>&nbsp;&nbsp;&nbsp;&nbsp; The story grew in the most convoluted way, as many people will be surprised to learn. Writing episodically [as for a radio program - MSK] meant that when I finish one episode I&nbsp; had no idea what the next one would contain. When, in the twists and turns of the plot, some event&nbsp;suddenly seemed to illuminate things that had gone before, I was as surprised as anyone else.<BR>&nbsp;&nbsp;&nbsp;&nbsp; I think that the BBC's attitude toward the show while it was in production was very similar to that which Macbeth had toward murdering people -- initial doubts, followed by cautious enthusiasm and then greater and greater alarm at the sheer scale of the undertaking and still no end in sight....<BR>....<BR>&nbsp;&nbsp;&nbsp; In the fall of 1979, the first <STRONG>Hitchhiker</STRONG> book was published in England, called <STRONG>The Hitchhiker's Guide to the Galaxy</STRONG>, It was a substantially expanded version of the first four episodes of the radio series, in which some of the characters behaved in entirely different ways and others behaved in exactly the same ways but for entirely different reasons, which amounts to the same thing but saves rewriting the dialogue.</EM></P></BLOCKQUOTE>
<P>The first part of this quote is quite relevant to the blog you are currently reading.</P>
<P>The second part of this quote, however, has nothing to do with this blog, but more than a little bit to do with this Blog, if you follow my meaning. I will talk about that another day, and thus that other unrelated point about this Blog will be covered not in this blog but in another blog. But it literally came right after the first bit so I included it anyway because I think it reads good.</P>
<P>Sometimes a post will inspire another post so it will include the link. </P>
<P>Other times I will write a post, realize the connection to the earlier one afterward but before posting, and I will add the link.</P>
<P>From your point of view (as the reader), the effect is the same, though for me&nbsp; as the writer the first method is easier since it saves me editing the second post after the fact. Which is what the third bit in the quotes is there for.</P>
<P>If you are a regular reader then you may concur with all of this. Or you may not. I honestly don't give a fig, and not just because I have no figs, but because I don't write for the kind of people who would tend to not agree with how I write since it is not really something anyone knows about other than reading what I write about it. Disagreeing with it thus makes one simply disagreeable, and while I support everyone's right to be wrong, I do it in a more passive way, and I certainly don't write for them in particular.</P>
<P><EM>A hazard of reading Douglas Adams is that you find yourself writing a bit like him, only less entertaining. Sorry about that!</EM></P>
<P>Anyway, on to the topic of this blog....</P>
<P>I have had many occasions to point out the problems with SQLCLR, that whole notion of the CLR within SQL Server, in the past. Like in posts such as <A class="" href="http://archives.miloush.net/michkap/archive/2007/10/25/5686727.html" mce_href="http://archives.miloush.net/michkap/archive/2007/10/25/5686727.html"><STRONG>String.Compare is for sissies (not for people who want SQLCLR consistency)</STRONG></A> and <A class="" href="http://archives.miloush.net/michkap/archive/2007/10/25/5686727.html" mce_href="http://archives.miloush.net/michkap/archive/2007/10/25/5686727.html"><STRONG>Not all in sync quite yet (aka SQL and the CLR and Windows and .NET)</STRONG></A>, where I point out that the fact that SQL and the CLR both have very firmly embedded architectural notions of how collation should work that do not match (more or less just about all of them)&nbsp;and at time can openly disagree (e.g. a Windows-only culture on Vista inside of a SQL Server stored procedure).</P>
<P>And I have also talked about the biggest problem in deciding about how best to be consistent or compatible really depends on what one is trying to be consistent with and what one is trying to be compatible with. As I pointed out in <A class="" href="http://archives.miloush.net/michkap/archive/2006/10/15/829978.html" mce_href="http://archives.miloush.net/michkap/archive/2006/10/15/829978.html"><STRONG>Compatibility is inconsistent; consistency is not compatible...</STRONG></A>, defining this is a crucial first step.</P>
<P>If you don't have this defined and later someone has to try to describe the behavior (as documentation writers and support personnel are often required to do), there is no easy consistent way to define why things behave as they do. </P>
<P>So they do their best to make Microsoft not look dumb, when in a way we kind of were, since we did not plan ahead enough in the design to know how this should go.</P>
<P>Hell, I think we just released LINQ and with not much more in the way available that explains how any of <A class="" href="http://archives.miloush.net/michkap/archive/2007/10/25/5686727.html" mce_href="http://archives.miloush.net/michkap/archive/2007/10/25/5686727.html"><STRONG>this</STRONG></A> works. And that makes good engineering look pretty doubleplusungood, in retrospect -- whether it is true or not.</P>
<P>But in the midst of stewing about this, and after eating&nbsp;what can only be described as entirely too much five-star turkey panang curry left over from Thanksgiving, I suddenly found myself thinking about the static versions of CompareStringW and LCMapStringW that Jet Red &gt;= 4.0 and and SQL Server &gt;= 7.0 both use that I have written about in that weird unofficial undocumented sense in a&nbsp;past life and Lee Woods wrote about more officially up on TechNet in the article entitled <A class="" href="http://technet.microsoft.com/en-us/library/bb293146.aspx" mce_href="http://technet.microsoft.com/en-us/library/bb293146.aspx">Microsoft Jet 4.0 Sorting APIs: DBCompareStringW and DBLCMapStringW</A>.</P>
<P>And then add a helping of the explanation I gave for synthetic or Windows-only cultures earlier this very month in <A class="" href="http://archives.miloush.net/michkap/archive/2007/11/02/5808539.html" mce_href="http://archives.miloush.net/michkap/archive/2007/11/02/5808539.html"><STRONG>Predictably (in retrospect), aka Where Wild^H^H^Hindows-Only Things Are, aka SHORT [on ]TIME for a LONG TIME</STRONG></A>.</P>
<P>And suddenly&nbsp;a long-term solution that would let the CLR within SQL Server do its work with SQL Server semantics became more obvious -- it could use that&nbsp;whole synthetic model for collation and have&nbsp;the CLR hosted by SQL Server depend on the SQL Server doing the hosting. So that queries and code would get the same results!</P>
<P>What better thing to be consistent with? What better thing to be compatible with?</P>
<P>Suddenly the workaround for a data management issue (the original reasons for Windows-only cultures, as I discussed <A class="" href="http://archives.miloush.net/michkap/archive/2007/11/02/5808539.html" mce_href="http://archives.miloush.net/michkap/archive/2007/11/02/5808539.html"><STRONG>previously</STRONG></A>), becomes a potential compelling architectural solution for the aforementioned SQLCLR compatibility issues, <A class="" href="http://archives.miloush.net/michkap/archive/2007/10/25/5686727.html" mce_href="http://archives.miloush.net/michkap/archive/2007/10/25/5686727.html"><STRONG>LINQ/CLR collation inconsistencies</STRONG></A>, and maybe even a more sensible/scalable solution for Mono&nbsp;than the one I naively suggested over two years ago in <A class="" href="http://archives.miloush.net/michkap/archive/2005/11/03/484974.html" mce_href="http://archives.miloush.net/michkap/archive/2005/11/03/484974.html"><STRONG>My own personal thoughts about collation in the Mono project</STRONG></A>.</P>
<P>Now would it be as easy to do as I imply here? Of course not. But it does allow the problem to be a tractable one, which is decidedly <STRONG>not</STRONG> what it is, today (which is why we keep shipping it, msybe?).</P>
<P>When yesterday's workaround becomes tomorrow's potential solution to problems, you know you were doing something right.... :-)</P>
<P mce_keep="true">&nbsp;</P>
<P><FONT color=#ff1493><FONT face=Tahoma><EM>This post brought to you by</EM><FONT size=5> ã€‡</FONT></FONT></FONT><EM><FONT color=#ff1493><FONT face=Tahoma><FONT size=5> </FONT>(U+3007, a.k.a. IDEOGRAPHIC NUMBER ZERO)</FONT></FONT></EM></P>
<hr/><p><a id="6532953" href="#6532953">#</a> <strong>John Cowan</strong> on 26 Nov 2007 12:21 PM:</p><div style="margin-left: 1em"><p>I think you do have the relevant kind of &quot;fig&quot;, which is performed by making a fist with the thumb sticking out between the index and middle fingers. &nbsp;It's equivalent to &quot;Up yours&quot;.</p>
<p>So saying &quot;I don't give a fig&quot; means &quot;I can't even be bothered to make an insulting gesture about it.&quot;</p></div>
<p><a id="6533133" href="#6533133">#</a> <strong>Michael S. Kaplan</strong> on 26 Nov 2007 1:45 PM:</p><div style="margin-left: 1em"><p>I suppose I was unaware of that bit of info -- I mean it like the fruit. Like I said, I support their right to be wrong....</p>
</div>
<p><a id="6544650" href="#6544650">#</a> <strong>Zooba</strong> on 27 Nov 2007 2:03 AM:</p><div style="margin-left: 1em"><p>&quot;A hazard of reading Douglas Adams is that you find yourself writing a bit like him, only less entertaining.&quot;</p>
<p>I find I do the same thing after reading Terry Pratchett. And yes, I am less entertaining than he is. Nobody can do what those two (Adams &amp; Pratchett) can, which is how they become rich and famous.</p></div>
<p><a id="8965131" href="#8965131">#</a> <strong>Shirley Humphrey</strong> on 25 Sep 2008 11:17 AM:</p><div style="margin-left: 1em"><p>I thought it was humorous, I laughed several times though it. At least I was'nt bored. LOL</p></div>
<hr/><p><em>referenced by</em></p><div style="margin-left: 1em"><p>2008/10/16 <a href="http://archives.miloush.net/michkap/archive/2008/10/16/9001396.html">Shine a Little [Silver]Light</a></p><p>2008/09/25 <a href="http://archives.miloush.net/michkap/archive/2008/09/25/8964291.html">You're not my type if you have no culture</a></p><p>2008/05/27 <a href="http://archives.miloush.net/michkap/archive/2008/05/27/8556091.html">SQL and the CLR? (2008 edition!)</a></p></div><p><em>go to <a id="newer" href="http://archives.miloush.net/michkap/archive/2007/11/27/6540276.html" title="There is no E in MUI, even if you pronounce it MOO-EE">newer</a> or <a id="older" href="http://archives.miloush.net/michkap/archive/2007/11/25/6509487.html" title="&#39;Funny&#39; blogs, &#39;Funny&#39; Spanish and &#39;Funny&#39; standards">older</a> post, or back to <a href="http://archives.miloush.net/michkap/archive/index.html">index</a> or <a href="http://archives.miloush.net/michkap/archive/index.html#2007-11">month</a> or <a href="http://archives.miloush.net/michkap/archive/index.html#2007-11-26">day</a></em></p></body>
<!-- Mirrored from archives.miloush.net/michkap/archive/2007/11/26/6527833.html by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 25 May 2017 00:42:37 GMT -->
</html>