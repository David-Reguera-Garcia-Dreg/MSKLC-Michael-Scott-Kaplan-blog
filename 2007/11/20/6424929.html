<html>
<!-- Mirrored from archives.miloush.net/michkap/archive/2007/11/20/6424929.html by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 25 May 2017 00:42:37 GMT -->
<head><meta charset="utf-8" /><meta name="viewport" content="width=device-width" /><title>Install your language packs like you put on your socks -- ONE AT A TIME!</title></head><body>
<h1>Install your language packs like you put on your socks -- ONE AT A TIME!</h1>
<p><em>by Michael S. Kaplan, published on 2007/11/20 10:01 -05:00, original URI: http://blogs.msdn.com/b/michkap/archive/2007/11/20/6424929.aspx</em></p>
<hr/> <!-- Archival Source: ProcessPostNew -->
<P>So it was almost a year ago that I picked up that Dell Precision Mobile Workstation that I mentioned <A class="" href="http://archives.miloush.net/michkap/archive/2006/12/14/1284914.html" mce_href="http://archives.miloush.net/michkap/archive/2006/12/14/1284914.html"><STRONG>this post</STRONG></A>.</P>
<P mce_keep="true">With 4gb of RAM and a 4.7 on th whole Vista Experience rating, it is a machine I felt pretty good about.</P>
<P mce_keep="true">Then earlier this year in <A class="" href="http://archives.miloush.net/michkap/archive/2007/05/11/2559407.html" mce_href="http://archives.miloush.net/michkap/archive/2007/05/11/2559407.html"><STRONG>this post</STRONG></A> I mentioned in passing how I had not only built and installed every single language pack on the machine, but that I even saw language added that are not actually either Language Packs or LIPs (which would mean that I would have not much in the way of resources behind them but it would make for a very long, impressive language list, at least -- something like over 100 items in the list!).</P>
<P mce_keep="true">I should probably also mention that some were there for testing and had resources in them, though not yet localized ones. Just so they would be a bit more substantial...</P>
<P mce_keep="true">I guess I also did fail to mention that it seemed to be taking a long time to install them all, something that made me a bit nervous around the fourth hour.</P>
<P mce_keep="true">I went and talked to someone over on the MUI test team&nbsp;by the sixth hour.</P>
<P mce_keep="true">He was a little surprised, and asked what UI languages I was installing.</P>
<P mce_keep="true">So I explained about my 100+ languages.</P>
<P mce_keep="true">He pointed me at&nbsp;a bug that showed that when you install more and more languages at the same time, that there were more and more resource being held on to and that most of their machines were actually having out of memory errors when too many were installed at once -- so they were splitting up the installs.</P>
<P mce_keep="true">Of course their machines had a LOT less memory -- so me running with 4gb on&nbsp;that fast dual core&nbsp;x64 machine might not have those problems, he speculated.</P>
<P mce_keep="true">I was not feeling very reassured, but I went back to my office, and got back to work. Every once in a while I would look at the machine.</P>
<P mce_keep="true">It did seem to be working still, and every once in a while a new language would pop up in the setup. And the status bar seemed to be filling in.</P>
<P mce_keep="true">I left around 10:00pm that night, it was still going.</P>
<P mce_keep="true">I don't think I slept very well, I admit. Nightmares about being run over by slow moving status bars. :-(</P>
<P mce_keep="true">So back in to work the next day, about 7:00am. </P>
<P mce_keep="true">I wasn't asleep anyway. Damn status bar!</P>
<P mce_keep="true">It was still going, crawling along.</P>
<P mce_keep="true">Finally, almost 28 hours after I started running setup, it finished.</P>
<P mce_keep="true">And after I rebooted, that first reboot took a while too.</P>
<P mce_keep="true">Though after that it settled back down to normal and performance was okay again.</P>
<P mce_keep="true">But I resolved to not try to install too many languages at once.</P>
<P mce_keep="true">I got reminded of this the other when Michael (a localization engineer from outside of Microsoft)&nbsp;&nbsp;emailed me with an accounting his own recent experience:</P>
<BLOCKQUOTE>
<P mce_keep="true"><EM><FONT face="times new roman,times">Hi Michael,<BR><BR>So, the story goes like this:</FONT></EM></P>
<UL>
<LI>
<DIV mce_keep="true"><EM><FONT face="times new roman,times">I saw 20 new Vista language packs for Thai, Romanian, Slovenian, and so on.</FONT></EM></DIV></LI>
<LI>
<DIV mce_keep="true"><EM><FONT face="times new roman,times">I decided to install them all on my Vista Ultimate x64 system.</FONT></EM></DIV></LI>
<LI>
<DIV mce_keep="true"><EM><FONT face="times new roman,times">I leave for the night, and come back the next day.</FONT></EM></DIV></LI>
<LI>
<DIV mce_keep="true"><EM><FONT face="times new roman,times">Just 12 languages have installed, and the system takes forever to wake up.</FONT></EM></DIV></LI>
<LI>
<DIV mce_keep="true"><EM><FONT face="times new roman,times">The TrustedInstaller.exe process has chewed up all the memory, and everything is super slow.</FONT></EM></DIV></LI>
<LI>
<DIV mce_keep="true"><EM><FONT face="times new roman,times">My drive is 10GB emptier.</FONT></EM></DIV></LI>
<LI>
<DIV mce_keep="true"><EM><FONT face="times new roman,times">Canceling takes an hour.</FONT></EM></DIV></LI>
<LI>
<DIV mce_keep="true"><EM><FONT face="times new roman,times">Restarting takes 30 minutes.</FONT></EM></DIV></LI>
<LI>
<DIV mce_keep="true"><EM><FONT face="times new roman,times">My system now says it’s not Genuine?&nbsp; How can that be?</FONT></EM></DIV></LI>
<LI>
<DIV mce_keep="true"><EM><FONT face="times new roman,times">Aero and other more important features are now non-functional.</FONT></EM></DIV></LI>
<LI>
<DIV mce_keep="true"><EM><FONT face="times new roman,times">After several hours, TrustedInstaller.exe is still not done configuring, and has consumed all memory again.</FONT></EM></DIV></LI>
<LI>
<DIV mce_keep="true"><EM><FONT face="times new roman,times">Bottom line: the system is essentially unusable.</FONT></EM></DIV></LI></UL></BLOCKQUOTE>
<P mce_keep="true">Sound like that same problem -- and as far as I'm concerned, the same solution is in order. Install your languages one at a time.</P>
<P mce_keep="true">The whole experience should go a lot faster and be a lot cleaner....</P>
<P mce_keep="true">&nbsp;</P>
<P mce_keep="true"><FONT color=#ff00ff><EM>This post brought to you by</EM><FONT size=5> ☇ </FONT><EM>(<A class="" href="http://www.fileformat.info/info/unicode/char/2607" mce_href="http://www.fileformat.info/info/unicode/char/2607">U+2607</A>, a.k.a. LIGHTNING)</EM></FONT></P>
<hr/><p><strong>Warren</strong> on 20 Nov 2007 11:05 AM:</p><div style="margin-left: 1em"><p>Installing anything one at a time is hardly realistic advice.</p>
<p>Except for an OS (or maybe Visual Studio) nothing should take more than a few minutes to install. 28 hours means there is something seriously wrong with the install procedure.</p></div>
<p><strong>Michael S. Kaplan</strong> on 20 Nov 2007 11:50 AM:</p><div style="margin-left: 1em"><p>Well, one is free to take or leave the advice. </p>
<p>But if one sees the problems mentioned, they can consider the advice since it is targetted at them....</p>
</div>
<p><strong>Mihai</strong> on 20 Nov 2007 2:13 PM:</p><div style="margin-left: 1em"><p>And (again) my request: and make them available for download!</p>
<p>For XP all MUIs where available on MSDN. Not so for Vista...</p>
<p>Ok, I understand the slow part is not about the network, but still, it would help. Even the fact that it is easier to automate things and install one language at the time without baby-sitting would be a good improvement.</p>
<p>Crazy people (like us :-) installing all language are probably rare. But how is an enterprise environment deal with installing 3 languages on 1000 computers? I bet they get access (somehow) to stand-alone installable MUI packages.</p>
<p>So why not have them on MSDN? The MUI are free for Ultimate and Enterprise, so if my MSDN subscription allows me to download and install Vista Ultimate, it would be ok to also get the MUIs, no?</p></div>
<p><strong>Warren</strong> on 20 Nov 2007 2:26 PM:</p><div style="margin-left: 1em"><p>Yes, I guess I could just leave the advice (and the advice is certainly better than nothing), but I would hope that you could use your position (i.e. your job) to take the opportunity to ensure that this bug is fixed.</p>
<p>I'd like to hear anyone defend an hour-plus install as anything other than something that needs to be fixed.</p>
<p>(this comment brought to you by my two cents)</p></div>
<p><strong>Michael S. Kaplan</strong> on 20 Nov 2007 2:34 PM:</p><div style="margin-left: 1em"><P>I suspect that the right people to try and escalate THAT issue read here occasionally and will properly champion the need to fix the problem as soon as they can do so....</P></div>
<p><strong>Jeroen Ruigrok van der Werven</strong> on 21 Nov 2007 1:29 AM:</p><div style="margin-left: 1em"><p>Warren,</p>
<p>try installing SP1 for Visual Studio 2005. On almost every system I installed it on I need at least 30 minutes.</p>
<p>I seriously suspect that the MSI is not dealing well with many files. Not entirely sure if MSI itself or NTFS is to blame though.</p>
<p>I would suspect the same thing would happen when installing a bunch of language packs.</p></div>
<p><strong>Jonathan</strong> on 26 Dec 2007 10:06 AM:</p><div style="margin-left: 1em"><p>TrustedInstaller.exe (&quot;Windows Module Installer&quot; service) seems to be poorly implemented, and require lots of resources for every operation, including random update checks. On my Vista desktop, it randomly takes 100% CPU (actually 50% - which is 100% of one of the cores), presumably to check which updates are installed. I managed to run Process Monitor, and saw that it does a whole lot of registry access, plus writing a huge log to C:\Windows\Logs\CBS\CBS.log. Next time I catch it, I'll try to get a process dump.</p>
<p>I do hope it gets fixed in SP1. And I'm so glad I didn't put Vista on my pasty laptop...</p></div>
<p><strong>mauvecloud</strong> on 4 Dec 2008 9:48 AM:</p><div style="margin-left: 1em"><p>I wish I'd found this post before starting, or that Windows Update would have warned me about the problem - I figured I'd just install all the optional updates, but now I have to wait for it to cancel, and then I think I'll uninstall some of them.</p></div>
<hr/><p><em>referenced by</em></p><div style="margin-left: 1em"><p>2011/03/19 <a href="http://archives.miloush.net/michkap/archive/2011/03/19/10142458.html">Lack of confidence in a feature can keep me from installng it. Oh yeah, a BSOD can, too.</a></p></div><p><em>go to <a id="newer" href="http://archives.miloush.net/michkap/archive/2007/11/21/6456468.html" title="Michael&#39;s Keyboard Laws for Developers, Part 4">newer</a> or <a id="older" href="http://archives.miloush.net/michkap/archive/2007/11/20/6420601.html" title="Michael&#39;s Keyboard Laws for Developers, Part 3">older</a> post, or back to <a href="http://archives.miloush.net/michkap/archive/index.html">index</a> or <a href="http://archives.miloush.net/michkap/archive/index.html#2007-11">month</a> or <a href="http://archives.miloush.net/michkap/archive/index.html#2007-11-20">day</a></em></p></body>
<!-- Mirrored from archives.miloush.net/michkap/archive/2007/11/20/6424929.html by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 25 May 2017 00:42:37 GMT -->
</html>