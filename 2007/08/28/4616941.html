<html>
<!-- Mirrored from archives.miloush.net/michkap/archive/2007/08/28/4616941.html by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 25 May 2017 00:42:37 GMT -->
<head><meta charset="utf-8" /><meta name="viewport" content="width=device-width" /><title>It looks good until you look at it more closely somewhere else</title></head><body>
<h1>It looks good until you look at it more closely somewhere else</h1>
<p><em>by Michael S. Kaplan, published on 2007/08/28 15:25 -04:00, original URI: http://blogs.msdn.com/b/michkap/archive/2007/08/28/4616941.aspx</em></p>
<hr/> <!-- Archival Source: ProcessPostNew -->
<P><EM>No, this post is <STRONG>not</STRONG>&nbsp;to do with the phenomenon sometimes referred to as&nbsp;'<A class="" href="http://en.wikipedia.org/wiki/Beer_goggles" mce_href="http://en.wikipedia.org/wiki/Beer_goggles">beer goggles</A>' in any way, shape, or form!</EM>&nbsp;</P>
<P><EM>(by the way, if you search for that term on <A class="" href="http://www.google.com/search?num=100&amp;hl=en&amp;newwindow=1&amp;sa=X&amp;oi=spell&amp;resnum=0&amp;ct=result&amp;cd=1&amp;q=%22beer+goggles%22&amp;spell=1" mce_href="http://www.google.com/search?num=100&amp;hl=en&amp;newwindow=1&amp;sa=X&amp;oi=spell&amp;resnum=0&amp;ct=result&amp;cd=1&amp;q=%22beer+goggles%22&amp;spell=1">Google</A>, would that make it become 'beer googles'?)</EM></P>
<P>The other day Scott asked:</P>
<BLOCKQUOTE>
<P><EM><FONT face="times new roman,times">Hi,<BR><BR>Great blog!<BR><BR>Im working on a really specialised text editor that is used for text from all around the world. To do this we are using Uniscribe to convert text to glyphs etc etc. Pretty normal stuff. We do wierd stuff with the glyphs in a printer driver later on!<BR><BR>However today Im looking at Bengali, in particular Bengali (Bangladesh), and I found a wierdness in IE that you might be interested in.<BR><BR>I have been cut-and-pasting text from webpages into my editor to validate that Im working OK. I have found a issue that is in my editor and in notepad!<BR><BR>If you look at the webpage:<BR><BR></FONT></EM><A href="http://www.prothom-alo.com/index.news.details.php?nid=OTkzMw==" mce_href="http://www.prothom-alo.com/index.news.details.php?nid=OTkzMw=="><EM><FONT face="times new roman,times">http://www.prothom-alo.com/index.news.details.php?nid=OTkzMw==</FONT></EM></A><EM><FONT face="times new roman,times"><BR><BR>If I cut and paste the text into notepad it looses it character order and becomes junk, but whats more If I save the web page locally and reopen it in IE it turns to junk!<BR><BR>I can fiddle with the character order manually to sort things out again, but thats not the point really!<BR><BR>Anyway,<BR><BR>Keep up the good blog work!</FONT></EM></P></BLOCKQUOTE>
<P mce_keep="true">Interesting, it does indeed contain text that looks good:</P>
<P mce_keep="true"><IMG height=695 src="http://trigeminal.fmsinc.com/images/bengali_right.png" width=933></P>
<P mce_keep="true">until you try to put it somewhere else (at which point you get lots of dotted circles and such. Very odd!</P>
<P mce_keep="true">I went down the hall to talk to Simon Daniels. </P>
<P mce_keep="true">Like many people such as <A class="" href="http://blogs.msdb.com/oldnewthing" mce_href="http://blogs.msdb.com/oldnewthing">Raymond Chen</A> and even myself sometimes, Simon is cursed with the burden of knowing stuff. And the problem with knowing stuff is that people will just randomly want to ask you stuff....</P>
<P mce_keep="true">Anyway, he immediately realized what was probably going on. He viewed the source, got the link to the CSS file that was being used, and looked at it:</P>
<BLOCKQUOTE>
<BLOCKQUOTE><FONT face="Consolas,Lucida Console,Courier New,Courier">
<P mce_keep="true">/* Embeded Font */<BR>&lt;!-- /* $WEFT -- Created on 7/16/2007 -- */<BR>&nbsp; @font-face {<BR>&nbsp;&nbsp;&nbsp; font-family: Bangsee Alpona;<BR>&nbsp;&nbsp;&nbsp; font-style:&nbsp; normal;<BR>&nbsp;&nbsp;&nbsp; font-weight: normal;<BR>&nbsp;&nbsp;&nbsp; src: url(<A href="http://www.prothom-alo.com/fonts/BANGSEE0.eot">http://www.prothom-alo.com/fonts/BANGSEE0.eot</A>);<BR>&nbsp; }<BR>&lt;!-- /* $WEFT -- Created on 7/17/2007 -- */<BR>&nbsp; @font-face {<BR>&nbsp;&nbsp;&nbsp; font-family: Prothoma;<BR>&nbsp;&nbsp;&nbsp; font-style:&nbsp; normal;<BR>&nbsp;&nbsp;&nbsp; font-weight: 700;<BR>&nbsp;&nbsp;&nbsp; src: url(<A href="http://www.prothom-alo.com/fonts/PROTHOM0.eot">http://www.prothom-alo.com/fonts/PROTHOM0.eot</A>);<BR>&nbsp; }<BR>--&gt;</P></FONT></BLOCKQUOTE></BLOCKQUOTE>
<P mce_keep="true">And of course .EOT files created by WEFT (<A class="" href="http://www.microsoft.com/typography/WEFT.mspx" mce_href="http://www.microsoft.com/typography/WEFT.mspx">Web Embedding Fonts Tool</A>) actually have the site that the .EOT was generated for embedded in them, so changing the link to remove the "www" so that the link didn't work showed very different results:</P>
<P mce_keep="true"><IMG src="http://trigeminal.fmsinc.com/images/bengali_wrong.png"></P>
<P mce_keep="true">(if you look very carefully you will see lots of dotted circles spread throughout)</P>
<P mce_keep="true">In the end, proper font creation following the rules that have been established in OpenType (e.g. <A class="" href="http://www.microsoft.com/typography/OpenType Dev/bengali/intro.mspx" mce_href="http://www.microsoft.com/typography/OpenType Dev/bengali/intro.mspx">this one</A> for Bengali) is crucial. If the fonts you use don't follow those rules then you have to encode the text to match the expectation of the fonts, and then you have strange behavior any time the font in question is not available to you.</P>
<P mce_keep="true">Now in fairness to the <STRONG>Bangsee Alpona</STRONG> font, it may be a perfectly valid one at this point, perhaps the version that was used to generate the .EOT files was from&nbsp;before the various changes within Unicode and then later to Microsoft to support the language properly -- and perhaps the editor for the content has some of the same problems -- so new content is created using this slightly different use of Unicode that is not the standard (thus creating text that will not always look right if you try to copy and paste it somewhere else that may not have the font:</P>
<P mce_keep="true"><FONT face="Bangsee Alpona" size=4>১২ োসেੳটਹর োথেক রাজৈনিতক দেলর সেਔ অােলাচনা ੂরઔ</FONT></P>
<P mce_keep="true"><IMG src="http://trigeminal.fmsinc.com/images/bengali_wrong_again.png"></P>
<P mce_keep="true">One of the reasons for the effort to provide a standard solution within Unicode is to keep under control the multiple contradictory methods of getting the rendering done, which is clearly what happens here....</P>
<P mce_keep="true">&nbsp;</P>
<P mce_keep="true"><FONT color=#ff00ff><EM>This post brought to you by</EM> <FONT size=5>অ</FONT> <EM>(<A class="" href="http://www.fileformat.info/info/unicode/char/0985" mce_href="http://www.fileformat.info/info/unicode/char/0985">U+0985</A>, a.k.a. BENGALI LETTER A)</EM></FONT></P>
<hr/><p><a id="4623024" href="#4623024">#</a> <strong>Deepak</strong> on 28 Aug 2007 11:40 PM:</p><div style="margin-left: 1em"><p>Interesting. The particular string you choose towards the end isn't even completely Bangla. The last character is Gurjarati and there are a few Gurmukhi characters in between! I see the same phenomena on the screenshot of webpage without the EOT file too. I think we have some encoding weirdness going on here.</p></div>
<p><a id="4623276" href="#4623276">#</a> <strong>Michael S. Kaplan</strong> on 29 Aug 2007 12:19 AM:</p><div style="margin-left: 1em"><p>Does the string mean anything? I kinda picked that one near the top at random....</p>
</div>
<p><a id="4627099" href="#4627099">#</a> <strong>Deepak</strong> on 29 Aug 2007 6:37 AM:</p><div style="margin-left: 1em"><p>Nope. Just a bunch of random characters. That too from more than just Bangla! The encoding seems to be borrowing characters generously from other indic scripts.</p></div>
<hr/><p><em>go to <a id="newer" href="http://archives.miloush.net/michkap/archive/2007/08/29/4622293.html" title="Sometimes a request is made of me and the question is asked in such a way that I just don&#39;t know exactly how to respond">newer</a> or <a id="older" href="http://archives.miloush.net/michkap/archive/2007/08/28/4605786.html" title="Every character has a story #29: U+1000^H^H^H^H0f40, (TIBETAN or MYANMAR LETTER KA, depending on when you ask)">older</a> post, or back to <a href="http://archives.miloush.net/michkap/archive/index.html">index</a> or <a href="http://archives.miloush.net/michkap/archive/index.html#2007-08">month</a> or <a href="http://archives.miloush.net/michkap/archive/index.html#2007-08-28">day</a></em></p></body>
<!-- Mirrored from archives.miloush.net/michkap/archive/2007/08/28/4616941.html by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 25 May 2017 00:42:37 GMT -->
</html>