<html>
<!-- Mirrored from archives.miloush.net/michkap/archive/2007/08/20/4472890.html by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 25 May 2017 00:42:37 GMT -->
<head><meta charset="utf-8" /><meta name="viewport" content="width=device-width" /><title>It is true that your LCID sucks, but your LANGID sucks more</title></head><body>
<h1>It is true that your LCID sucks, but your LANGID sucks more</h1>
<p><em>by Michael S. Kaplan, published on 2007/08/20 03:16 -04:00, original URI: http://blogs.msdn.com/b/michkap/archive/2007/08/20/4472890.aspx</em></p>
<hr/> <!-- Archival Source: ProcessPostNew -->
<P>Sometimes when working on software projects&nbsp;we spend so much time thinking a certain way that thinking any other way just&nbsp;does not&nbsp;occur to us.</P>
<P>Like the other day when someone sent me some email asking:</P>
<BLOCKQUOTE>
<P><EM><FONT face="times new roman,times">Hi Michael,<BR><BR>I saw your name on MSDN regarding GetLocaleInfo() and I hope you could help me with my question.<BR><BR>...I need to convert an ISO 639 code (extracted from a stream) to a LANGID in Windows. I know GetLocaleInfoEx could provide me with LANGID or ISO 639 code with LOCALE_ILANGUAGE and LOCALE_SISO639LANGNAME2 if&nbsp; I give it a locale name. Since I need to convert an ISO 639 code to LANGID, do you have any suggestion as to how to get a locale name from an ISO 639 code or is there any other way to do it?<BR><BR>Thanks,</FONT></EM></P></BLOCKQUOTE>
<P>On MSDN? Moi? </P>
<P>Oh yeah, its that <STRONG><A class="" href="http://archives.miloush.net/michkap/archive/2007/04/19/2194275.html" mce_href="http://archives.miloush.net/michkap/archive/2007/04/19/2194275.html">Search and ye shall find, SIAO style!</A></STRONG> thing. Kind of raises a ruckus with that whole blog as an official source of info <STRONG><A class="" href="http://archives.miloush.net/michkap/archive/2007/08/17/4440496.html" mce_href="http://archives.miloush.net/michkap/archive/2007/08/17/4440496.html">thing&nbsp;that was&nbsp;mentioned&nbsp;before</A></STRONG>, huh? :-)</P>
<P>Okay, let's move past <EM>that</EM> issue for now. I may have some thoughts to share another day....</P>
<P>Onward.</P>
<P>Let's take a moment and think about&nbsp;the request here&nbsp;(getting LANGID values from ISO-639 codes), and you may know where I am going with this.....</P>
<P>It starts with the whole <STRONG><A class="" href="http://archives.miloush.net/michkap/archive/2007/07/23/4021529.html" mce_href="http://archives.miloush.net/michkap/archive/2007/07/23/4021529.html">Your LCID sucks</A></STRONG> issue. You don't need a mathematical proof to cover the fact that if LCIDs suck, then the subsets of LCIDs known as LANGIDs suck worse. :-)</P>
<P>One could obviously think of all kinds of clever ways to take ISO 639 names and convert them to locale names which are in part made up of ISO 639 names anyway.</P>
<P>But is that the right thing to do?</P>
<P>Office built a huge architecture off of locales for its proofing tools, and Windows did for its input methods. They did it with LCIDs, sure. And it true&nbsp;<A class="" href="http://archives.miloush.net/michkap/archive/2007/07/23/4021529.html" mce_href="http://archives.miloush.net/michkap/archive/2007/07/23/4021529.html"><STRONG>Your LCID sucks</STRONG></A> style they have to take steps to fix that (like input methods&nbsp;have started to do in Vista).</P>
<P>But is the answer to just always move to <STRONG>locale names</STRONG>, still staying with <STRONG>locales</STRONG> in every case?</P>
<P>Locales have their own data to perform certain tasks, sure. Does this mean that any project that is taking an ISO-639 language name (which as of the latest update can be over 6000 different items!) and try to shoehorn it into a list of locales that is limited to a mere 208 choices?</P>
<P>The 300 pound man who jumps off a trapeze pole into a cup of water can be a fun way to draw a cartoon, but is it a way to write software? :-)</P>
<P>Now in situations where you need data from a locale then sure, limiting yourself to that list can be important. But if you don't specifically need the data, then why let locales hold you back.</P>
<P>I can't speak for locales, but I am pretty sure that if they could those little LCID values would be proud to see that you have grown past them....</P>
<P>The key thing to ask yourself is whether you need the locale. When you think about it, this whole issue is really just a generalization of the problems with CurrentUICulture&nbsp;I talked about in <STRONG><A class="" href="http://archives.miloush.net/michkap/archive/2007/01/10/1442340.html" mce_href="http://archives.miloush.net/michkap/archive/2007/01/10/1442340.html">two</A></STRONG> <STRONG><A class="" href="http://archives.miloush.net/michkap/archive/2007/01/10/1442693.html" mce_href="http://archives.miloush.net/michkap/archive/2007/01/10/1442693.html">parts</A></STRONG>. It is simply bad engineering to require the support of the whole huge model of the locale support in Windows or the .NET Framework when you really need nothing more than an identifier or at most a name string. It's time to&nbsp;start thinking about how to&nbsp;lighten the load, people!</P>
<P mce_keep="true">&nbsp;</P>
<P><FONT color=#ff00ff><EM>This post brought to you by</EM> <FONT size=5>·Åè</FONT> <EM>(<A class="" href="http://www.fileformat.info/info/unicode/char/104f" mce_href="http://www.fileformat.info/info/unicode/char/104f">U+104f</A>, a.k.a. MYANMAR SYMBOL GENITIVE)</EM></FONT></P>
<hr/><p><strong>Amit</strong> on 4 Dec 2009 8:35 AM:</p><div style="margin-left: 1em"><p>Yeah, well. Even when they do try to follow standards, they (don|won|can)'t. Windows' locale name for PRC is zh-CN I couldn't find this in the IETF registry - zh-cmn, however, is the tag for Mandarin Chinese.</p></div>
<p><strong>Michael S. Kaplan</strong> on 4 Dec 2009 8:03 PM:</p><div style="margin-left: 1em"><p>Actually, zh-CN is legal because the RFC accepts names that use ISO-639 and ISO-3166 -- no individual registration required!</p>
</div>
<p><strong>Doug Ewell</strong> on 30 Sep 2010 11:05 AM:</p><div style="margin-left: 1em"><p>@Amit: zh-CN means &quot;Chinese as used in Mainland China&quot; (whatever that means). &nbsp;It is in the IETF registry; &#39;zh&#39; means Chinese and &#39;CN&#39; means China. &nbsp;Read RFC 5646.</p>
</div>
<hr/><p><em>referenced by</em></p><div style="margin-left: 1em"><p>2011/10/21 <a href="http://archives.miloush.net/michkap/archive/2011/10/21/10228635.html">Yet another time they messed up. Respectfully.</a></p><p>2010/11/08 <a href="http://archives.miloush.net/michkap/archive/2010/11/08/10087179.html">Header files are the wrong place to be less than helpful</a></p><p>2010/09/30 <a href="http://archives.miloush.net/michkap/archive/2010/09/30/10069631.html">Office skipped version "13" (makes you wonder what they will do in 2013!)</a></p><p>2007/12/19 <a href="http://archives.miloush.net/michkap/archive/2007/12/19/6792635.html">NO doesn't mean maybe, and it certainly doesn't means NB!</a></p><p>2007/09/11 <a href="http://archives.miloush.net/michkap/archive/2007/09/11/4860978.html">Perhaps they don't quite get it just yet, #1</a></p></div><p><em>go to <a id="newer" href="http://archives.miloush.net/michkap/archive/2007/08/20/4473565.html" title="Not the most sensible post to riff on, but we do deal with GD here at SIAO">newer</a> or <a id="older" href="http://archives.miloush.net/michkap/archive/2007/08/19/4460138.html" title="Additional personal speculation on the Vista MUI SKU story">older</a> post, or back to <a href="http://archives.miloush.net/michkap/archive/index.html">index</a> or <a href="http://archives.miloush.net/michkap/archive/index.html#2007-08">month</a> or <a href="http://archives.miloush.net/michkap/archive/index.html#2007-08-20">day</a></em></p></body>
<!-- Mirrored from archives.miloush.net/michkap/archive/2007/08/20/4472890.html by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 25 May 2017 00:42:37 GMT -->
</html>