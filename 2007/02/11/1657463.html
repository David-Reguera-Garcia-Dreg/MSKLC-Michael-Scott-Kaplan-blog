<html>
<!-- Mirrored from archives.miloush.net/michkap/archive/2007/02/11/1657463.html by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 25 May 2017 00:42:38 GMT -->
<head><meta charset="utf-8" /><meta name="viewport" content="width=device-width" /><title>MSKLC can't do everything, even in the 1.4 version</title></head><body>
<h1>MSKLC can't do everything, even in the 1.4 version</h1>
<p><em>by Michael S. Kaplan, published on 2007/02/11 23:44 -05:00, original URI: http://blogs.msdn.com/b/michkap/archive/2007/02/11/1657463.aspx</em></p>
<hr/> <!-- Archival Source: ProcessPostNew -->
<P>(this post&nbsp;might remind you a bit of <STRONG><A class="" href="http://archives.miloush.net/michkap/archive/2005/08/05/448006.html" mce_href="http://archives.miloush.net/michkap/archive/2005/08/05/448006.html">this other one</A></STRONG>)&nbsp;</P>
<P>Balabek asks:</P>
<BLOCKQUOTE>
<BLOCKQUOTE><FONT face="Times New Roman,Times" size=2>
<P>Hi,<BR><BR>I am trying to create a phonetical transliteration from English to Kyrgyz. The Kyrgyz language support exists in Windows XP, but I find the layout quite inconvenient.<BR><BR>I have used the MS Layout Creator 1.4 to create a layout.<BR><BR>I have defined some printable characters as dead keys. <BR><BR>The problems are:<BR><BR>(1) the deadkey is not immediately displayed. <BR><BR>For example, sh combination gives cyrillic letter ш, but s is also mapped to с. <BR><BR>(2) the deadkey character is not always working. For example, sui should be mapped to сү, but su is getting transliterated first to су (because s is defined as deadkey), then i is getting processed. The result is суи.<BR><BR>I have read some of your blogs, and I considered you might be the person who can provide a little guidance.<BR><BR>I understand that using printable characters as deadkeys is strongly advised against, and (1) is not really a problem, rather a platform limitation.<BR><BR>The problem (2) annoys me more.<BR><BR>Is there a way to flush the current deadkey character out, then treat the next incoming character as start of the new character (and possible deadkey for the new character)?<BR><BR>I understand that MS KLC does not support some features, that WDK might have.<BR><BR>Would you recommend me going through WDM keyboard samples to understand its internals?<BR><BR>Also, I read about ligatures. WDK seems to support it.<BR><BR>Though I haven't analyzed how it works, I am assuming it simply replaces several characters with single one that represents them.<BR><BR>Could it be used/manipulated to imitate transliteration? I mean, replacе sh combination to give ш as ligature or so on?<BR><BR>Regards,<BR><BR>Balabek.</P></FONT></BLOCKQUOTE></BLOCKQUOTE>
<P mce_keep="true">Well, there is bad news and worse news here, unfortunately.</P>
<P mce_keep="true">The bad news is that there is no way to accomplish a transliteration keyboard using dead keys that will not hit the problems that Balabek ran into. Dead keys cannot act as regular keys; the only way around this is the convention of putting the character it where one would put a space, and even then there is no way to ever produce more than one UTF-16 code value.</P>
<P mce_keep="true">The worse news is thst these limitations also exist in the WDK, it is intrinsic to the way that dead keys work on Windows (as I pointed out <STRONG><A class="" href="http://archives.miloush.net/michkap/archive/2004/12/17/323257.html" mce_href="http://archives.miloush.net/michkap/archive/2004/12/17/323257.html">previously</A></STRONG>).</P>
<P mce_keep="true">Oh, one other problem. As I explained last year&nbsp;in <STRONG><A class="" href="http://archives.miloush.net/michkap/archive/2005/04/07/406060.html" mce_href="http://archives.miloush.net/michkap/archive/2005/04/07/406060.html">Definitions are context sensitive</A></STRONG>, when it comes to keyboards, a ligature is multiple&nbsp;UTF-16 code value&nbsp;that come out of a single keystroke, not the other way around. Once again, there really is no mechanism here for a transliteration keyboard to hook into....</P>
<P mce_keep="true">&nbsp;</P>
<P mce_keep="true"><FONT color=#ff00ff><EM>This post brought to you by</EM>&nbsp;<FONT size=5>ш</FONT> <EM>(<A class="" href="http://www.fileformat.info/info/unicode/char/0448" mce_href="http://www.fileformat.info/info/unicode/char/0448">U+0448</A>, a.k.a. CYRILLIC SMALL LETTER SHA)</EM></FONT></P>
<hr/><p><strong>garymc</strong> on 13 Feb 2007 8:26 PM:</p><div style="margin-left: 1em"><p>Hello there,</p>
<p>Have you looked at a tool called Keyman Developer from Tavultesoft (www.tavultesoft.com)? &nbsp;I think you will find it can do what you require.</p>
<p>Gary</p>
</div>
<hr/><p><em>referenced by</em></p><div style="margin-left: 1em"><p>2007/03/16 <a href="http://archives.miloush.net/michkap/archive/2007/03/16/1894023.html">Creating keyboards in C#?</a></p></div><p><em>go to <a id="newer" href="http://archives.miloush.net/michkap/archive/2007/02/12/1658006.html" title="What&#39;s wrong with this code?">newer</a> or <a id="older" href="http://archives.miloush.net/michkap/archive/2007/02/10/1640807.html" title="Could you say that again? I am having trouble parsing it...">older</a> post, or back to <a href="http://archives.miloush.net/michkap/archive/index.html">index</a> or <a href="http://archives.miloush.net/michkap/archive/index.html#2007-02">month</a> or <a href="http://archives.miloush.net/michkap/archive/index.html#2007-02-11">day</a></em></p></body>
<!-- Mirrored from archives.miloush.net/michkap/archive/2007/02/11/1657463.html by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 25 May 2017 00:42:38 GMT -->
</html>