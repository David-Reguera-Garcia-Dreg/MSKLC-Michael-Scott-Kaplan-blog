<html>
<!-- Mirrored from archives.miloush.net/michkap/archive/2007/02/09/1632443.html by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 25 May 2017 00:42:38 GMT -->
<head><meta charset="utf-8" /><meta name="viewport" content="width=device-width" /><title>From URI to IRI, in just one version</title></head><body>
<h1>From URI to IRI, in just one version</h1>
<p><em>by Michael S. Kaplan, published on 2007/02/09 06:01 -05:00, original URI: http://blogs.msdn.com/b/michkap/archive/2007/02/09/1632443.aspx</em></p>
<hr/> <!-- Archival Source: ProcessPostNew -->
<P>The question was:</P>
<BLOCKQUOTE><FONT face="Times New Roman,Times" size=2><I>
<P>Hi All – when I pass dns name in non-english I get this error: Is DNS names in non-english not supported?<BR><BR>I passed as DNS name: அம்மா<BR><BR>Cannot marshal: Encountered unmappable character.<BR>&nbsp; at System.Net.UnsafeNclNativeMethods.SafeNetHandlesXPOrLater.getaddrinfo(String nodename, String servicename, AddressInfo&amp; hints, SafeFreeAddrInfo&amp; handle)<BR>&nbsp;&nbsp; at System.Net.Dns.GetAddrInfo(String name)<BR>&nbsp;&nbsp; at System.Net.Dns.InternalGetHostByName(String hostName, Boolean includeIPv6)<BR>&nbsp;&nbsp; at System.Net.Dns.GetHostAddresses(String hostNameOrAddress)</P></I></FONT></BLOCKQUOTE>
<P mce_keep="true">The answer immediately came to me -- the <A class="" href="http://msdn2.microsoft.com/library/system.globalization.idnmapping.aspx" mce_href="http://msdn2.microsoft.com/library/system.globalization.idnmapping.aspx">IdnMapping class</A>, which uses <A class="" href="http://www.faqs.org/rfcs/rfc3490.html" mce_href="http://www.faqs.org/rfcs/rfc3490.html">RFC 3490</A> to provide International Domain Name strings.....</P>
<P mce_keep="true">Now this answer immediately stopped me and made me wonder -- why doesn't the <A class="" href="http://msdn2.microsoft.com/library/system.net.dns.aspx" mce_href="http://msdn2.microsoft.com/library/system.net.dns.aspx">System.Net.Dns class</A> use <A class="" href="http://msdn2.microsoft.com/library/system.globalization.idnmapping.aspx" mce_href="http://msdn2.microsoft.com/library/system.globalization.idnmapping.aspx">IdnMapping</A>&nbsp;to return its answers?</P>
<P mce_keep="true">Well, it turns out that the next version of the .Net Framework will handle IRIs (International Resource Identifiers, the standard to define Unicode characters in URIs per <A class="" href="http://www.faqs.org/rfcs/rfc3987.html" mce_href="http://www.faqs.org/rfcs/rfc3987.html">RFC 3987</A>....</P>
<P mce_keep="true">Anit Paka posted about this update last October <A class="" href="http://blogs.msdn.com/amitpaka/archive/2006/10/23/net-system-uri-class-updates.aspx" mce_href="http://blogs.msdn.com/amitpaka/archive/2006/10/23/net-system-uri-class-updates.aspx">right here</A>, revealing some hints as to how this will work in terms of preserving backcompat and supporting the new functionality.</P>
<P mce_keep="true">Very cool, and also very useful!</P>
<P mce_keep="true">&nbsp;</P>
<P mce_keep="true"><FONT color=#ff00ff><EM>This post brought to you by</EM>&nbsp;<FONT size=5>அ</FONT> <EM>(<A class="" href="http://www.fileformat.info/info/unicode/char/0b85" mce_href="http://www.fileformat.info/info/unicode/char/0b85">U+0b85</A>, a.k.a. TAMIL LETTER A)</EM></FONT></P>
<hr/><div style="margin-left: 1em"><em>no comments</em></div><hr/><p><em>go to <a id="newer" href="http://archives.miloush.net/michkap/archive/2007/02/10/1640807.html" title="Could you say that again? I am having trouble parsing it...">newer</a> or <a id="older" href="http://archives.miloush.net/michkap/archive/2007/02/09/1632154.html" title="It&#39;s not about registering domain names on the slopes of Vesuvius">older</a> post, or back to <a href="http://archives.miloush.net/michkap/archive/index.html">index</a> or <a href="http://archives.miloush.net/michkap/archive/index.html#2007-02">month</a> or <a href="http://archives.miloush.net/michkap/archive/index.html#2007-02-09">day</a></em></p></body>
<!-- Mirrored from archives.miloush.net/michkap/archive/2007/02/09/1632443.html by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 25 May 2017 00:42:38 GMT -->
</html>