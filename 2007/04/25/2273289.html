<html>
<!-- Mirrored from archives.miloush.net/michkap/archive/2007/04/25/2273289.html by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 25 May 2017 00:42:38 GMT -->
<head><meta charset="utf-8" /><meta name="viewport" content="width=device-width" /><title>The nature of OrdinalIgnoreCase vs. intuitive expectations</title></head><body>
<h1>The nature of OrdinalIgnoreCase vs. intuitive expectations</h1>
<p><em>by Michael S. Kaplan, published on 2007/04/25 11:39 -04:00, original URI: http://blogs.msdn.com/b/michkap/archive/2007/04/25/2273289.aspx</em></p>
<hr/> <!-- Archival Source: ProcessPostNew -->
<P>A while back Patrick asked me:</P>
<BLOCKQUOTE><FONT face="times new roman,times"><I>
<P>Hi Michael,<BR><BR>Please forward if you’re not the right person to ask the question…<BR><BR>Let’s say I have the following code snippet.</I><BR><BR><FONT face="conolas,lucida console,courier new,courier"><B><STRONG>int comparison = String.Compare( x, y, StringComparison.CurrentCultureIgnoreCase);<BR>if (comparison == 0) {<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; comparison = String.Compare( x, y, StringComparison.OrdinalIgnoreCase);<BR>}</STRONG></B></FONT><BR><BR><I>If you compare “A” and “a”, the compared results are the same (i.e. comparison=0 NO MATTER if you use current culture or OrdinalIgnoreCase). If you passed in the Turkish I (i.e. "I" and "ı" ), the first comparison result is 0 (using current culture ignore case). Since it’s 0, the code does further comparison and the value is -232 (using ordinalIgoreCase). <BR><BR>Since Turkish "I" and "ı", are just upper/lower case, should the 2nd comparison return 0 as well? <BR><BR>Thanks!<BR>Patrick</P></I></FONT></BLOCKQUOTE>
<P mce_keep="true">Well, Patrick is right about the way casing in Turkic&nbsp;works (ref: <A class="" href="http://archives.miloush.net/michkap/archive/2004/12/03/274288.html" mce_href="http://archives.miloush.net/michkap/archive/2004/12/03/274288.html"><STRONG>The [Upper]Case of the Turkish İ (or: Casing, the 2nd)</STRONG></A>).</P>
<P mce_keep="true">But one of the core ideas in both Ordinal and OrdinalIgnoreCase comparisons is that they stay independent of culture-specific differences, so the casing operation is independent of culture.</P>
<P mce_keep="true"><EM>(Starting in .NET 2.0, the casing for OrdinalIgnoreCase&nbsp;even uses the operating system tables, which means on Vista it even uses the tables that were updated (</EM><A class="" href="http://archives.miloush.net/michkap/archive/2005/08/20/454071.html" mce_href="http://archives.miloush.net/michkap/archive/2005/08/20/454071.html"><STRONG><EM>first to 4.1</EM></STRONG></A><EM> and then to 5.0!)</EM></P>
<P mce_keep="true">But it actually shows how weird OrdinalIgnoreCase really is, doesn't it? I mean, <A class="" href="http://archives.miloush.net/michkap/archive/2007/04/17/2166496.html" mce_href="http://archives.miloush.net/michkap/archive/2007/04/17/2166496.html"><STRONG>Ordinal is bad enough</STRONG></A> in its current form, add in casing and then all bets are off.</P>
<P mce_keep="true">Just think of the operation as quite <A class="" href="http://archives.miloush.net/michkap/archive/2004/12/29/344136.html" mce_href="http://archives.miloush.net/michkap/archive/2004/12/29/344136.html">Некультурные</A>....</P>
<P mce_keep="true">&nbsp;</P>
<P mce_keep="true"><FONT color=#ff00ff><EM>This post brought to you by</EM> <FONT face=tahoma,arial,helvetica,sans-serif size=5>İ</FONT> <EM>(<A class="" href="http://www.fileformat.info/info/unicode/char/0130" mce_href="http://www.fileformat.info/info/unicode/char/0130">U+0130</A>, a.k.a. LATIN CAPITAL LETTER I WITH DOT ABOVE)</EM></FONT></P>
<hr/><div style="margin-left: 1em"><em>no comments</em></div><hr/><p><em>referenced by</em></p><div style="margin-left: 1em"><p>2007/10/08 <a href="http://archives.miloush.net/michkap/archive/2007/10/08/5320425.html">The roadꂸ to the solution starts with identifying the actual problem.NET</a></p></div><p><em>go to <a id="newer" href="http://archives.miloush.net/michkap/archive/2007/04/26/2281645.html" title="Sprechen Sie IME?">newer</a> or <a id="older" href="http://archives.miloush.net/michkap/archive/2007/04/25/2268592.html" title="Building your own better Ordinal comparison">older</a> post, or back to <a href="http://archives.miloush.net/michkap/archive/index.html">index</a> or <a href="http://archives.miloush.net/michkap/archive/index.html#2007-04">month</a> or <a href="http://archives.miloush.net/michkap/archive/index.html#2007-04-25">day</a></em></p></body>
<!-- Mirrored from archives.miloush.net/michkap/archive/2007/04/25/2273289.html by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 25 May 2017 00:42:38 GMT -->
</html>