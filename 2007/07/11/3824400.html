<html>
<!-- Mirrored from archives.miloush.net/michkap/archive/2007/07/11/3824400.html by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 25 May 2017 00:42:38 GMT -->
<head><meta charset="utf-8" /><meta name="viewport" content="width=device-width" /><title>Offense in depth</title></head><body>
<h1>Offense in depth</h1>
<p><em>by Michael S. Kaplan, published on 2007/07/11 23:35 -04:00, original URI: http://blogs.msdn.com/b/michkap/archive/2007/07/11/3824400.aspx</em></p>
<hr/> <!-- Archival Source: ProcessPostNew -->
<P>It is something I found out about right after I saw the post on Shawn's blog entitled <A class="" href="http://blogs.msdn.com/shawnste/archive/2007/07/11/security-patch-breakes-some-culture-names-for-net-2-0-on-windows-xp-2003-2000.aspx" mce_href="http://blogs.msdn.com/shawnste/archive/2007/07/11/security-patch-breakes-some-culture-names-for-net-2-0-on-windows-xp-2003-2000.aspx">Security patch MS07-040 for .Net 2.0 breaks some culture names for .Net 2.0 on Windows XP/2003/2000</A>.</P>
<P>The issue is the one I first blathered about in <STRONG><A class="" href="http://archives.miloush.net/michkap/archive/2006/06/04/616814.html" mce_href="http://archives.miloush.net/michkap/archive/2006/06/04/616814.html">Important changes in NLS that span Windows and the .NET Framework</A></STRONG>.</P>
<P>I have to admit I do not like when this sort of thing&nbsp;happens.</P>
<P>The <A class="" href="http://www.microsoft.com/technet/security/Bulletin/ms07-040.mspx" mce_href="http://www.microsoft.com/technet/security/Bulletin/ms07-040.mspx">MS07-040</A> Security Bulletin text does not mention it, and neither does <A class="" href="http://support.microsoft.com/kb/931212" mce_href="http://support.microsoft.com/kb/931212">KB 931212</A> that "documents the currently known issues that customers may experience when they install this security update."</P>
<P><FONT color=#ff0000><EM><STRONG>Update 3:51pm</STRONG>: Note that <A class="" href="http://support.microsoft.com/kb/939949" mce_href="http://support.microsoft.com/kb/939949">KB 939949</A> <STRONG>does</STRONG> talk about this change, and hopefully they will update the oher KB to link to it soon and make this blog post look horribly out of date!</EM></FONT></P>
<P>Somehow this just got shoved in, and if Shawn hadn't posted about it then no one would know until applications that used to work started breaking.</P>
<P>How is this not an issue to at least mention?</P>
<P>Now please don't misunderstand me; I do think it is an important issue, and given that some platforms (like Vista) had the fix and some did not, some apps were already having problems.</P>
<P>But no wants "stealth" fixes, especially ones with potential backcompat breaks in them. </P>
<P>In my opinion, the update should have been a separate optional one, not one that you can only opt out of if you fail to pick up multiple security bug fixes. Or even if it was listed s required, it still should have been kept separate so people could opt out....</P>
<P mce_keep="true">&nbsp;</P>
<P><FONT color=#ff00ff><EM>This post brought to you by</EM> <FONT size=5>‚å¢</FONT> <EM>(<A class="" href="http://www.fileformat.info/info/unicode/char/2322" mce_href="http://www.fileformat.info/info/unicode/char/2322">U+2322</A>, a.k.a. FROWN)</EM></FONT></P>
<hr/><p><a id="3825371" href="#3825371">#</a> <strong>Dean Harding</strong> on 12 Jul 2007 1:00 AM:</p><div style="margin-left: 1em"><p>Why is it in a security patch, anyway? What's it got to do with security?</p>
</div>
<p><a id="3825384" href="#3825384">#</a> <strong>Michael S. Kaplan</strong> on 12 Jul 2007 1:01 AM:</p><div style="margin-left: 1em"><p>That was my point, Dean. :-)</p>
</div>
<p><a id="3825423" href="#3825423">#</a> <strong>Michael S. Kaplan</strong> on 12 Jul 2007 1:04 AM:</p><div style="margin-left: 1em"><P>Well, technically that is not true. That was half of my point.</P>
<P>The other half is that if it is going to be included, this should be mentioned. That is a credibility issue, pure and simple.</P></div>
<p><a id="3825787" href="#3825787">#</a> <strong>Dean Harding</strong> on 12 Jul 2007 1:57 AM:</p><div style="margin-left: 1em"><p>&gt; The other half is that if it is going to be included, this should be mentioned.</p>
<p>Oh, heh, I thought your only point was that it wasn't documented (which is a valid point, of course). Just not clear to me that you also didn't like the fact that it was in there at all (well, except the bit at the end about how it should've been an optional download... actually now that I read your post again, that point was fairly clear... ok, move along!)</p>
</div>
<p><a id="3826104" href="#3826104">#</a> <strong>IDisposable@gmail.com (Marc C. Brooks)</strong> on 12 Jul 2007 2:11 AM:</p><div style="margin-left: 1em"><p>Why even ship this in broken form? There's no conflict in leaving the &quot;old names&quot; active and usable. &nbsp;It's not like they're going to conflict with any new culture names going forward!</p></div>
<p><a id="3828147" href="#3828147">#</a> <strong>Mike Dimmick</strong> on 12 Jul 2007 5:54 AM:</p><div style="margin-left: 1em"><p>Technical issue: the .NET Framework is serviced with cumulative updates to components. Due to the effects of the actual code changes on the CLR, a large part of the framework was included in the patch. It's more work, obviously, to just make the changes to fix the security issue based on the last general release.</p>
<p>The Windows team manages it with the GDR/QFE chains in their OS hotfixes (where the QFE chain is cumulative, and GDR contains only the changes since the last service pack or [I think] security patch). If you've installed any non-general release hotfixes (for this component?) you get the QFE version, otherwise you get the GDR version. This is much harder to do - it may even be impossible - if your installer is a Windows Installer patch.</p>
</div>
<p><a id="3828523" href="#3828523">#</a> <strong>Michael S. Kaplan</strong> on 12 Jul 2007 6:26 AM:</p><div style="margin-left: 1em"><P>Hi Mike, </P>
<P>Yep, this is why I am most bothered by the lack of info (though I was just pointed at <A class="" href="http://support.microsoft.com/kb/939949">KB939949</A>, which does cover this stuff (so the only flaw is that nothing in the patch info points to this article).</P></div>
<p><a id="3833204" href="#3833204">#</a> <strong>Steve</strong> on 12 Jul 2007 11:31 AM:</p><div style="margin-left: 1em"><p>MS07-040 breaks a lot more then just names. It toasted a major study on an asp.net box (c#05, ss2000,asp.net2). It is causing an Exception of type 'System.OutOfMemoryException' crash that will not allow .net to run. Furthermore, when an uninstall is attempted, it dies and totally kills .net. Others are starting to awake to the issues...</p>
<p><a rel="nofollow" target="_new" href="http://isc.sans.org/diary.html?storyid=3132&amp;rss">http://isc.sans.org/diary.html?storyid=3132&amp;rss</a></p></div>
<hr/><p><em>referenced by</em></p><div style="margin-left: 1em"><p>2007/09/17 <a href="http://archives.miloush.net/michkap/archive/2007/09/17/4950277.html">The torrents of U+fffd (aka When security and conformance trump compatibility and reality)</a></p></div><p><em>go to <a id="newer" href="http://archives.miloush.net/michkap/archive/2007/07/11/3825633.html" title="Mutual associative linkage interuptus">newer</a> or <a id="older" href="http://archives.miloush.net/michkap/archive/2007/07/11/3823291.html" title="GB18030 isn&#39;t an ACP, either">older</a> post, or back to <a href="http://archives.miloush.net/michkap/archive/index.html">index</a> or <a href="http://archives.miloush.net/michkap/archive/index.html#2007-07">month</a> or <a href="http://archives.miloush.net/michkap/archive/index.html#2007-07-11">day</a></em></p></body>
<!-- Mirrored from archives.miloush.net/michkap/archive/2007/07/11/3824400.html by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 25 May 2017 00:42:38 GMT -->
</html>