<html>
<!-- Mirrored from archives.miloush.net/michkap/archive/2007/01/04/1392691.html by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 25 May 2017 00:42:38 GMT -->
<head><meta charset="utf-8" /><meta name="viewport" content="width=device-width" /><title>Whither intl.inf in Vista?</title></head><body>
<h1>Whither intl.inf in Vista?</h1>
<p><em>by Michael S. Kaplan, published on 2007/01/04 03:01 -05:00, original URI: http://blogs.msdn.com/b/michkap/archive/2007/01/04/1392691.aspx</em></p>
<hr/> <!-- Archival Source: ProcessPostNew -->
<P>Regular reader Ivan&nbsp;Petrov asked in the Suggestion Box:</P>
<BLOCKQUOTE>
<P><EM><FONT face="times new roman,times">Hi Michael,<BR><BR>I've two questions for you:<BR><BR>1) What happened with the 'intl.inf' file in Windows Vista?<BR><BR>and<BR><BR>2) Where has disappeared most of its content?<BR><BR>Regards,<BR><BR>Ivan.</FONT></EM></P></BLOCKQUOTE>
<P>Now Ivan has been asking questions about various features like code pages and how to modify them or which locales point to them or which ones are installed or keyboard choices and so forth (I can recall four off the <A class="" href="http://archives.miloush.net/michkap/archive/2006/01/27/517732.html" mce_href="http://archives.miloush.net/michkap/archive/2006/01/27/517732.html"><STRONG>top</STRONG></A> <STRONG><A class="" href="http://archives.miloush.net/michkap/archive/2005/02/06/368081.html" mce_href="http://archives.miloush.net/michkap/archive/2005/02/06/368081.html">of</A></STRONG> <A class="" href="http://archives.miloush.net/michkap/archive/2006/07/05/656283.html" mce_href="http://archives.miloush.net/michkap/archive/2006/07/05/656283.html"><STRONG>my</STRONG></A> <A class="" href="http://archives.miloush.net/michkap/archive/2005/03/15/395685.html" mce_href="http://archives.miloush.net/michkap/archive/2005/03/15/395685.html"><STRONG>head</STRONG></A>&nbsp;and there are probably lots more thst one could find, too!).</P>
<P>Now intl.cpl over the course of&nbsp;Windows NT 3.1 to Windows NT 3.5 to Windows NT 4.0 to Windows 2000 to Windows XP to Windows Server 2003 had really done quite a number on this huge file that was actually built for each language SKU by combining a language neutral <STRONG>intl.inx</STRONG> with a bunch of localized <STRONG>intl.txt</STRONG> files (one per SKU), and let me tell you that file was a nightmare to maintain due to its fragile nature, its hugely complicated/hard to track dependencies, and its fragility (it was a running joke that a lead PM we had would be guaranteed to break the build every time a change was made back during the XP/Server 2003 timeframe).</P>
<P>And of course there were huge mutual dependencies with layout.inf, font.inf, hivedef.inf, and others that made it even harder to track the nature of changes - for fonts, for locale information, and so in. Some of this data was even duplicated across different INF files or between INF files and data elsewhere in the system.</P>
<P>It is true&nbsp;other INFs were also quite complicated in Windows, though ours was complicated in part because of all the efforts other teams put in to adding stuff to it any time their functionality might hinge off our configuration settings (from Index Server to fonts and so on and so on). So the breaks were also often quite hard&nbsp;to track down and sometimes even too subtle to notice.</P>
<P>We were also tied to intl.inf for post-setup operations as the file acted as a data store for install/uninstall decisions one would make later in intl.cpl or input.dll.</P>
<P>It was a nightmare.</P>
<P>In Vista with a whole new setup mechanism and an effort to make&nbsp;teams own their own components and the configurations thereof, we worked to get a lot of those more complex dependencies removed. Between that and the effort to install everything by default and not give uninstall options, most of the content went away, and the few things that were still needed needed found new homes (like LOCALE_SKEYBOARDSTOINSTALL data, described <STRONG><A class="" href="http://archives.miloush.net/michkap/archive/2006/09/03/738032.html" mce_href="http://archives.miloush.net/michkap/archive/2006/09/03/738032.html">here</A></STRONG>).</P>
<P>Now I won't claim that the new setup does not have complications of its own (how can anyone ship a product of this size that is not complicated?) though from our point of view there are many fewer complications even as we added a ton of locales and keyboards and fonts.</P>
<P>For more specifics, you'd probably have to specify what data was being looked for, precisely? :-)</P>
<P mce_keep="true">&nbsp;</P>
<P><FONT color=#ff00ff><EM>This post brought to you by</EM> <FONT size=4>Ó¾</FONT> <EM>(<A class="" href="http://www.fileformat.info/info/unicode/char/04fe" mce_href="http://www.fileformat.info/info/unicode/char/04fe">U+04fe</A>, a.k.a. CYRILLIC CAPITAL LETTER HA WITH STROKE)</P></EM></FONT>
<hr/><p><a id="1410434" href="#1410434">#</a> <strong>Ivan Petrov</strong> on 4 Jan 2007 5:09 AM:</p><div style="margin-left: 1em"><p>Thanks for the quick answer Michael :-)</p>
<p>In a few days I'll be more specific and precise on what data I was been looking for!</p>
<p>Once again - Thank you for the post!</p>
<p>Regards,</p>
<p>Ivan.</p></div>
<hr/><p><em>referenced by</em></p><div style="margin-left: 1em"><p>2008/11/17 <a href="http://archives.miloush.net/michkap/archive/2008/11/17/9111437.html">In or out of the default, no way to win, really</a></p></div><p><em>go to <a id="newer" href="http://archives.miloush.net/michkap/archive/2007/01/04/1409380.html" title="Converting a project to Unicode: Part 8 (Fitting MSLU into the mix)">newer</a> or <a id="older" href="http://archives.miloush.net/michkap/archive/2007/01/03/1395788.html" title="Converting a Project to Unicode: Part 7 (What does it mean to fit things to a &#39;T&#39;, anyway?)">older</a> post, or back to <a href="http://archives.miloush.net/michkap/archive/index.html">index</a> or <a href="http://archives.miloush.net/michkap/archive/index.html#2007-01">month</a> or <a href="http://archives.miloush.net/michkap/archive/index.html#2007-01-04">day</a></em></p></body>
<!-- Mirrored from archives.miloush.net/michkap/archive/2007/01/04/1392691.html by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 25 May 2017 00:42:38 GMT -->
</html>