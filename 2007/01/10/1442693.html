<html>
<!-- Mirrored from archives.miloush.net/michkap/archive/2007/01/10/1442693.html by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 25 May 2017 00:42:38 GMT -->
<head><meta charset="utf-8" /><meta name="viewport" content="width=device-width" /><title>Two things that suck about CurrentUICulture, (Part 2, aka On judging a book by its cover)</title></head><body>
<h1>Two things that suck about CurrentUICulture, (Part 2, aka On judging a book by its cover)</h1>
<p><em>by Michael S. Kaplan, published on 2007/01/10 06:01 -05:00, original URI: http://blogs.msdn.com/b/michkap/archive/2007/01/10/1442693.aspx</em></p>
<hr/> <!-- Archival Source: ProcessPostNew -->
<P>Back in Part 1 of this two part series where I started talking about how there are <A class="" href="http://archives.miloush.net/michkap/archive/2007/01/10/1442340.html" mce_href="http://archives.miloush.net/michkap/archive/2007/01/10/1442340.html">Two things that suck about CurrentUICulture</A>, I talked about the first thing -- the fact that the CultureInfo object is just way too big for the limited intended requirements of the user interface language.</P>
<P>Now in this post I will talk about the second thing that sucks about <A class="" href="http://msdn2.microsoft.com/en-us/library/system.globalization.cultureinfo.currentuiculture.aspx" mce_href="http://msdn2.microsoft.com/en-us/library/system.globalization.cultureinfo.currentuiculture.aspx">CurrentUICulture</A>.</P>
<P>What really sucks the most about it -- <STRONG>the name</STRONG>. </P>
<P>Colleague Nathan said it quite well (his final conclusion that I marked in red, not the first part!):</P>
<BLOCKQUOTE><FONT face="Times New Roman,Times" size=2><I>
<P>The most common misuse I‚Äôve seen for CurrentCulture vs CurrentUICulture is thinking that string will be displayed in a GUI then use CurrentUICulture, but if it is to write to a file or event log, etc.. then use CurrentCulture.<BR><BR>I‚Äôve seriously reviewed code where the UI layer uses CurrentUICulture for everything and the underlying bizlogic layer uses CurrentCulture for everything.&nbsp; And the justification is ‚Äúthe UI layer should go with CurrentUICulture and everything not directly UI should use CurrentCutlure.<BR><BR>So while you may understand that UI means any string that the user may see regardless of how it will be presented, others may understand it differently.<BR><BR>Personally I think having 2 current culture properties was a design mistake by the .NET team.&nbsp; No one has really been able to explain very well to me why 2 are needed.&nbsp; <FONT color=#ff0000>If 2 are really needed then they should have given them better names, like CurrentCulture and CurrentResourceCulture so the names can indicate their use.&nbsp; </FONT>And of course MSDN about the properties isn‚Äôt very helpful in deciding when you need to use 1 or the other.</P></I></FONT></BLOCKQUOTE>
<P>Now like I said the red part is the part I agree with. :-)</P>
<P>We always tell people to not judge&nbsp;a book by its cover. But as I pointed out in <A class="" href="http://archives.miloush.net/michkap/archive/2007/01/10/1442340.html" mce_href="http://archives.miloush.net/michkap/archive/2007/01/10/1442340.html">Part 1</A>, <A class="" href="http://msdn2.microsoft.com/en-us/library/system.globalization.cultureinfo.aspx" mce_href="http://msdn2.microsoft.com/en-us/library/system.globalization.cultureinfo.aspx">CultureInfo</A> is the wrong book anyway. So the only defense we have, the only way to keep people away, is to have a name that better suggests what the intent is, so that people can use it correctly. And more importantly stay the hell away from it when they are not specifically trying to do something with resources.</P>
<P>The fact that the name can lead people to so reasonably use it for different purposes than were originally intended not because they had strong feelings about being different but because they just read the purposes differently from the name is proof enough.</P>
<P>I am okay with people disagreeing with me, truly I am. But the engineer in me (the little guy who says the glass is neither half full nor half empty -- you just have twice as much glass as you need) if offended by the fact that people can make the wrong decision based on what the name of the property is....</P>
<P>Or, as Principal SDE Michael said it:</P>
<BLOCKQUOTE><FONT face="Times New Roman,Times" size=2><I>
<P>It seems unreasonable to expect people to remember/follow the rules if they don‚Äôt understand the why of the rules.<BR><BR>Maybe it‚Äôs because I‚Äôm not an internationalization expert. Maybe it‚Äôs because I don‚Äôt know why a user would set the CurrentCulture and the CurrentUICulture to be different. I‚Äôm just a mono-lingual programmer trying to write correct code. To do that I need to understand the why.<BR><BR>I should NEVER have a resource string like: ‚ÄúAngle of rotation must be between 0.0 and {0}‚Äù; I should have ‚ÄúAngle of rotation must be between {0} and {1}‚Äù and pass in min and max values, even though the minimum value is hard coded.<BR><BR><FONT color=#ff0000>I guess one source of my confusion is/was the name CurrentUICulture. Given its name, it seems like that‚Äôs the one I should use for UI (like formatting a string to show the user).</FONT> (Of course that left me with absolutely no use for CurrentCulture, another source of confusion.)</P></I></FONT></BLOCKQUOTE>
<P>He is 100% right, of course -- and I could get off on a whole new series explaining the problem the name&nbsp;of&nbsp;<A class="" href="http://msdn2.microsoft.com/library/system.globalization.cultureinfo.currentculture.aspx" mce_href="http://msdn2.microsoft.com/library/system.globalization.cultureinfo.currentculture.aspx">CurrentCulture</A>, too, just like he mentioned. But I think the point has been made. :-)</P>
<P>Now looking back at the serious undercurrent of the non-serious talk about the dual suckage of a particular property, the two basic issues I was pointing out were:</P>
<UL>
<LI>The object&nbsp;under the property&nbsp;is really the&nbsp;wrong object for the job</LI>
<LI>The&nbsp;property is named in a way that can lead people to use it the wrong way</LI></UL>
<P>I suppose if what I am against is not only what&nbsp;a property is called but also what it is, then perhaps it is more than just two things. But I honestly only care about either problem insofar as they can mislead developers and potentially cause mistakes to be made in their applications. So I guess you could just say there is just that one thing that really annoys me. One thing with subparts. :-)</P>
<P>Thinking about the language for a bit, and extending the notion of <STRONG><A class="" href="http://archives.miloush.net/michkap/archive/2005/06/28/433365.html" mce_href="http://archives.miloush.net/michkap/archive/2005/06/28/433365.html">programming being a dialect</A></STRONG>, what happens when the wrong word (or the wrong object)&nbsp;is put in somewhere like this?&nbsp;It is not so easy to change, even if everyone is misusing it. Because even if you accept programming languages as languages, they are clearly much more rigidly structured by rules that are harder to flout with impunity on a widespread basis (I can only think of one exception to this, one that I'll talk about another day!).</P>
<P>Clearly documentation could help mitigate this,&nbsp;And to be honest, the docs and the tooltip for <A class="" href="http://msdn2.microsoft.com/en-us/library/system.globalization.cultureinfo.currentuiculture.aspx" mce_href="http://msdn2.microsoft.com/en-us/library/system.globalization.cultureinfo.currentuiculture.aspx">CurrentUICulture</A>&nbsp;try:</P>
<BLOCKQUOTE>
<P><EM>Gets the System.Globalization.CultureInfo that represents the current culture&nbsp;used by the Resource Manager to look up culture-specific resources at run time.</EM>&nbsp;</P></BLOCKQUOTE>
<P>But as many have indicated, the docs do not really clarify things much here for people. Even if they clearly indicate what the intent is, it is too easy to look at the wrong name and the wrong object and come to the wrong conclusion.</P>
<P>Also for another day, I'll say more about the actual scenarios requiring two settings here.&nbsp;That one is at least going to easily fill up a topic if not a series of them. :-)&nbsp;</P>
<P mce_keep="true">&nbsp;</P>
<P><FONT color=#ff00ff><EM>This post brought to you by</EM>&nbsp;<FONT size=5>ùåΩ</FONT> <EM>(<A class="" href="http://www.fileformat.info/info/unicode/char/1d33d" mce_href="http://www.fileformat.info/info/unicode/char/1d33d">U+1d33d</A>, a.k.a. TETRAGRAM FOR CLOSED MOUTH)</EM></FONT></P>
<hr/><p><a id="1443815" href="#1443815">#</a> <strong>bg</strong> on 10 Jan 2007 7:51 AM:</p><div style="margin-left: 1em"><p> &gt; I'll say more about the actual scenarios requiring two settings here.</p>
<p>Yes Please, i'm in the throws of implementing sattelite assemblies for localizing our forms/strings. and before I say stuff to our devs like: everyone has to put CurrentUICulture = CurrentCulure (or whatever) in the main entrypoint, it would be nice to know the whys and hows.</p>
<p>bg</p></div>
<p><a id="1444973" href="#1444973">#</a> <strong>Phil Jollans</strong> on 10 Jan 2007 10:36 AM:</p><div style="margin-left: 1em"><p>So why would you want to set CurrentCulture and CurrentUICulture to different values?</p>
<p>Phil</p></div>
<p><a id="1445040" href="#1445040">#</a> <strong>Michael S. Kaplan</strong> on 10 Jan 2007 11:01 AM:</p><div style="margin-left: 1em"><p>No worries, I will be covering this soon. :-)</p>
</div>
<p><a id="1450361" href="#1450361">#</a> <strong>Shreekar</strong> on 11 Jan 2007 7:12 AM:</p><div style="margin-left: 1em"><p>I would also like to know the pros and cons if possible between loading resources from resource files AND loading resources from database.</p></div>
<p><a id="1450411" href="#1450411">#</a> <strong>Michael S. Kaplan</strong> on 11 Jan 2007 7:32 AM:</p><div style="margin-left: 1em"><p>Hmmmm.... how many localizers do you know who work with databases that you send out and then get back from them?</p>
<p>Better to go with a format they can use that has tools so that they are able to work with them....</p>
</div>
<hr/><p><em>referenced by</em></p><div style="margin-left: 1em"><p>2010/01/16 <a href="http://archives.miloush.net/michkap/archive/2010/01/16/9949421.html">Culture: don't have none, won't be none!</a></p><p>2007/08/20 <a href="http://archives.miloush.net/michkap/archive/2007/08/20/4472890.html">It is true that your LCID sucks, but your LANGID sucks more</a></p><p>2007/02/22 <a href="http://archives.miloush.net/michkap/archive/2007/02/22/1738268.html">Culture vs. Culture</a></p><p>2007/01/11 <a href="http://archives.miloush.net/michkap/archive/2007/01/11/1449754.html">Why we have both CurrentCulture and CurrentUICulture</a></p></div><p><em>go to <a id="newer" href="http://archives.miloush.net/michkap/archive/2007/01/11/1449754.html" title="Why we have both CurrentCulture and CurrentUICulture">newer</a> or <a id="older" href="http://archives.miloush.net/michkap/archive/2007/01/10/1442340.html" title="Two things that suck about CurrentUICulture (Part 1, aka It&#39;s just too much!)">older</a> post, or back to <a href="http://archives.miloush.net/michkap/archive/index.html">index</a> or <a href="http://archives.miloush.net/michkap/archive/index.html#2007-01">month</a> or <a href="http://archives.miloush.net/michkap/archive/index.html#2007-01-10">day</a></em></p></body>
<!-- Mirrored from archives.miloush.net/michkap/archive/2007/01/10/1442693.html by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 25 May 2017 00:42:38 GMT -->
</html>