<html>
<!-- Mirrored from archives.miloush.net/michkap/archive/2007/01/28/1547147.html by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 25 May 2017 00:42:38 GMT -->
<head><meta charset="utf-8" /><meta name="viewport" content="width=device-width" /><title>Stealth features (like language detection?)</title></head><body>
<h1>Stealth features (like language detection?)</h1>
<p><em>by Michael S. Kaplan, published on 2007/01/28 09:31 -05:00, original URI: http://blogs.msdn.com/b/michkap/archive/2007/01/28/1547147.aspx</em></p>
<hr/> <!-- Archival Source: ProcessPostNew -->
<P><FONT face=tahoma,arial,helvetica,sans-serif>Under discussion today are eight characters made famous in <A class="" href="http://archives.miloush.net/michkap/archive/2006/11/19/1104093.html" mce_href="http://archives.miloush.net/michkap/archive/2006/11/19/1104093.html"><STRONG>several</STRONG></A> <STRONG><A class="" href="http://archives.miloush.net/michkap/archive/2006/12/09/1245128.html" mce_href="http://archives.miloush.net/michkap/archive/2006/12/09/1245128.html">prior</A></STRONG> <STRONG><A class="" href="http://archives.miloush.net/michkap/archive/2007/01/26/1535060.html" mce_href="http://archives.miloush.net/michkap/archive/2007/01/26/1535060.html">posts</A></STRONG>:</FONT></P>
<UL>
<LI><FONT face=tahoma,arial,helvetica,sans-serif>ş (<A class="" href="http://www.fileformat.info/info/unicode/char/015f" mce_href="http://www.fileformat.info/info/unicode/char/015f">U+015f</A>, LATIN SMALL LETTER S WITH CEDILLA)</FONT></LI>
<LI><FONT face=Tahoma>Ş (</FONT><A class="" href="http://www.fileformat.info/info/unicode/char/015e" mce_href="http://www.fileformat.info/info/unicode/char/015e"><FONT face=Tahoma>U+015e</FONT></A><FONT face=Tahoma>, LATIN CAPITAL LETTER S WITH CEDILLA)</FONT></LI>
<LI><FONT face=tahoma,arial,helvetica,sans-serif>ţ (<A class="" href="http://www.fileformat.info/info/unicode/char/0163" mce_href="http://www.fileformat.info/info/unicode/char/0163">U+0163</A>, LATIN SMALL LETTER T WITH CEDILLA)</FONT></LI>
<LI><FONT face=Tahoma>Ţ (</FONT><A class="" href="http://www.fileformat.info/info/unicode/char/0162" mce_href="http://www.fileformat.info/info/unicode/char/0162"><FONT face=Tahoma>U+0162</FONT></A><FONT face=Tahoma>, LATIN CAPITAL LETTER T WITH CEDILLA)</FONT></LI>
<LI><FONT face=tahoma,arial,helvetica,sans-serif>ș&nbsp;(<A class="" href="http://www.fileformat.info/info/unicode/char/0219" mce_href="http://www.fileformat.info/info/unicode/char/0219">U+0219</A>, LATIN SMALL LETTER S WITH COMMA BELOW)</FONT></LI>
<LI><FONT face=tahoma,arial,helvetica,sans-serif>Ș (<A class="" href="http://www.fileformat.info/info/unicode/char/0218" mce_href="http://www.fileformat.info/info/unicode/char/0218">U+0218</A>, LATIN CAPITAL LETTER S WITH COMMA BELOW)</FONT></LI>
<LI><FONT face=tahoma,arial,helvetica,sans-serif>ț (<A class="" href="http://www.fileformat.info/info/unicode/char/021b" mce_href="http://www.fileformat.info/info/unicode/char/021b">U+021b</A>, LATIN SMALL LETTER T WITH COMMA BELOW)</FONT></LI>
<LI><FONT face=tahoma,arial,helvetica,sans-serif>Ț (<A class="" href="http://www.fileformat.info/info/unicode/char/021a" mce_href="http://www.fileformat.info/info/unicode/char/021a">U+021a</A>, LATIN CAPITAL LETTER T WITH COMMA BELOW)</FONT></LI></UL>
<P>Now obviously it takes an explicit act of typography to add letters to a font if they are not there. That is obvious and not at all what this post is about.</P>
<P>Instead, this post is about taking S/s (<A class="" href="http://www.fileformat.info/info/unicode/char/0053" mce_href="http://www.fileformat.info/info/unicode/char/0053">U+0053</A>/<A class="" href="http://www.fileformat.info/info/unicode/char/0073" mce_href="http://www.fileformat.info/info/unicode/char/0073">U+0073</A>)&nbsp;or T/t (<A class="" href="http://www.fileformat.info/info/unicode/char/0054" mce_href="http://www.fileformat.info/info/unicode/char/0054">U+0054</A>/<A class="" href="http://www.fileformat.info/info/unicode/char/0074" mce_href="http://www.fileformat.info/info/unicode/char/0074">U+0074</A>)&nbsp;and making use of them with <A class="" href="http://www.fileformat.info/info/unicode/char/0326" mce_href="http://www.fileformat.info/info/unicode/char/0326">U+0326</A> (COMBINING COMMA BELOW) and <A class="" href="http://www.fileformat.info/info/unicode/char/0327" mce_href="http://www.fileformat.info/info/unicode/char/0327">U+0327</A> (COMBINING CEDILLA).</P>
<P>It was back in April of last year that our good friend Cristi asked in the microsoft.public.win32.programmer.international newsgroup:</P>
<BLOCKQUOTE><FONT face="Times New Roman,Times" size=2><I>
<P>I tried to do the following Unicode character combination, using Times New Roman font:&nbsp; <BR><BR>0074 0327 (with no space between them)&nbsp; <BR><BR>where 0074 is latin small letter t and 0327 is combining cedilla below. The expected displayed result should have been character t with cedilla below, but the actual displayed character is t with comma below.&nbsp; <BR><BR>I know that in TNR font the glyph associated with U+0163 has comma below, but what has this to do (a distinct Unicode combined character) with separate base character + combining diacritical mark combination ? <BR><BR>HOWEVER, the strangest thing is this: if the 0074 0327 combination is preceded by (let's say) 0061 0327 (that is the displayed character a with cedilla below), the displayed t with comma below becomes t with cedilla below !<BR><BR>What's the mess ?<BR><BR>I tried this in Wordpad (WinXP) and MS Word.<BR><BR>Cristi</P></I></FONT></BLOCKQUOTE>
<P>Now it isn't all that confusing if you think about it. After all, when rendering an attempt to find a glyph in the font that represents the composite (combined) form of the letter and diacritic is always attempted.</P>
<P>Trying to&nbsp;work to literally combine a diacritic to a base character at a specific defined "attachment" point a second best option.</P>
<P>And of course&nbsp;the attempt to shove the diacritic in without that knowledge a distant third that leads to problems like <STRONG><A class="" href="http://archives.miloush.net/michkap/archive/2005/02/06/367985.html" mce_href="http://archives.miloush.net/michkap/archive/2005/02/06/367985.html">this&nbsp;one</A></STRONG> I&nbsp;talked about&nbsp;in Cyrillic that affects Bulgarian).</P>
<P>The behavior that Cristi reported&nbsp;was before most of Microsoft's shipping fonts included the newer "comma below" characters but certainly after <A class="" href="http://www.fileformat.info/info/unicode/char/0326" mce_href="http://www.fileformat.info/info/unicode/char/0326">U+0326</A> existed and long after the Romanians had made it clear they preferred the "comma below" form to the "cedilla below" form in their text.</P>
<P>The font is simply using clues to try decide which one to show and is trying to help Romanian documents look more Romanian, using surrounding clues in the text to try and find the best form to use. It is really just a&nbsp;somewhat sophisticated&nbsp;form of language&nbsp;detection via letter choice&nbsp;if you think about it.</P>
<P>That is actually kind of cool, in my opinion.</P>
<P>I really wish&nbsp;that this functionality existed in a callable form, but unfortunately it is not (MLang's encoding support includes a locale parameter but no sophisticated work to fill it in is used at present).</P>
<P>Of course this one particular occurrence of the feature is less important now in Vista where the support for the correct characters is there. But as a stealth feature that few people ever seemed to notice before, it is still pretty interesting, if you ask me. :-)</P>
<P mce_keep="true">&nbsp;</P>
<P><FONT color=#ff00ff><EM>This post brought to you by </EM>&nbsp;<FONT face=tahoma,arial,helvetica,sans-serif size=5>̧</FONT>&nbsp; <EM>(<A class="" href="http://www.fileformat.info/info/unicode/char/0327" mce_href="http://www.fileformat.info/info/unicode/char/0327">U+0327</A>, a.k.a. COMBINING CEDILLA)</EM></FONT></P>
<hr/><p><a id="1547467" href="#1547467">#</a> <strong>Cristian Secară</strong> on 28 Jan 2007 11:09 AM:</p><div style="margin-left: 1em"><p>&gt; That is actually kind of cool, in my opinion.</p>
<p>Well, that's not so cool in my opinion, at least not for languages where their national keyboards include the language specific characters on their own separate keys.</p>
<p>What is the reason for the dead keys ? I can speak for my language, Romanian: their presence is useful when writting in foreign languages, not in my own *). Likewise, general use of combining diacritical marks should deserve the same concept, once my own specific characters are already there separately.</p>
<p>Who decides in what language I want to write something ? I know, in Word I can specify the language document, but (1) maybe I write something in Romanian but include inline examples using German phrases, or (2) maybe I am using Wordpad, for simple document tasks.</p>
<p>Perhaps some sort of OFF/ON switch for this &quot;cool&quot; option would be best. </p>
<p>*) The need for dead keys when writing in Romanian language appears seldom when one wants to show the pronunciation accent (like in dictionaries), or when one wnats to avoid confusions when a word may have a different senses, like c&#243;pii versus cop&#237;i (copies versus children)</p>
<p>Cristi</p></div>
<p><a id="1547637" href="#1547637">#</a> <strong>Michael S. Kaplan</strong> on 28 Jan 2007 12:16 PM:</p><div style="margin-left: 1em"><p>Well Cristi, I think you need to start by providing the real, non-contrived example where you get the wrong result. And then we can go from there about what needs to be improved in the future. :-)</p>
</div>
<p><a id="1548129" href="#1548129">#</a> <strong>Cristian Secară</strong> on 28 Jan 2007 3:38 PM:</p><div style="margin-left: 1em"><p>Ok, I will keep that in my mind and will try to provide feedback once I will find a tangible example in my universe. Until then, for me this remains probably just a mind game, something similar to the undisableable automatic feature of Notepad which may conduct to games like this one here <a rel="nofollow" target="_new" href="http://archives.miloush.net/michkap/archive/2006/06/14/631016.html">http://blogs.msdn.com/michkap/archive/2006/06/14/631016.aspx</a> :)</p>
<p>Cristi</p></div>
<p><a id="1548230" href="#1548230">#</a> <strong>Michael S. Kaplan</strong> on 28 Jan 2007 4:28 PM:</p><div style="margin-left: 1em"><p>Hmmm.... not really a very fair comparison in this case, if you ask me.</p>
</div>
<hr/><p><em>go to <a id="newer" href="http://archives.miloush.net/michkap/archive/2007/01/29/1551066.html" title="Whatever happened to ASMO, anyway?">newer</a> or <a id="older" href="http://archives.miloush.net/michkap/archive/2007/01/26/1537879.html" title="Suggest a Topic!">older</a> post, or back to <a href="http://archives.miloush.net/michkap/archive/index.html">index</a> or <a href="http://archives.miloush.net/michkap/archive/index.html#2007-01">month</a> or <a href="http://archives.miloush.net/michkap/archive/index.html#2007-01-28">day</a></em></p></body>
<!-- Mirrored from archives.miloush.net/michkap/archive/2007/01/28/1547147.html by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 25 May 2017 00:42:38 GMT -->
</html>