<html>
<!-- Mirrored from archives.miloush.net/michkap/archive/2007/01/26/1535060.html by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 25 May 2017 00:42:38 GMT -->
<head><meta charset="utf-8" /><meta name="viewport" content="width=device-width" /><title>Be careful what you wish for (just in case it comes true!) aka When a Cedilla needs to be a Comma Below (and vice versa)</title></head><body>
<h1>Be careful what you wish for (just in case it comes true!) aka When a Cedilla needs to be a Comma Below (and vice versa)</h1>
<p><em>by Michael S. Kaplan, published on 2007/01/26 06:01 -05:00, original URI: http://blogs.msdn.com/b/michkap/archive/2007/01/26/1535060.aspx</em></p>
<hr/> <!-- Archival Source: ProcessPostNew -->
<P>It's funny how sometimes I'll have a blog post on my list of posts to write that, once I get down to writing it, ends up very different than I originally imagined. And then other times, it is pretty much exactly as I had constructed in my mind, perhaps days or weeks or even months before.</P>
<P>This post is a much more like the former than the latter, as the post ended up being influenced by someone independently asking me a question about the topic. :-)</P>
<P>Martin asked me:</P>
<BLOCKQUOTE>
<P><FONT face="times new roman,times"><EM>Windows Vista now supports four new Romanian characters through updated fonts and a new keyboard layout, see </EM></FONT><A href="http://archives.miloush.net/michkap/archive/2006/11/19/1104093.html"><FONT face="times new roman,times"><EM>http://blogs.msdn.com/michkap/archive/2006/11/19/1104093.aspx</EM></FONT></A><FONT face="times new roman,times"><EM> for images and Unicode codes.<BR><BR>Pre-Vista, Romanians had to make do with similar looking characters from the Turkish alphabet, namely capital and lower-case s and t with cedilla, U+015e, U+015f, U+0162, U+0163. There is a vast body of Romanian documents and online content with these characters.<BR><BR>Now, say, a Romanian Vista users wants to search a webpage or desktop for “<FONT face=tahoma,arial,helvetica,sans-serif>Brașov</FONT>”, a place name. With the default Romanian Standard keyboard, they enter the string in the IE search or Windows Desktop search with the new spelling, s with comma, U+0219. However, the content they are searching was created with the old spelling, using s with cedilla, U+015f. The search will fin nothing. Technically this is by design, but for Romanians who deem these characters as two interchangeable representations of the same sound, this is a bug.</EM></FONT></P></BLOCKQUOTE>
<P>Now it is an interesting point, and one that really can give a person pause. After all, the Romanians have been objecting to use of the cedilla below characters in their language for about as long as people have been using it (and I still have to post that <A class="" href="http://archives.miloush.net/michkap/archive/tags/Every+Character+Has+a+Story/default.aspx" mce_href="../../../../archive/tags/Every+Character+Has+a+Story/default.aspx"><STRONG>Every Character Has a Story</STRONG></A> post!), but even ignoring all that there is a&nbsp;serious&nbsp;legacy data issue to contend with, one that just adding it to fonts can't completely help with, no matter how cool stuff like <STRONG><A class="" href="http://archives.miloush.net/michkap/archive/2006/11/19/1104093.html" mce_href="http://archives.miloush.net/michkap/archive/2006/11/19/1104093.html">this</A></STRONG> and <A class="" href="http://archives.miloush.net/michkap/archive/2006/12/09/1245128.html" mce_href="http://archives.miloush.net/michkap/archive/2006/12/09/1245128.html"><STRONG>this</STRONG></A> may be. Because it affects text processing as a whole.</P>
<P>Although with that said, the NLS&nbsp;Romanian collation tables on Vista will create the equivalences so that you will get the right results. Therefore:</P>
<P><FONT face=tahoma,arial,helvetica,sans-serif>ș&nbsp;(<A class="" href="http://www.fileformat.info/info/unicode/char/0219" mce_href="http://www.fileformat.info/info/unicode/char/0219">U+0219</A>, LATIN SMALL LETTER S WITH COMMA BELOW)&nbsp;≡ ş (<A class="" href="http://www.fileformat.info/info/unicode/char/015f" mce_href="http://www.fileformat.info/info/unicode/char/015f">U+015f</A>, LATIN SMALL LETTER S WITH CEDILLA)</FONT></P>
<P><FONT face=tahoma,arial,helvetica,sans-serif>Ș (<A class="" href="http://www.fileformat.info/info/unicode/char/0218" mce_href="http://www.fileformat.info/info/unicode/char/0218">U+0218</A>, LATIN CAPITAL LETTER S WITH COMMA BELOW)&nbsp;≡ Ş (<A class="" href="http://www.fileformat.info/info/unicode/char/015e" mce_href="http://www.fileformat.info/info/unicode/char/015e">U+015e</A>, LATIN CAPITAL LETTER S WITH CEDILLA)</FONT></P>
<P><FONT face=tahoma,arial,helvetica,sans-serif>ț (<A class="" href="http://www.fileformat.info/info/unicode/char/021b" mce_href="http://www.fileformat.info/info/unicode/char/021b">U+021b</A>, LATIN SMALL LETTER T WITH COMMA BELOW)&nbsp;≡ ţ (<A class="" href="http://www.fileformat.info/info/unicode/char/0163" mce_href="http://www.fileformat.info/info/unicode/char/0163">U+0163</A>, LATIN SMALL LETTER T WITH CEDILLA)</FONT></P>
<P><FONT face=tahoma,arial,helvetica,sans-serif>Ț (<A class="" href="http://www.fileformat.info/info/unicode/char/021a" mce_href="http://www.fileformat.info/info/unicode/char/021a">U+021a</A>, LATIN CAPITAL LETTER T WITH COMMA BELOW)&nbsp;≡ Ţ (<A class="" href="http://www.fileformat.info/info/unicode/char/0162" mce_href="http://www.fileformat.info/info/unicode/char/0162">U+0162</A>, LATIN CAPITAL LETTER T WITH CEDILLA)</FONT></P>
<P>In other words, people who use the Vista collation functions (<A class="" href="http://msdn2.microsoft.com/library/ms647476.aspx" mce_href="http://msdn2.microsoft.com/library/ms647476.aspx">CompareString</A>,&nbsp;<A class="" href="http://msdn2.microsoft.com/library/ms647477.aspx" mce_href="http://msdn2.microsoft.com/library/ms647477.aspx">CompareStringEx</A>, and so on) with either <STRONG>MAKELANGID(LANG_ROMANIAN, SUBLANG_DEFAULT)</STRONG> or <STRONG>ro-RO</STRONG> as appropriate will be able to get the right results here.</P>
<P>Of course as Martin's question&nbsp;points out, other Microsoft products may not fare as well if they do not call our functions or create the equivalences themselves. Which is going to lead to some&nbsp;confusion among customers, and really make us wish that everyone was calling us to lead to the most consistent experience.</P>
<P>I'll talk more about this tomorrow, and how the .NET Framework fares here....</P>
<P mce_keep="true">&nbsp;</P>
<P><FONT color=#ff00ff><FONT face=Tahoma><EM>This post brought to you by</EM> <FONT size=5>Ț</FONT> <EM>(</EM></FONT><EM><FONT face=Tahoma><A class="" href="http://www.fileformat.info/info/unicode/char/021a" mce_href="http://www.fileformat.info/info/unicode/char/021a">U+021a</A></FONT><FONT face=Tahoma>, a.k.a. LATIN CAPITAL LETTER T WITH COMMA BELOW)</FONT></EM></FONT></P>
<hr/><p><a id="1544745" href="#1544745">#</a> <strong>Cristian Secară</strong> on 27 Jan 2007 8:48 PM:</p><div style="margin-left: 1em"><p>At first glance it appears that Martin is right. When searching with the &quot;new&quot; characters, something written previously with the &quot;old&quot; characters are no longer found.</p>
<p>But as always, things are in gray colour.</p>
<p>I assume Martin is on Microsoft Windows. How about using an Apple MacOS ? A document written in Romanian language on a MacOS was never view-able on Windows, because of the missing ș and ț glyphs on Windows, let alone searching. Now this is solved. Is this a bad thing on Windows ?</p>
<p>Many Internet pages written in Romanian language are technically written by poor technically skilled peoples, systems are set up by poor technically skilled peoples. Because of this, a popular concept is that it is better to write without diacritical marks at all, so no unexpected bizzare characters will appear (well, some poor designed giant software systems, like the classic Yahoo Mail, have played a big role in proving to us that the concept is correct). Because of this, a popular concept is that it is better to search on Internet without diacritical marks at all, so the result will match the real sites. So this too is solved, in a per-se manner.</p>
<p>The Romanian Academy exists, whether we consider this a good thing, or a bad thing, or an annoying thing. In modern days, the situation with the ș and ț characters was never different. The only new thing is that they now explained clearly in written that the diacritical mark under the ș and ț is &quot;comma&quot;, not &quot;cedilla&quot;, and this only after a special request at the time the Romanian keyboard standard has been revised. Until now, this was only assumed, not described. If this clarification have been there some 20 years ago, when the ISO-8859-2 standard was first published, then today we had no problem at all.</p>
<p>What Romanian characters are to be considered after all ? Those specified by the Romanian Academy ? Those generated by Windows systems prior to Vista ? Those generated by MacOS ?</p>
<p>The Romanian Academy should have been forced to change the cultural rules because, for now, there are a lot of Romanian websites with cedillas, because at one moment in time a technical standard was wrong written by non-Romanian peoples ? Or the other way round ?</p>
<p>Yes, unfortunately there will be some mess for some time for now, but the mess was already there, now it only starts a (long) process for clarifying. The solution must come from database programmers, who -- on Internet -- have found already a solution for finding words with cedillas when searching with no diacritical marks at all and vice versa. Now they only have to extend a little their algorithms.</p>
<p>The problem is less tehcnical, but merely a communication issue: who tells &quot;them&quot; to do this / that we need this / what we need in fact ? I tried an indirect contact at Google, for example, but with no success so far. I can only hope to find a better/different way to do this and/or to find the proper contact person. Or maybe there are some others like me who act in the same direction, who knows ?</p>
<p>Cristi</p></div>
<p><a id="1546707" href="#1546707">#</a> <strong>Michael S. Kaplan</strong> on 28 Jan 2007 6:01 AM:</p><div style="margin-left: 1em"><p>Hey Cristi! </p>
<p>Well, &nbsp;just remember that the easiest way to tell who is doing it right by calling the Vista collation functions in the NLS API is to check this particular issue in Romanian. :-)</p>
</div>
<p><a id="1550057" href="#1550057">#</a> <strong>Mar</strong> on 29 Jan 2007 12:25 AM:</p><div style="margin-left: 1em"><p>Google could easily give people using google.ro the preferences option of merging S and T with comma with S and T with cedilla for searching purposes.</p></div>
<p><a id="1551498" href="#1551498">#</a> <strong>Michael S. Kaplan</strong> on 29 Jan 2007 7:41 AM:</p><div style="margin-left: 1em"><P>Well, I like to avoid the word "easily" when I do not have details about a technical implementation (it is easy to do this in a database conceptually, but perhaps there are technical reasons why it would be complicated to do this?).</P>
<P>:-)</P></div>
<p><a id="1552453" href="#1552453">#</a> <strong>Cristian Secară</strong> on 29 Jan 2007 1:16 PM:</p><div style="margin-left: 1em"><p>As I said, the problem is less technical (either easy or difficult or impossible, I don't want to speculate), but a relationship problem. How do &quot;they&quot; know about this requirement ?</p>
<p>Cristi</p></div>
<p><a id="1552600" href="#1552600">#</a> <strong>Michael S. Kaplan</strong> on 29 Jan 2007 2:21 PM:</p><div style="margin-left: 1em"><p>I can barely try to be reponsible for helping communicate issues to Microsoft (even that can be a stretch with such a huge company!). I cannot take responsibility for making sure Google is going the right thing for Romanian. Sorry about that, but there is only so much I can do....</p>
</div>
<p><a id="1553569" href="#1553569">#</a> <strong>Cristian Secară</strong> on 29 Jan 2007 5:23 PM:</p><div style="margin-left: 1em"><p>Well, what can I say – thank you for that!</p>
<p>Frankly speaking, I wish that this kind of issues should have been communicated/solved via official channels between MS Romania and MS headquarter, but unfortunately, over time, I didn't observed much (if any) preoccupation for the kind of issues we are talking here ...</p>
<p>On the other hand, as a personal opinion, a subsidiary has probably little initiative on its own, which I can understand to a certain degree.</p>
<p>Cristi</p></div>
<p><a id="1555246" href="#1555246">#</a> <strong>Luci Şandor</strong> on 29 Jan 2007 11:54 PM:</p><div style="margin-left: 1em"><p>Totally cool. I am amazed by the complexity of these mechanisms. One would not be able to tell how hard was to implement these things in the first place, until you see how hard is to change them. I am going to ask a refund, after so many years misspelling my name :) or maybe I deserve a free upgrade to Vista, if the upgrade fixes this issue.</p></div>
<p><a id="1555251" href="#1555251">#</a> <strong>Luci Şandor</strong> on 29 Jan 2007 11:56 PM:</p><div style="margin-left: 1em"><p>I can't use Ş on this blog, I totally deserve a free upgrade to Vista so I can write my name.</p></div>
<p><a id="1555254" href="#1555254">#</a> <strong>Luci Sandor</strong> on 29 Jan 2007 11:56 PM:</p><div style="margin-left: 1em"><p>I can't use Ş on this blog, and I totally deserve a free upgrade to Vista so I can write my name the right way.</p></div>
<p><a id="1556079" href="#1556079">#</a> <strong>Michael S. Kaplan</strong> on 30 Jan 2007 4:10 AM:</p><div style="margin-left: 1em"><p>Hmmmm..... well, you can try that argument with MS Romania and see what they say. I am not sure they will consider that to be the best argument to use, depending on what your current OS is? :-)</p>
</div>
<p><a id="1556566" href="#1556566">#</a> <strong>Cristian Secară</strong> on 30 Jan 2007 6:36 AM:</p><div style="margin-left: 1em"><p>To Luci Șandor: You can write correctly your name in this blog even now, if you are on Win2000 or WinXP.</p>
<p>All you need to do is:</p>
<p>- update your Verdana font, from here <a rel="nofollow" target="_new" href="http://www.microsoft.com/downloads/details.aspx?FamilyID=0ec6f335-c3de-44c5-a13d-a1e7cea5ddea&amp;DisplayLang=en">http://www.microsoft.com/downloads/details.aspx?FamilyID=0ec6f335-c3de-44c5-a13d-a1e7cea5ddea&amp;DisplayLang=en</a></p>
<p>- install my updated keyboard layout driver and use it in „Romanian (Standard)” mode to write correctly, from here <a rel="nofollow" target="_new" href="http://www.secarica.ro/html/ro_kbd_winxp.html">http://www.secarica.ro/html/ro_kbd_winxp.html</a></p>
<p>:)</p>
<p>Cristi</p></div>
<p><a id="1557028" href="#1557028">#</a> <strong>Luci Sandor</strong> on 30 Jan 2007 7:37 AM:</p><div style="margin-left: 1em"><P>Sorry for the multiple posting: it kept reading the wrong name from the cookie when I used "Remember me", and I was afraid I wasn't making my point clear (well, in fact, a misspelling of that kind will make it my point ven more obvious). Still, it's with a cedilla all over the place, since I am using Windows XP. I have to find a Mac and zoom all the way to see if it displays correctly there.</P>
<P>Unfortunately MS Romania, although very helpful (I remember a smart answer for <A href="http://lucisandor.blogspot.com/2003/10/automatic-daylight-savings-adjustment.html">correcting the Romanan daylight saving time</A>), is a bit overwhelmed, since it is mostly working in Hungary.</P>
<P>There will be no Vista discount, since thousands of Romanians will have the same issue with ş and ţ. Personally, I recall the weird way of typing these letters, using Alt Gr, I recall the times when a file could not be named with a ş or a ă, and I felt grateful since Windows 2000, even though behind the scenes, it was a cedilla all this time.</P>
<P>...And understod why it was this way, when I recalled Romania 20 years ago, at the height of nationalist communism and under some sort of IT embargo.</P></div>
<p><a id="1557440" href="#1557440">#</a> <strong>Mar</strong> on 30 Jan 2007 9:41 AM:</p><div style="margin-left: 1em"><p>Even if Google won't do it, it would be easy to make a browser extension ;-)</p></div>
<p><a id="2083682" href="#2083682">#</a> <strong>eiffel</strong> on 11 Apr 2007 4:56 AM:</p><div style="margin-left: 1em"><p>And as an notification - there is no Romanian Standard Keyboard on the Romanian Market - only US Standard.</p></div>
<p><a id="2084682" href="#2084682">#</a> <strong>Cristian Secară</strong> on 11 Apr 2007 6:49 AM:</p><div style="margin-left: 1em"><p>The German manufacturer Cherry can deliver Romanian standardized keyboards, the only problem may be that they requires a minimum ordering quantity of 1000 pieces :)</p>
<p>Cristi</p></div>
<hr/><p><em>referenced by</em></p><div style="margin-left: 1em"><p>2007/06/07 <a href="http://archives.miloush.net/michkap/archive/2007/06/07/3146122.html">Putting the camel's nose in Building 24</a></p><p>2007/01/28 <a href="http://archives.miloush.net/michkap/archive/2007/01/28/1547147.html">Stealth features (like language detection?)</a></p></div><p><em>go to <a id="newer" href="http://archives.miloush.net/michkap/archive/2007/01/26/1537879.html" title="Suggest a Topic!">newer</a> or <a id="older" href="http://archives.miloush.net/michkap/archive/2007/01/26/1534613.html" title="If I were Australian I might say that Steve Jobs and the Klingon emporer were mates?">older</a> post, or back to <a href="http://archives.miloush.net/michkap/archive/index.html">index</a> or <a href="http://archives.miloush.net/michkap/archive/index.html#2007-01">month</a> or <a href="http://archives.miloush.net/michkap/archive/index.html#2007-01-26">day</a></em></p></body>
<!-- Mirrored from archives.miloush.net/michkap/archive/2007/01/26/1535060.html by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 25 May 2017 00:42:38 GMT -->
</html>