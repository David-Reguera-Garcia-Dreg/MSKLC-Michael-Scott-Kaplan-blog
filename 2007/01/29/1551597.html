<html>
<!-- Mirrored from archives.miloush.net/michkap/archive/2007/01/29/1551597.html by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 25 May 2017 00:42:38 GMT -->
<head><meta charset="utf-8" /><meta name="viewport" content="width=device-width" /><title>Think of Windows as a hedonist</title></head><body>
<h1>Think of Windows as a hedonist</h1>
<p><em>by Michael S. Kaplan, published on 2007/01/29 08:31 -05:00, original URI: http://blogs.msdn.com/b/michkap/archive/2007/01/29/1551597.aspx</em></p>
<hr/> <!-- Archival Source: ProcessPostNew -->
<P>Windows has some time zone information stored in its innards.</P>
<P>But&nbsp;Windows only lives in the now; it pays no attention to what was and what will be, even when&nbsp;it does know.&nbsp;</P>
<P>In the words of George Carlin, I think I'll repeat that&nbsp;since since it seems <STRONG>vaguely important</STRONG>.</P>
<P><STRONG><FONT size=4>Windows only lives in the now; it pays no attention to what was and what will be, even when&nbsp;it does know.</FONT>&nbsp;</STRONG></P>
<P>Isn't Windows just the little hedonist? :-)&nbsp;</P>
<P>Which is <EM>part</EM> of the answer to a question Benoit Houle posed via the Contact link (probably better for&nbsp;the Suggestion Box, but I won't quibble; no one reads my text about this anyway):</P>
<BLOCKQUOTE><FONT face="Times New Roman,Times" size=2><I>
<P>Hi, after installing patch KB928388, everything works fine for DST in the future but it does not seems to work in the past. It looks like the DTS suppose to start only in 2007 is applied to years prior to this date. So by using the DateTime.ToUniversalTime() function for 2006, we are off by one week in fall and 3 weeks in spring.<BR><BR>you can try it with this small C# .NET code:</I><FONT face="Consolas,Lucida Console,Courier New,Courier"><BR><BR>Console.WriteLine("");<BR>Console.WriteLine("MARCH");<BR>DateTime dt = Convert.ToDateTime("2006-03-01");<BR><BR>for (int i = 0; i &lt; 60; i++)<BR>{<BR>&nbsp;&nbsp;&nbsp; dt = dt.AddDays(1);<BR>&nbsp;&nbsp;&nbsp; Console.WriteLine(dt.ToUniversalTime().ToString("yyyy-MM-dd HH:mm:ss"));<BR>}<BR><BR>Console.WriteLine("");<BR>Console.WriteLine("NOVEMBER");<BR>dt = Convert.ToDateTime("2006-10-01");<BR><BR>for (int i = 0; i &lt; 60; i++)<BR>{<BR>&nbsp;&nbsp;&nbsp; dt = dt.AddDays(1);<BR>&nbsp;&nbsp;&nbsp; Console.WriteLine(dt.ToUniversalTime().ToString("yyyy-MM-dd HH:mm:ss"));<BR>}<BR><BR></FONT><I>Notice how the DST should be applied on october 29th in 2006 and is applied on november 5th<BR><BR>NOTE: I am in Canada Standard Eastern Time Zone.<BR><BR>I talk to MS support people and they did not have an answer for me.<BR><BR>Any solutions?<BR><BR>Best regards Benoit Houle</P></FONT></I></BLOCKQUOTE>
<P>Everything is behaving as designed, until and unless some future version adds the "feature" of historical time zone knowledge.</P>
<P>Now the .NET Framework is the one that <EM>attempts</EM> to move into the realm of&nbsp;using the date in question to determine how to evaluate it, as described in Raymond Chen's epic post <A class="" href="http://blogs.msdn.com/oldnewthing/archive/2003/10/24/55413.aspx" mce_href="http://blogs.msdn.com/oldnewthing/archive/2003/10/24/55413.aspx">Why Daylight Savings [sic]&nbsp;Time is nonintuitive</A>, so technically the .NET Framework is the technology that is teasing here by making the promise of dynamic evaluation even though the historical data may not be there; Windows itself doesn't try to do that....</P>
<P>I guess the .NET Framework could be doing a slightly better job on Vista if it is using the new dynamic time zones I have mentioned <STRONG><A class="" href="http://archives.miloush.net/michkap/archive/2006/12/18/1314233.html" mce_href="http://archives.miloush.net/michkap/archive/2006/12/18/1314233.html">previously</A></STRONG>. It might be worth giving that a try to see if it works (if not then someone should go up and report this as a bug so that it can be fixed in a future version!).</P>
<P mce_keep="true">&nbsp;</P>
<P><FONT color=#ff00ff><EM>This post brought to you by</EM>&nbsp;Ù­ <EM>(<A class="" href="http://www.fileformat.info/info/unicode/char/066d" mce_href="http://www.fileformat.info/info/unicode/char/066d">U+066d</A>, a.k.a. ARABIC FIVE POINTED STAR)</EM></FONT></P>
<hr/><p><a id="1553801" href="#1553801">#</a> <strong>jondr</strong> on 29 Jan 2007 6:19 PM:</p><div style="margin-left: 1em"><p>Oh, my. &nbsp;We have it so good nowadays, I really can't complain. In the '80s my employer bought a new minicomputer for about $350,000. &nbsp;We went from standard to daylight savings one spring, and there was no change on the clock. &nbsp;They'd forgotten to implement DST altogether. &nbsp;A patch came in a few weeks later. </p></div>
<hr/><p><em>go to <a id="newer" href="http://archives.miloush.net/michkap/archive/2007/01/30/1556199.html" title="What to do if she sees right through you">newer</a> or <a id="older" href="http://archives.miloush.net/michkap/archive/2007/01/29/1551066.html" title="Whatever happened to ASMO, anyway?">older</a> post, or back to <a href="http://archives.miloush.net/michkap/archive/index.html">index</a> or <a href="http://archives.miloush.net/michkap/archive/index.html#2007-01">month</a> or <a href="http://archives.miloush.net/michkap/archive/index.html#2007-01-29">day</a></em></p></body>
<!-- Mirrored from archives.miloush.net/michkap/archive/2007/01/29/1551597.html by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 25 May 2017 00:42:38 GMT -->
</html>