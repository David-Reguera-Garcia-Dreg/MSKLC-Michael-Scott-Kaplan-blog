<html>
<!-- Mirrored from archives.miloush.net/michkap/archive/2007/06/18/3374502.html by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 25 May 2017 00:42:38 GMT -->
<head><meta charset="utf-8" /><meta name="viewport" content="width=device-width" /><title>If you don't always preserve case, you don't always preserve meaning</title></head><body>
<h1>If you don't always preserve case, you don't always preserve meaning</h1>
<p><em>by Michael S. Kaplan, published on 2007/06/18 03:01 -04:00, original URI: http://blogs.msdn.com/b/michkap/archive/2007/06/18/3374502.aspx</em></p>
<hr/> <!-- Archival Source: ProcessPostNew -->
<P>You may recall last week when I mentioned that <A class="" href="http://archives.miloush.net/michkap/archive/2007/06/13/3280569.html" mce_href="http://archives.miloush.net/michkap/archive/2007/06/13/3280569.html"><STRONG>In any CASE, it is somewhat INSENSITIVE to point out to someone how well PRESERVED they are</STRONG></A>. </P>
<P><EM>Those words are very true, by the way -- I would suggest never trying that!</EM></P>
<P>In any case, just the other day, Marý from Iceland actually pointed out a situation that actually shows some really negative consequences of NOT preserving case. She pointed out: </P>
<BLOCKQUOTE>
<P><FONT face="times new roman,times"><EM>Hi,<BR><BR>I was just reading your post about the Danish/Norwegian collation sorting problems from April 27th. I am having considerable problems with the collation myself but it doesn't have anything to do with the sorting but more to do with the SQL statements themselves. If I send a SQL statement to the server that has mixed case in it and one of the words happens to have an aA in it (for example: Select * From Table Where DataArea = 'dat') then the server changes the aA to an å before executing the statement and therefor the statement doesn't execute at all but if I change the statement to be either uppercase or lowercase it works just fine.<BR><BR>I'm from Iceland and we've got loads of weird letters of our own and I've never had this problem on our own collation. I suppose the argument can be made that you should only send statements in uppercase to the SQL server - but I find it extremely odd that the SQL server would assume that all SQL statements are in either uppercase or lowercase.<BR><BR>Anyway I'm just wondering if in your research you've seen anything relating to this. The only thing I've ever found on this has to do with the sorting - not the SQL statements themselves. I'm using C# and SQL Server 2005<BR><BR>With thanks,<BR>Marý Björk</EM></FONT></P></BLOCKQUOTE>
<P>The post Marý was referring to was <A class="" href="http://archives.miloush.net/michkap/archive/2006/04/27/584439.html" mce_href="http://archives.miloush.net/michkap/archive/2006/04/27/584439.html"><STRONG>The disunification of Norwegian and Danish sorting</STRONG></A>. </P>
<P><EM>And yes, it is true that Icelandic does not have any of these interesting conventions involving the ASCII-fication of letters like Norwegian and Danish used to have (and only one still does, by convention!).</EM></P>
<P>The problem Marý is hitting here&nbsp;is in fact caused by someone not preserving case distinctions and running headlong into the <STRONG><A class="" href="http://archives.miloush.net/michkap/archive/2005/07/17/439742.html" mce_href="http://archives.miloush.net/michkap/archive/2005/07/17/439742.html">Microsoft convention for compressions in sorting</A></STRONG>. And&nbsp;some component's lack of respect for it.</P>
<P>But if there is a component that is converting the query to either all capital letters or all small letters, then that operation actually changes the meaning of the text in the query, in this case. </P>
<P>Which is pretty lame, any way you look at it.</P>
<P>After all, in Marý's example, it is failing on an actual column name's identification and use. And this problem can happen on both case sensitive and case insensitive SQL Server databases/servers.</P>
<P>I am offhand hoping that this is NOT the server that is screwing this up, but one of the layers in between the C# code and the server (precisely which one is not something I am certain of, since the exact method was not specified).</P>
<P>Probably the next step would be to try and isolate what might be doing this. </P>
<P>Marý, any more info on how you are running the query (bound grid, ADO, LINQ, ADO.Net, or other)? </P>
<P>It would be nice to find out who is being lame here! :-)</P>
<P mce_keep="true">&nbsp;</P>
<P><FONT color=#ff00ff><EM>This post brought to you by</EM> <FONT size=5>ý</FONT> <EM>(<A class="" href="http://www.fileformat.info/info/unicode/char/00fd" mce_href="http://www.fileformat.info/info/unicode/char/00fd">U+00fd</A>, a.k.a. LATIN SMALL LETTER Y WITH ACUTE)</EM></FONT></P>
<hr/><div style="margin-left: 1em"><em>no comments</em></div><hr/><p><em>referenced by</em></p><div style="margin-left: 1em"><p>2007/10/24 <a href="http://archives.miloush.net/michkap/archive/2007/10/24/5647711.html">Getting the preserved case of a file wHeN tHe uSeRs tYpE wHaTeVeR tHe hElL tHeY wAnT tO</a></p><p>2007/10/24 <a href="http://archives.miloush.net/michkap/archive/2007/10/24/5641619.html">In Case you have problems that you might think are ǸȦȘȚȲ</a></p><p>2007/10/02 <a href="http://archives.miloush.net/michkap/archive/2007/10/02/5236576.html">What happens when people don't consistently preserve case? They cause bugs!</a></p><p>2007/09/23 <a href="http://archives.miloush.net/michkap/archive/2007/09/23/5070899.html">If it isn't Unicode, it isn't ANY code!</a></p><p>2007/09/18 <a href="http://archives.miloush.net/michkap/archive/2007/09/18/4971376.html">A&P of Sort Keys, part 8 (aka You can often think of ignoring weights as a form of ignorance)</a></p><p>2007/09/05 <a href="http://archives.miloush.net/michkap/archive/2007/09/05/4756822.html">Head checks containing either comparison or case validation BITE</a></p><p>2007/08/21 <a href="http://archives.miloush.net/michkap/archive/2007/08/21/4489089.html">In Case there is a bug....</a></p></div><p><em>go to <a id="newer" href="http://archives.miloush.net/michkap/archive/2007/06/19/3396819.html" title="IsCharSomethingOrOther?">newer</a> or <a id="older" href="http://archives.miloush.net/michkap/archive/2007/06/17/3354902.html" title="The built-in attempt to support multi-monolingual keyboards is kinda broken">older</a> post, or back to <a href="http://archives.miloush.net/michkap/archive/index.html">index</a> or <a href="http://archives.miloush.net/michkap/archive/index.html#2007-06">month</a> or <a href="http://archives.miloush.net/michkap/archive/index.html#2007-06-18">day</a></em></p></body>
<!-- Mirrored from archives.miloush.net/michkap/archive/2007/06/18/3374502.html by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 25 May 2017 00:42:38 GMT -->
</html>