<html>
<!-- Mirrored from archives.miloush.net/michkap/archive/2007/06/09/3174676.html by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 25 May 2017 00:42:38 GMT -->
<head><meta charset="utf-8" /><meta name="viewport" content="width=device-width" /><title>Guilt by [font ]association (aka The consequences of picking the wrong font #3)</title></head><body>
<h1>Guilt by [font ]association (aka The consequences of picking the wrong font #3)</h1>
<p><em>by Michael S. Kaplan, published on 2007/06/09 03:01 -04:00, original URI: http://blogs.msdn.com/b/michkap/archive/2007/06/09/3174676.aspx</em></p>
<hr/> <!-- Archival Source: ProcessPostNew -->
<P><EM>(Previous posts in this series can be read <STRONG><A class="" href="http://archives.miloush.net/michkap/archive/2007/06/05/3098947.html" mce_href="http://archives.miloush.net/michkap/archive/2007/06/05/3098947.html">here</A></STRONG> and <STRONG><A class="" href="http://archives.miloush.net/michkap/archive/2007/06/07/3155261.html" mce_href="http://archives.miloush.net/michkap/archive/2007/06/07/3155261.html">here</A></STRONG>)</EM></P>
<P>There are a lot of different distribution lists at Microsoft covering various technical topics. People can ask questions and then other people who know the answer can explain it (and people who want to learn can watch the questions and answers go by).</P>
<P>Of course sometimes it takes several messages to get to the answer.</P>
<P>And sometimes it was the wrong distribution list and the question is forwarded to a more appropriate list.</P>
<P>Other times the person asking the question will cross-post (one message, many lists) or multi-post (many identical messages to those many lists) their question.</P>
<P>And still other times, there will be different branches of the conversation going on within the same list, talking about different aspects of the problem or drifting the thread or whatever.</P>
<P>And then occasionally the conversation will be continue off a list (you know, people who are guilty of <STRONG><A class="" href="http://archives.miloush.net/michkap/archive/2006/10/19/845311.html" mce_href="http://archives.miloush.net/michkap/archive/2006/10/19/845311.html">this</A></STRONG> problem!).</P>
<P>There are even a few instances where someone will follow up directly with me just because I was on some part of the tangled web of responses....</P>
<P>After all of this huge geeky social networking craziness is done, the original person asking the question <STRONG>probably</STRONG> got their answer. But unless someone tries to report back to lists that did not see the answer, it is quite possible that not everyone who saw the question got the answer.</P>
<P>That question I talked about in <STRONG><A class="" href="http://archives.miloush.net/michkap/archive/2007/06/07/3155261.html" mce_href="http://archives.miloush.net/michkap/archive/2007/06/07/3155261.html">the second post</A></STRONG> in this series falls under several of these categories.</P>
<P>Before&nbsp;it had been established that there was an easy workaround to the problem (just use a different font!), a private email conversation that led to a bit of debugging and an answer to what precisely had changed between B.V. (Before Vista) and A.P. (Anno Producti) was never directly reported to the many distribution lists that got both the question and the initial workaround answer.</P>
<P>Of course not all fonts are the same, so it easy to prefer one set of Latins over another set:</P><FONT size=5>
<P><FONT face=Arial>ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz (Arial)</FONT></P>
<P><FONT face="Segoe UI">ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz (Segoe UI)</FONT></P>
<P><FONT face=Tahoma>ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz (Tahoma)</FONT></P></FONT>
<P mce_keep="true">and so on. Plus the behavior is technically a regression, even though the idea of GDI running in a service that does not itself show UI is a little weird.</P>
<P mce_keep="true">Luckily, two of the people he were on the final thread that had the answer mentioned it to me (the second one from the one who did the debugging,&nbsp;in response to&nbsp;the blog post!). :-)</P>
<P mce_keep="true">I figured I'd cover the final explanation here. In the words of Michael Warning (a developer I have mentioned <STRONG><A class="" href="http://archives.miloush.net/michkap/archive/2005/06/27/433208.html" mce_href="http://archives.miloush.net/michkap/archive/2005/06/27/433208.html">previously</A></STRONG>):</P>
<BLOCKQUOTE>
<P mce_keep="true"><EM><FONT face="times new roman,times">As several people expected this is caused by session 0 isolation in Vista and is related to font association.<BR><BR>The problem is that in session 0 nobody calls EnableEUDC.&nbsp; This is necessary to turn on font association.&nbsp; This is normally called by userinit.exe when somebody logs on - but nobody logs on to session 0 anymore.<BR><BR>I expect you should be able to work around the problem by explicitly calling EnableEUDC(TRUE) in the fax service.&nbsp; I’ve cc’d a horde of relevant pm’s that can debate about whether or not this should be done by the system by default given that we don’t really like people using GDI in session 0 in the first place.</FONT></EM></P>
<P mce_keep="true"><EM><FONT face="times new roman,times">Please let me know if the workaround does the job for you.</FONT></EM></P></BLOCKQUOTE>
<P mce_keep="true"><STRONG><FONT size=5>Font association? </FONT></STRONG></P>
<P mce_keep="true">A whole new thing, that. </P>
<P mce_keep="true">It is not <A class="" href="http://archives.miloush.net/michkap/archive/2006/03/18/554308.html" mce_href="http://archives.miloush.net/michkap/archive/2006/03/18/554308.html"><STRONG>logical fonts</STRONG></A>. Not <A href="http://archives.miloush.net/michkap/archive/2005/03/20/399322.html"><STRONG>Windows Font Substitution</STRONG></A>. Not <A href="http://archives.miloush.net/michkap/archive/2006/01/22/515864.html"><STRONG>GDI Font Linking</STRONG></A>. Not <A href="http://archives.miloush.net/michkap/archive/2005/10/01/476022.html"><STRONG>Uniscribe Font Fallback</STRONG></A>. Or any technology that I have ever mentioned before here (though I did mention <A class="" href="http://msdn2.microsoft.com/library/aa964954.aspx" mce_href="http://msdn2.microsoft.com/library/aa964954.aspx">EnableEUDC</A> once before, <STRONG><A class="" href="http://archives.miloush.net/michkap/archive/2007/04/23/2248563.html" mce_href="http://archives.miloush.net/michkap/archive/2007/04/23/2248563.html">here</A></STRONG>!).</P>
<P mce_keep="true">But it is yet another&nbsp;way to get the font to automatically work when the one you select does not have the glyphs you ask of it.</P>
<P mce_keep="true"><STRONG>Font association</STRONG> has just a handful of entries <A class="" href="http://search.msdn.microsoft.com/search/Default.aspx?query=%22Font+Association%22&amp;brand=msdn&amp;refinement=00" mce_href="http://search.msdn.microsoft.com/search/Default.aspx?query=%22Font+Association%22&amp;brand=msdn&amp;refinement=00">in MSDN via Live Search</A>,&nbsp;and a few more <A class="" href="http://www.google.com/microsoft?num=100&amp;hl=en&amp;newwindow=1&amp;q=%22Font+Association%22" mce_href="http://www.google.com/microsoft?num=100&amp;hl=en&amp;newwindow=1&amp;q=%22Font+Association%22">in Google's Microsoft portal</A>&nbsp;(which can be ignored for comparative count purposes since it has resources outside of Microsoft's&nbsp;pages)&nbsp;-- though interestingly enough the latter links to a few pages that have inaccurate info in them. And few of them might have the right info though most just use the term and assume you know what it means (which is scary since no one wants to define it correctly!).</P>
<P mce_keep="true">The issues Michael raised about whether that call should happen automatically there are interesting ones, where best practices versus backward compatibility versus the social engineering that subtle breaks like this can accomplish in the developer ecosystem can be fascinating to contemplate....</P>
<P mce_keep="true">I'll have to write something up about&nbsp;the exact definition of&nbsp;<STRONG>font association</STRONG>&nbsp;in a post soon. But for now a few more pieces to the puzzle of what happens when you pick the wrong font in situations without all of this interesting support to find the characters anyway. :-)</P>
<P mce_keep="true">&nbsp;</P>
<P mce_keep="true"><FONT color=#ff00ff><EM>This post brought to you by</EM> 倕 <EM>(<A class="" href="http://www.fileformat.info/info/unicode/char/5015" mce_href="http://www.fileformat.info/info/unicode/char/5015">U+5015</A>, a.k.a. another CJK ideograph)</EM></FONT></P>
<hr/><div style="margin-left: 1em"><em>no comments</em></div><hr/><p><em>referenced by</em></p><div style="margin-left: 1em"><p>2008/02/29 <a href="http://archives.miloush.net/michkap/archive/2008/02/29/7945019.html">A more definitive definition of[ Font ]Association (a technology that helps us put the backward in backward compatibility!)</a></p><p>2007/10/25 <a href="http://archives.miloush.net/michkap/archive/2007/10/25/5660564.html">Is it a Unicode issue? A non-Unicode issue? What the hell is it? (aka Beware former [Font ]Associations)</a></p><p>2007/07/11 <a href="http://archives.miloush.net/michkap/archive/2007/07/11/3820654.html">They don't [font] associate with font linkers, among others</a></p><p>2007/07/11 <a href="http://archives.miloush.net/michkap/archive/2007/07/11/3815916.html">Any sufficiently confusing technology is indistinguishable from magic</a></p></div><p><em>go to <a id="newer" href="http://archives.miloush.net/michkap/archive/2007/06/09/3186017.html" title="When do voices vanish? Upon the death of languages....">newer</a> or <a id="older" href="http://archives.miloush.net/michkap/archive/2007/06/08/3168164.html" title="Putting the &#39;U&#39; in Unicode (and the &#39;G&#39; in Galacticode)">older</a> post, or back to <a href="http://archives.miloush.net/michkap/archive/index.html">index</a> or <a href="http://archives.miloush.net/michkap/archive/index.html#2007-06">month</a> or <a href="http://archives.miloush.net/michkap/archive/index.html#2007-06-09">day</a></em></p></body>
<!-- Mirrored from archives.miloush.net/michkap/archive/2007/06/09/3174676.html by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 25 May 2017 00:42:38 GMT -->
</html>