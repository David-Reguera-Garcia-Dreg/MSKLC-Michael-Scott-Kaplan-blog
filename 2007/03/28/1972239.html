<html>
<!-- Mirrored from archives.miloush.net/michkap/archive/2007/03/28/1972239.html by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 25 May 2017 00:42:38 GMT -->
<head><meta charset="utf-8" /><meta name="viewport" content="width=device-width" /><title>A yen for Yen may be left unsatiated</title></head><body>
<h1>A yen for Yen may be left unsatiated</h1>
<p><em>by Michael S. Kaplan, published on 2007/03/28 03:01 -04:00, original URI: http://blogs.msdn.com/b/michkap/archive/2007/03/28/1972239.aspx</em></p>
<hr/> <!-- Archival Source: ProcessPostNew -->
<P><EM>(No, this post is not about anything kinky)</EM></P>
<P>If you are a regular reader then you know that I have been talking about the Yen (<A class="" href="http://www.fileformat.info/info/unicode/char/00a5" mce_href="http://www.fileformat.info/info/unicode/char/00a5">U+00a5</A>) <STRONG><A class="" href="http://archives.miloush.net/michkap/archive/2005/11/01/487665.html" mce_href="http://archives.miloush.net/michkap/archive/2005/11/01/487665.html">for</A></STRONG> <STRONG><A class="" href="http://archives.miloush.net/michkap/archive/2005/10/12/479561.html" mce_href="http://archives.miloush.net/michkap/archive/2005/10/12/479561.html">a</A></STRONG> <STRONG><A class="" href="http://archives.miloush.net/michkap/archive/2005/09/17/469941.html" mce_href="http://archives.miloush.net/michkap/archive/2005/09/17/469941.html">long</A></STRONG> <STRONG><A class="" href="http://archives.miloush.net/michkap/archive/2005/07/22/441633.html" mce_href="http://archives.miloush.net/michkap/archive/2005/07/22/441633.html">time</A></STRONG>.</P>
<P>Now I fully understand why Microsoft went down the road of having <A class="" href="http://www.fileformat.info/info/unicode/char/005c" mce_href="http://www.fileformat.info/info/unicode/char/005c">U+005c</A> (REVERSE SOLIDUS) look like <A class="" href="http://www.fileformat.info/info/unicode/char/00a5" mce_href="http://www.fileformat.info/info/unicode/char/00a5">U+00a5</A> (YEN SIGN). Some of those posts above and the one they link to even get into some of the reasons and some of the history.</P>
<P>You can think of the collation change to make them look the same with Japanese to mean that NLS is something of an enabler here. :-(</P>
<P>But now it looks like that road is in the process of leading us somewhere bad....</P>
<P>It turns out that IE7, this was changed (someone had to buck the system eventually?), when a Japanese font is not explicitly selected. In the words of one team member:</P>
<BLOCKQUOTE>
<P><EM>With the movement to Unicode and IDN, we need to move away from the Japanese system specific changing of the BACKSLASH character to the YEN sign. The only place this is used in this way is for path information. If the customer wants the YEN for monitary values they need to use the correct Unicode value for YEN. The currency symbol *is not* U+005C.</EM></P></BLOCKQUOTE>
<P>Of course there&nbsp;will be some problems here (there often are when someone decides not to do what "everyone has always done").</P>
<P>I mean, you can note that&nbsp;most (all?)&nbsp;of the&nbsp;input methods dealing with the Yen&nbsp;are inserting <A class="" href="http://www.fileformat.info/info/unicode/char/005c" mce_href="http://www.fileformat.info/info/unicode/char/005c">U+005c</A> where than Yen character sits on the keyboard. This doesn't matter for ANSI apps (best fit mappings would convert <A class="" href="http://www.fileformat.info/info/unicode/char/00a5" mce_href="http://www.fileformat.info/info/unicode/char/00a5">U+00a5</A> to 0x5c (which will roundtrip to <A class="" href="http://www.fileformat.info/info/unicode/char/005c" mce_href="http://www.fileformat.info/info/unicode/char/005c">U+005c</A>)&nbsp;anyway. But for Unicode apps it has entirely destroyed the distinction between <A class="" href="http://www.fileformat.info/info/unicode/char/005c" mce_href="http://www.fileformat.info/info/unicode/char/005c">U+005c</A> and <A class="" href="http://www.fileformat.info/info/unicode/char/00a5" mce_href="http://www.fileformat.info/info/unicode/char/00a5">U+00a5</A>.</P>
<P>So basically there are a whole bunch of situations where people using Japanese will not be seeing the money, even if they have as yen to do so....</P>
<P>I wonder what FireFox does here? Anyone want to give it a try? :-)</P>
<P mce_keep="true">&nbsp;</P>
<P><FONT face=Tahoma><FONT color=#ff1493><EM>This post brought to you by</EM> <FONT size=6>\</FONT> </FONT><EM><FONT color=#ff1493>(</FONT><A href="http://www.fileformat.info/info/unicode/char/005c/index.htm">U+005c</A><FONT color=#ff1493>, a.k.a. REVERSE SOLIDUS, a character that people in Japan may find themselves seeing a lot more of)</FONT></EM></FONT></P>
<hr/><p><a id="1980941" href="#1980941">#</a> <strong>Carl</strong> on 28 Mar 2007 6:03 PM:</p><div style="margin-left: 1em"><P>From <A href="http://web.archive.org/web/20050312062050/http://www.cs.mcgill.ca/~aelias4/encodings.html">http://web.archive.org/web/20050312062050/http://www.cs.mcgill.ca/~aelias4/encodings.html</A> :</P>
<P>"The 7-bit part (i.e. 0x00 to 0x7f) of JIS X 0201 is identical to ASCII, with two exceptions: the backslash character '\' (0x5c) is replaced by a yen symbol, and the tilde character '~' (0x7c) becomes an overline. Thus, displaying ASCII text in a Japanese font will work almost perfectly --- except that all your backslashes will turn into yens. This problem is so pervasive that it is no longer really a "problem" at all: Japanese people all know and expect to find yen symbols instead of backslashes in such things as DOS/Windows path separators. This bug has been around for so long, it is now embedded into the very fabric of the universe. It will never be fixed, and will probably live on even when Unicode becomes the standard. So you can either travel back in time to the 60s to assassinate the guy who decided this, or learn to think of the yen and the backslash as just variant ways of writing the same character."</P>
<P>I personally support the time traveling assassination option. However, if the IE team thinks they can get some traction on this thing by forcing it, more power to them. Whatever it takes, fix this thing!</P></div>
<p><a id="1982285" href="#1982285">#</a> <strong>Yenitis</strong> on 28 Mar 2007 8:19 PM:</p><div style="margin-left: 1em"><p>I know the reasoning and history as well. However, I really disagree with it, and it has been a problem for many years. I never want to see a yen glyph for U+005C. I got yen signs scattered around my code and documents. It hurts readability. When I really do want a yen sign, I will use U+00A5. (Actually, I typically use U+5186 in Japanese text and write out the word as Yen in English.) It's a real disservice.</p>
<p>By overloading the meaning, the only way that I can distinguish U+005C and U+00A5 is by looking at the bit patterns; this is a daily task. I must applaud the IE7 team. (However, I am on Win2000 JP now, so I can not test it.) I only wish Windows as a whole would do the same.</p>
<p>Tōkyō, Japan</p></div>
<p><a id="1982426" href="#1982426">#</a> <strong>Michael S. Kaplan</strong> on 28 Mar 2007 8:41 PM:</p><div style="margin-left: 1em"><p>For me, the main problem would be the lack of methods available to type the actual yen....</p>
</div>
<p><a id="1982597" href="#1982597">#</a> <strong>wagahai</strong> on 28 Mar 2007 9:06 PM:</p><div style="margin-left: 1em"><p>There are several immediate solutions for typing the currency symbol.</p>
<p>1) Japanese IME.</p>
<p>Currently, the default behavior provides the following conversions for えん (en):</p>
<p>U+005C: &nbsp; &nbsp; [半]〔通貨〕円 &nbsp;&lt;-- wrong; not a currency!</p>
<p>U+FFE5: &nbsp; &nbsp; &nbsp;[全]〔通貨〕円 &lt;-- better, but still not the preferred character</p>
<p>Propose: Add U+00A5 to the default list. Also, fix the above comments.</p>
<p>Until then, people who care can manually register U+00A5 for conversion.</p>
<p>2) Custom keyboard layouts.</p>
<p>You may argue that knowledge of how to type in Japanese with the Japanese IME would be required to use option 1. True. However, the situation is only apparent with Japanese fonts. Send those documents to non-Japanese systems and the reader will most likely get a backslash, which will cause confusion.</p>
<p>To the IE Team, great job. Hopefully you have started something that all of Microsoft can continue to once and for all fix this long overdue issue.</p></div>
<p><a id="1985757" href="#1985757">#</a> <strong>Rosyna</strong> on 29 Mar 2007 3:59 AM:</p><div style="margin-left: 1em"><p>There is &#165; and then there is 円.</p>
<p>&#165;300</p>
<p>三〇〇円</p>
</div>
<p><a id="7989486" href="#7989486">#</a> <strong>Marluxia Kyoshu</strong> on 2 Mar 2008 8:15 AM:</p><div style="margin-left: 1em"><p>Well I use all Japanese typesets because I'm trying to learn how to type and speak in Japanese... and using Meiryo font (Japanese sleek vista font) I get little trouble since all of my directories use forward slash '/' except in some installers... I notice it sometimes though and it does annoy me... Pretty much any time \ is called in FireFox I get &#165; instead</p>
<p><a rel="nofollow" target="_new" href="http://img262.imageshack.us/img262/2467/confusionvx6.jpg">http://img262.imageshack.us/img262/2467/confusionvx6.jpg</a></p>
<p><a rel="nofollow" target="_new" href="http://img161.imageshack.us/img161/3349/yenslaship0.jpg">http://img161.imageshack.us/img161/3349/yenslaship0.jpg</a></p>
<p>&quot;Originally, the backslash was intended to be able to form half of the symbols /&#165; and /&#165;&quot; That's hilarious...</p>
<p>Ironically, while uploading these pics, I found another instance:</p>
<p><a rel="nofollow" target="_new" href="http://img257.imageshack.us/img257/8899/yenshackrt8.jpg">http://img257.imageshack.us/img257/8899/yenshackrt8.jpg</a></p></div>
<p><a id="7990534" href="#7990534">#</a> <strong>Michael S. Kaplan</strong> on 2 Mar 2008 10:25 AM:</p><div style="margin-left: 1em"><p>Nothing that Microsoft can do if FireFox does not also want to take steps to start changing this behavior....</p>
</div>
<p><strong>Yuhong Bao</strong> on 11 Jan 2011 12:59 AM:</p><div style="margin-left: 1em"><p>Note that the Japanese and Korean versions are not the only variants. Wikipedia has a complete list of all of the variants of ISO 646:</p>
<p><a rel="nofollow" target="_new" href="http://en.wikipedia.org/wiki/ISO/IEC_646">en.wikipedia.org/.../IEC_646</a></p>
<p>Good thing DOS/Windows never supported any of the other ones!</p>
</div>
<hr/><p><em>referenced by</em></p><div style="margin-left: 1em"><p>2013/10/31 <a href="http://archives.miloush.net/michkap/archive/2013/10/31/10460718.html">At long last, explaining the yen/won/backslash bug plausibly</a></p></div><p><em>go to <a id="newer" href="http://archives.miloush.net/michkap/archive/2007/03/28/1977465.html" title="Like Cartman, that &#39;W&#39; letter isn&#39;t fat; it&#39;s big boned!">newer</a> or <a id="older" href="http://archives.miloush.net/michkap/archive/2007/03/27/1963148.html" title="GPOS w/o GSUB in a TTF on XP SP2 can be FUBAR">older</a> post, or back to <a href="http://archives.miloush.net/michkap/archive/index.html">index</a> or <a href="http://archives.miloush.net/michkap/archive/index.html#2007-03">month</a> or <a href="http://archives.miloush.net/michkap/archive/index.html#2007-03-28">day</a></em></p></body>
<!-- Mirrored from archives.miloush.net/michkap/archive/2007/03/28/1972239.html by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 25 May 2017 00:42:38 GMT -->
</html>