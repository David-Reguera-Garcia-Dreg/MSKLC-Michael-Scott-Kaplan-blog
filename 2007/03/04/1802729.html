<html>
<!-- Mirrored from archives.miloush.net/michkap/archive/2007/03/04/1802729.html by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 25 May 2017 00:42:38 GMT -->
<head><meta charset="utf-8" /><meta name="viewport" content="width=device-width" /><title>The non-ASCII solution to the .NET Unicode Puzzle</title></head><body>
<h1>The non-ASCII solution to the .NET Unicode Puzzle</h1>
<p><em>by Michael S. Kaplan, published on 2007/03/04 03:10 -05:00, original URI: http://blogs.msdn.com/b/michkap/archive/2007/03/04/1802729.aspx</em></p>
<hr/> <!-- Archival Source: ProcessPostNew -->
<p>So anyway, I was pointed to <a href="http://www.coversant.com/Default.aspx?tabid=88&amp;EntryID=30">Chris Mullins' .NET Unicode Puzzle</a> and was struck by the irony of the use of the ASCII code page rather than the <a href="http://msdn2.microsoft.com/en-us/library/k43c6164(en-US,VS.80).aspx">CharUnicodeInfo</a> class (which I used for my own solution to the problem in <a href="http://archives.miloush.net/michkap/archive/2005/02/19/376617.html"><strong>Stripping Diacritics</strong></a>). </p> <p>I don't mean the irony of how he went on and on about discovering the use of normalization in the solution. I mean, that isn't ironic, that just means he didn't see the article. But even regular readers can <a href="http://archives.miloush.net/michkap/archive/2005/08/01/446486.html"><strong>miss a post</strong></a>, let alone folks who don't read the blog. So that isn't ironic.</p> <p>The irony for me was the way Chris went on in the end:</p> <blockquote> <p><font size="1">Whenever I drop into doing Unicode related tasks, I'm always amazed at the sheer bredth of the Unicode standard. There is so much information in there, and so many powerfull features that it's easy to quickly become overwhelmed. </font></p> <p><font size="1">It's easy too to forget that everthing we do these days on a computer is leveraging Unicode. Prettymuch everything is encoded in either UTF-8 or UTF-16 - all web pages, all XML documents, all text files stored on your hard disk. Unicode is at the heart of Windows, Linux, .Net &amp; Java. Despite this, very few developers have any real understanding of what Unicode is, or how it works. I've been asking 'What does that UTF-8 or UTF-16 mean that you've typed in a zillion times?" during interviews now for years, and have yet to ever get back the right answer (although I've sure had some creative responses!). </font></p></blockquote> <p>Isn't it just a little bit ironic that he says so much about the power of Unicode and how no one understands it, while the solution to the problem pivots through the ASCII encoding which allows almost nothing in Unicode through?</p> <p>For an example of the kind of character that his solution won't work for, see the rather irked sponsoring character, below! :-)</p> <p>&nbsp;</p> <p><font color="#ff0080"><em>This post brought to you by</em> <font face="Tahoma" size="5">Ó¢</font> <em>(<a href="http://www.fileformat.info/info/unicode/char/04e2">U+04e2</a>, a.k.a. CYRILLIC CAPITAL LETTER I WITH MACRON)</em></font></p>
<hr/><p><a id="1806115" href="#1806115">#</a> <strong>Dean Harding</strong> on 4 Mar 2007 5:51 PM:</p><div style="margin-left: 1em"><p>Yeah, I saw that post on the unicode list, and I was following along right up until the point he decided to use the ASCII encoder...</p>
<p>At least this time I DID recall those posts you made about stripping diacritics :p~</p>
</div>
<p><a id="1806789" href="#1806789">#</a> <strong>Michael S. Kaplan</strong> on 4 Mar 2007 9:53 PM:</p><div style="margin-left: 1em"><p>I figured that one would stick. :-)</p>
</div>
<p><a id="1811036" href="#1811036">#</a> <strong>Mihai</strong> on 5 Mar 2007 12:11 PM:</p><div style="margin-left: 1em"><p>Because the understanding of Unicode is so fuzzy, and the terminology is often improperly used, I avoid asking questions like &quot;what does that X mean&quot; or &quot;how do you define Y&quot;</p>
<p>I tend to ask for stories on *how* stuff works (utf, surrogates, normalization, whatever).</p></div>
<p><a id="1811685" href="#1811685">#</a> <strong>Chris Mullins</strong> on 5 Mar 2007 2:16 PM:</p><div style="margin-left: 1em"><p>In all fairness, your solution using the CharUnicodeInfo class is certainly the better answer. If you don't mind, I'll link to it from my (now obsolete) blog entry...</p>
<p>I looked into this class a while back when I was working with string prep, and wasn't able to get the information I needed - specifically the Bidi information relevant to a codepoint. Since then, I've never looked at it again - to my loss, obviously.</p>
<p>I'm modifying my blog now... So that at least to the historical record, I don't look like quite such a fool. </p></div>
<p><a id="1811816" href="#1811816">#</a> <strong>Michael S. Kaplan</strong> on 5 Mar 2007 2:45 PM:</p><div style="margin-left: 1em"><P>I don't mind, Chris. :-)</P>
<P>FWIW, the class has Bidi info, it just got made internal for some reason (see <A class="" href="http://archives.miloush.net/michkap/archive/2007/01/06/1421178.html"><STRONG>this post</STRONG></A> for an example of getting at it)....</P></div>
<p><a id="1811946" href="#1811946">#</a> <strong>Chris Mullins</strong> on 5 Mar 2007 3:06 PM:</p><div style="margin-left: 1em"><p>I don't think I can use that BiDi solution, as it requires signifigant user privlidges in order to call private methods via reflection. I've currently got all the BiDi info from RFC 3454 in tables, and am doing table based lookups to determine BiDi information. I guess I'll have to stick with that. </p>
<p>Any chance the .NET 2.0 SP1 will publically expose these methods? </p></div>
<p><a id="1812037" href="#1812037">#</a> <strong>Michael S. Kaplan</strong> on 5 Mar 2007 3:28 PM:</p><div style="margin-left: 1em"><p>There are no current plans for that (it is hard to add features in service packs), but I'll push to see if this could be added at the next appropriate point....</p>
</div>
<hr/><p><em>referenced by</em></p><div style="margin-left: 1em"><p>2007/08/17 <a href="http://archives.miloush.net/michkap/archive/2007/08/17/4424917.html">Normalize Wide Shut</a></p></div><p><em>go to <a id="newer" href="http://archives.miloush.net/michkap/archive/2007/03/04/1806219.html" title="String Indexing?">newer</a> or <a id="older" href="http://archives.miloush.net/michkap/archive/2007/03/03/1792075.html" title="And it won&#39;t cost you an arm[enia] or a leg, either!">older</a> post, or back to <a href="http://archives.miloush.net/michkap/archive/index.html">index</a> or <a href="http://archives.miloush.net/michkap/archive/index.html#2007-03">month</a> or <a href="http://archives.miloush.net/michkap/archive/index.html#2007-03-04">day</a></em></p></body>
<!-- Mirrored from archives.miloush.net/michkap/archive/2007/03/04/1802729.html by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 25 May 2017 00:42:38 GMT -->
</html>