<html>
<!-- Mirrored from archives.miloush.net/michkap/archive/2007/03/18/1909475.html by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 25 May 2017 00:42:38 GMT -->
<head><meta charset="utf-8" /><meta name="viewport" content="width=device-width" /><title>In Vista, jackdaws appear to be somewhat endangered</title></head><body>
<h1>In Vista, jackdaws appear to be somewhat endangered</h1>
<p><em>by Michael S. Kaplan, published on 2007/03/18 17:59 -04:00, original URI: http://blogs.msdn.com/b/michkap/archive/2007/03/18/1909475.aspx</em></p>
<hr/> <!-- Archival Source: ProcessPostNew -->
<P>Earlier today (in <A class="" href="http://archives.miloush.net/michkap/archive/2007/03/18/1908209.html" mce_href="http://archives.miloush.net/michkap/archive/2007/03/18/1908209.html"><STRONG>There was an order for letters, iroha was it's name-oh!</STRONG></A>) I talked about a specific <A class="" href="http://en.wikipedia.org/wiki/Pangram" mce_href="http://en.wikipedia.org/wiki/Pangram">pangram</A> that has an interesting educational&nbsp;functionality, even in modern times.</P>
<P>Maybe for computers too, and maybe not -- the evidence isn't in just yet. :-)</P>
<P>But there are cases where as good pangram is exactly what you might want on a computer when you think about the core purpose of a pangram -- to show each and every letter in the alphabet in as short of a string as possible.</P>
<P>How about in the sample text used by the Windows font viewer?</P>
<P>If you look at the fonts folder in Windows XP or Server 2003&nbsp;and just double click on any font you will get a nice dialog with&nbsp;a nice pangram in it:</P>
<P><IMG src="http://trigeminal.fmsinc.com/images/arial_sample.png"></P>
<P>while other fonts would show a different pangram:</P>
<P><IMG src="http://trigeminal.fmsinc.com/images/freesiaupc_sample.png"></P>
<P>As far as I know, no one has ever described the rules by which the Fontview.EXE decides what string to display. Mainly, people seem to rely on knowing that certain fonts show certain strings, and they leave it at that. It is not a particularly interesting algorithm, basically going something like this:</P>
<BLOCKQUOTE>
<P>if the Thread Locale is CJK:<BR>&nbsp;&nbsp;&nbsp; if the LPLOGFONT-&gt;lfCharset is SYMBOL_CHARSET, ANSI_CHARSET, DEFAULT_CHARSET, or OEM_CHARSET:<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <STRONG>The quick brown fox jumps over the lazy dog. 1234567890</STRONG><BR>&nbsp;&nbsp;&nbsp; else<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <STRONG>Jackdaws love my big sphinx of quartz. 1234567890</STRONG><BR>else<BR>&nbsp;&nbsp;&nbsp; if the font claims to support the CP_ACP of the system:<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <STRONG>The quick brown fox jumps over the lazy dog. 1234567890</STRONG><BR>&nbsp;&nbsp;&nbsp; else<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <STRONG>Jackdaws love my big sphinx of quartz. 1234567890</STRONG></P></BLOCKQUOTE>
<P>Not an especially brilliant algorithm, and both strings are actually in Message Compiler resources which means they could actually be localized (though note that the above algorithm means that localization might make the situation&nbsp;worse here, not better. On top of that, what do you do when you have a string with no latins in it? By this algorithm, they will just get another Latin script string which will still have to use font linking to find the glyphs to display.</P>
<P>Plus, if you are trying to understand at a glance what each font is for, how does this honestly&nbsp;help?</P>
<P>I am sure that&nbsp;the algorithm could be lamer than this, but offhand I can't think of how. :-(</P>
<P>In Vista, the <A class="" href="http://en.wikipedia.org/wiki/Jackdaw" mce_href="http://en.wikipedia.org/wiki/Jackdaw">Jackdaw</A> was put on the endangered species list and that string is no longer available. The string is still localizable, so maybe it is actually being modified in different language versions, though this is of limited use and still kind of lame since the string should be FONT driven, not UI language driven.</P>
<P>So now let's think about how we could do a better job here! </P>
<P>How would you proceed with the task of deciding the best possible way to produce the optimal default string that is most likely to display text that&nbsp;not only&nbsp;shows off the font's best characteristics but does so in the language that the user is most likely to be able to understand (if there is one, of course).</P>
<P>That just screams out for an interview question, any time the candidate claimed knowledge of Win32 Text/GDI knowledge!</P>
<P>Anyone want to take a stab here at the algorithm they would try and use? I'll post my thoughts tomorrow.....</P>
<P mce_keep="true">&nbsp;</P>
<P><FONT color=#ff00ff><EM>This post brought to you by</EM> ᘺ <EM>(<A class="" href="http://www.fileformat.info/info/unicode/char/163a" mce_href="http://www.fileformat.info/info/unicode/char/163a">U+163a</A>, a.k.a. CANADIAN SYLLABICS CARRIER TLU)</EM></FONT></P>
<hr/><p><a id="1909936" href="#1909936">#</a> <strong>Dean Harding</strong> on 18 Mar 2007 8:01 PM:</p><div style="margin-left: 1em"><p>That Jackdaws one always sounded a bit... wrong... to me ;)</p>
<p>As far as an algorithm goes, &nbsp;I guess the simplest method would be to start with a list of pangrams in various languages (so you have an English one, a Hebrew one, a Russian one, etc) then for the font you're trying to display, work out the subset of those pangrams that can be completely displayed by the font (without substitution). From that subset, choose one that matches the local system's language (if available) otherwise, it doesn't really matter which one you choose...</p>
</div>
<p><a id="1910001" href="#1910001">#</a> <strong>jon</strong> on 18 Mar 2007 8:17 PM:</p><div style="margin-left: 1em"><p>Maybe I'm missing something, but does it really matter? What makes the Jackdaws one inherently better than the Fox one in those cases? Either string will give you an idea of what the font looks like which surely is the point of the quick preview.</p></div>
<p><a id="1910248" href="#1910248">#</a> <strong>Ben Cooke</strong> on 18 Mar 2007 8:53 PM:</p><div style="margin-left: 1em"><p>Coincidentally, I was wondering this — that is, why some fonts talk about the fox while others talk about my sphinx of quartz — this last Friday, while I was browsing through a library of fonts my company's designer had licenced.</p></div>
<p><a id="1910639" href="#1910639">#</a> <strong>Michael S. Kaplan</strong> on 18 Mar 2007 10:33 PM:</p><div style="margin-left: 1em"><P>Hi Jon -- the problem here is that showing a sentence that has nothing to do with what the font provides is not very useful, no matter what string is used!</P>
<P>Both strings fail the usefulness test for most of the fonts provided by Windows. :-)</P></div>
<p><a id="1911446" href="#1911446">#</a> <strong>gabr</strong> on 19 Mar 2007 3:35 AM:</p><div style="margin-left: 1em"><p>In Slovenian Windows XP, the 'quick brown fox' string is localised into</p>
<p>&quot;V kožuščku hudobnega fanta stopiclja mizar in kliče 0619872345&quot;</p>
<p>(a bit of trivia - at the time Windows XP was localised area code for Ljubljana, Slovenia's capital, was 061; however phone numbers were only 6 places long then so the number at the end was not a real phone number)</p>
<p>National characters in the text above will probably finish all messed up so here's a screenshot: <a rel="nofollow" target="_new" href="http://www.gabrijelcic.org/pisave.png">http://www.gabrijelcic.org/pisave.png</a>.</p></div>
<p><a id="1911517" href="#1911517">#</a> <strong>Michael S. Kaplan</strong> on 19 Mar 2007 3:55 AM:</p><div style="margin-left: 1em"><P>No, they seem to have showed up well. :-)</P>
<P>That pangram article appears to have two Slovenian pangrams:</P>
<UL>
<LI>Šerif bo za vajo spet kuhal domače žgance</LI>
<LI>Piškur molče grabi fižol z dna cezijeve hoste</LI></UL>
<P>And <A class="" href="http://sl.wikipedia.org/wiki/Pangram">the Slovenian article</A> has a variation on the one they put in the box....</P></div>
<p><a id="1915418" href="#1915418">#</a> <strong>Carl</strong> on 19 Mar 2007 7:21 PM:</p><div style="margin-left: 1em"><p>You might be interested to know what your Distinguished Competition do. FontBook.app (introduced in 10.3 if memory serves) displays different things depending on the language of the font. Japanese fonts get a series beginning, &quot;あのイーハトーヴゥの,&quot; with the alphabet and numerals at the end. Chinese fonts begin with a simplified character version of &quot;漢体.&quot; Korean fonts have some hangul, some hanja, the alphabet. Arabic fonts have arabic letters. English fonts have the alphabet upper case then lower case plus the numbers. I don't know which Indian language &quot;Gurjarati MT&quot; is for, but it shows those letters and numerals plus the western arabic numerals. </p>
<p>There's also an option of typing yourself to see how it will look in the specified font or seeing the entire repertoire of the font (which for Asian fonts can take a while since they have so many characters…). </p></div>
<p><a id="1920844" href="#1920844">#</a> <strong>Markus Freericks</strong> on 20 Mar 2007 2:35 PM:</p><div style="margin-left: 1em"><p>I don't get it. Why are there two different pangrams for the same language (english)? the character reportoire of the two seems to be the same, and having two different pangrams for the same language seems user-unfriendly, since a common use case of the font view is the comparison of two fonts -- which obviously works best when the sample texts are the same.</p>
<p>Or am i missing something glaringly obvious?</p></div>
<p><strong>Skopsko</strong> on 7 Apr 2009 4:39 PM:</p><div style="margin-left: 1em"><p>Is it possible to have custom Unicode multi-language sentence in he FontViewer. Where does is read the localized strings from?</p></div>
<hr/><p><em>referenced by</em></p><div style="margin-left: 1em"><p>2007/03/27 <a href="http://archives.miloush.net/michkap/archive/2007/03/27/1962027.html">Another post about providing font samples</a></p><p>2007/03/20 <a href="http://archives.miloush.net/michkap/archive/2007/03/20/1917602.html">The lazy yet foxy jackdaw I love jumped over my quick brown sphinx dog of quartz</a></p></div><p><em>go to <a id="newer" href="http://archives.miloush.net/michkap/archive/2007/03/19/1911309.html" title="Hidden via the purloined post-it technique">newer</a> or <a id="older" href="http://archives.miloush.net/michkap/archive/2007/03/18/1908209.html" title="There was an order for letters, iroha was it&#39;s name-oh!">older</a> post, or back to <a href="http://archives.miloush.net/michkap/archive/index.html">index</a> or <a href="http://archives.miloush.net/michkap/archive/index.html#2007-03">month</a> or <a href="http://archives.miloush.net/michkap/archive/index.html#2007-03-18">day</a></em></p></body>
<!-- Mirrored from archives.miloush.net/michkap/archive/2007/03/18/1909475.html by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 25 May 2017 00:42:38 GMT -->
</html>