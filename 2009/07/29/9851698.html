<html>
<!-- Mirrored from archives.miloush.net/michkap/archive/2009/07/29/9851698.html by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 25 May 2017 00:42:35 GMT -->
<head><meta charset="utf-8" /><meta name="viewport" content="width=device-width" /><title>Every character has a story #33: U+1e9e (CAPITAL SHARP S, Microsoft edition - Part 2)</title></head><body>
<h1>Every character has a story #33: U+1e9e (CAPITAL SHARP S, Microsoft edition - Part 2)</h1>
<p><em>by Michael S. Kaplan, published on 2009/07/29 10:01 -04:00, original URI: http://blogs.msdn.com/b/michkap/archive/2009/07/29/9851698.aspx</em></p>
<hr/> <!-- Archival Source: ProcessPostNew -->
<p><i>You may want to start with <b><a href="http://archives.miloush.net/michkap/archive/2009/07/28/9850675.html" mce_href="http://archives.miloush.net/michkap/archive/2009/07/28/9850675.html">Part 1</a></b> of this series....</i></p><p>Okay, here we go. Last time some of the font stuff was covered.</p><p>It is nice when letters are given the opportunity to look good.</p><p>In the end, what can often be more important than how something looks is how it arrives, and how it behaves!</p><p>I'll divide this up into a few parts.</p><p><b>Part 1: INPUT</b></p><p>This letter, LATIN CAPITAL LETTER SHARP S, was not added to the German keyboard.</p><p>So if you wanted to input it, then you are on your own.</p><p>Good luck with that for the average user. Oh wait, the average user kniws there us no such letter anyway. Never mind, the lack of a way to input the letter is okay....</p><p><b>Part 2: COLLATION</b> </p><p>Well, if you go back to blogs like&nbsp;<b><a href="http://archives.miloush.net/michkap/archive/2005/03/10/391564.html" mce_href="http://archives.miloush.net/michkap/archive/2005/03/10/391564.html">Dere are qvestions? In zat <i>case</i>...</a></b> and the one that started it all <b><a href="http://archives.miloush.net/michkap/archive/2005/04/10/406880.html" mce_href="http://archives.miloush.net/michkap/archive/2005/04/10/406880.html">What the %#$* is wrong with German sorting?</a></b>, the following collation equivalences already existed:</p><blockquote><p><font size="5">ß == ss</font></p></blockquote><p>Now note that now, just as was the case then, I was not stating any special kind of linguistic truth.</p><p>I am simply point out that if you want <b>ß</b> to be treated as equivalent to <b>SS</b> when you ignore case that you have to recognize that <b>ss</b> is also equivalent to <b>SS</b> when you ignore case. So that this relationship which looks so unnatural to a native speaker allows for meaningful results to be returned.</p><p>Now that we have a new uppercase form of the letter, let's see where it fits. </p><p>As Peter Gibbons <a href="http://archives.miloush.net/michkap/archive/2009/07/28/9850675.html#9851175" mce_href="http://archives.miloush.net/michkap/archive/2009/07/28/9850675.html#9851175">pointed out</a> yesterday:</p><blockquote><p><font face="times new roman,times"><i>But what's more important is that the collation algorithms seem to process "ẞ" right. At least in explorer with filenames.</i></font></p></blockquote><p>To make this happen, the following equivalences are needed:</p><blockquote><p><font size="5">ß == ss</font></p><p><font size="5">ẞ == SS</font><br></p></blockquote><p>Now with these in place, everything behaves the way people expect them to, even if the above equivalences are like fingernails on the chalkboard to folks in Germany.</p><p>Points given for intuitive results, right? :-)</p><p>Anyway, there you have it.</p><p>Though, as I pointed out way back in <b><a href="http://archives.miloush.net/michkap/archive/2006/08/08/692390.html" mce_href="http://archives.miloush.net/michkap/archive/2006/08/08/692390.html">Collation != case, still</a></b>, collation is not case.</p><p>So now we get to part 3.</p><p><b>Part 3: CASE</b></p><p>The wheels are gonna come off the wagon a bit here, I will admit.</p><p>Basically, it seems that the casing relationship between <b>ẞ</b> and <b>ß</b> <i>was</i> added, but only in the linguistic tables, and only to say that <b>ẞ</b> lowercases to <b>ß</b>.</p><p>This means that two files that differ only by their use of one letter versus the other can co-exist in the same directory.</p><p>This kind of sucks from an intuitive nature of results, so I am going to hope that the <b>PART 1</b> issues with the inability to input the letter can be relied on. Though technically an obfuscationary solution, I won't think about the potential security and spoofing issues of these letters that look so similar in so many fonts and focus on the lack of built in input and the fact that it is technically someone else's problem now (as <b><a href="http://archives.miloush.net/michkap/archive/2008/11/08/9053209.html" mce_href="http://archives.miloush.net/michkap/archive/2008/11/08/9053209.html">this ant in Alaska</a></b> likes to frame the situation!).</p><p>I am on the record (for what it's worth) as to how I felt the situation should have been handled <b><a href="http://archives.miloush.net/michkap/archive/2007/08/24/4536979.html" mce_href="http://archives.miloush.net/michkap/archive/2007/08/24/4536979.html">here</a></b></p><blockquote><p><font face="times new roman,times"><i>But on the other hand, the case table is used in order to enforce the case 
insensitivity in the NT object namespace and the file system. And one clear 
issue is that there is no good reason to allow one to put filenames differing 
only by the presence of <a href="http://www.fileformat.info/info/unicode/char/00df" class="" mce_href="http://www.fileformat.info/info/unicode/char/00df">U+00df</a>&nbsp;and <a href="http://www.fileformat.info/info/unicode/char/1e9e" class="" mce_href="http://www.fileformat.info/info/unicode/char/1e9e">U+1e9e</a>&nbsp;in the 
same directory. Users would either never try it or they would never expect it to 
work. So it is quite possible that in the next version of Windows (which only 
does simple casing) it may make the most sense to make the two characters case 
variants of each other -- to enforce reasonable use of&nbsp;both letters!</i></font></p><p><font face="times new roman,times"><i>There is still lots of time to decide, though at present I am leaning this 
way since it will give the most intuitive behavior for end users (even at the 
expensive of giving slightly unintuitive results for developers).</i></font></p></blockquote>
<p>Ah well, coulda woulda shoulda. Or whatever.</p><p>I did accidentally discover an unrelated thing, a thing that I'll talk about tomorrow....<br></p>
<hr/><p><a id="9852458" href="#9852458">#</a> <strong>Mihai</strong> on 29 Jul 2009 3:33 PM:</p><div style="margin-left: 1em"><p>&quot;ẞ == SS&quot;???</p>
<p>In what locale would that be?</p>
<p>Feels really wrong.</p></div>
<p><a id="9852495" href="#9852495">#</a> <strong>John Cowan</strong> on 29 Jul 2009 4:19 PM:</p><div style="margin-left: 1em"><p>Case folding should have been treated as a legacy ASCII feature in the file system, and not extended to the whole Unicode world.</p></div>
<p><a id="9852687" href="#9852687">#</a> <strong>Michael S. Kaplan</strong> on 29 Jul 2009 8:01 PM:</p><div style="margin-left: 1em"><p>John,</p>
<p>1) I disagree with you.</p>
<p>2) Many other people do as well.</p>
<p>3) This is hardly a legacy filesytem thing -- this is the core behavior of the NT object namespace and has been since NT 3.1.</p>
<p>4) Even if all of that was untrue, reversing behavior that has existed since 32bit Windows first started being used (1993!) is an unrealistic goal.</p>
</div>
<p><a id="9852693" href="#9852693">#</a> <strong>Michael S. Kaplan</strong> on 29 Jul 2009 8:07 PM:</p><div style="margin-left: 1em"><p>Hey Mihai,</p>
<p>Simple logic.</p>
<p>If UCase(&quot;&#223;&quot;) == &quot;SS&quot; and UCase(&quot;ss&quot;) == &quot;SS&quot; then that means that &quot;&#223;&quot; == &quot;ss&quot;.</p>
<p>And further if UCase(&quot;&#223;&quot;) = &quot;ẞ&quot; as well, then &quot;ẞ&quot; = &quot;SS&quot;.</p>
<p>Follow the logic trail and you'll get there too, I doubt the formal proof would be needed! :-)</p>
</div>
<p><a id="9852892" href="#9852892">#</a> <strong>Carl</strong> on 30 Jul 2009 12:35 AM:</p><div style="margin-left: 1em"><p>I don't even see why we need to have one file per filename per directory anymore. Sure, files need to have canonical names behind the scenes, but those could be UUIDs for all the user cares. Put in enough scaffolding, and it could all be hidden under a layer of pseudo-localization. </p>
<p>Bring back WinFS!</p></div>
<p><a id="9853527" href="#9853527">#</a> <strong>Mihai</strong> on 30 Jul 2009 12:46 PM:</p><div style="margin-left: 1em"><p>But why UCase(&quot;&#223;&quot;) = &quot;ẞ&quot;?</p>
<p>Why would a German character map to a Turkish one?</p></div>
<p><a id="9853543" href="#9853543">#</a> <strong>Michael S. Kaplan</strong> on 30 Jul 2009 1:07 PM:</p><div style="margin-left: 1em"><p>It is not Turkish -- that is the Capital Sharp S.</p>
</div>
<p><strong>Peter Gibbons</strong> on 27 Aug 2009 7:45 AM:</p><div style="margin-left: 1em"><p>SQL Server 2008 R2 (August 2009 CTP) doesn't seem to have collations that sort &quot;ẞ&quot; right.</p></div>
<p><strong>Michael S. Kaplan</strong> on 27 Aug 2009 8:57 AM:</p><div style="margin-left: 1em"><p>I didn't expect that there would be, to be honest (other than binary collations, of course). But I will inquire....</p>
</div>
<hr/><p><em>referenced by</em></p><div style="margin-left: 1em"><p>2009/07/30 <a href="http://archives.miloush.net/michkap/archive/2009/07/30/9853370.html">I know I'll Never say Never... again, at least</a></p></div><p><em>go to <a id="newer" href="http://archives.miloush.net/michkap/archive/2009/07/30/9853370.html" title="I know I&#39;ll Never say Never... again, at least">newer</a> or <a id="older" href="http://archives.miloush.net/michkap/archive/2009/07/28/9850675.html" title="Every character has a story #32: U+1e9e (CAPITAL SHARP S, Microsoft edition - Part 1)">older</a> post, or back to <a href="http://archives.miloush.net/michkap/archive/index.html">index</a> or <a href="http://archives.miloush.net/michkap/archive/index.html#2009-07">month</a> or <a href="http://archives.miloush.net/michkap/archive/index.html#2009-07-29">day</a></em></p></body>
<!-- Mirrored from archives.miloush.net/michkap/archive/2009/07/29/9851698.html by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 25 May 2017 00:42:35 GMT -->
</html>