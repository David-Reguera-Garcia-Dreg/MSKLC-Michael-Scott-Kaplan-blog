<html>
<!-- Mirrored from archives.miloush.net/michkap/archive/2009/07/30/9853370.html by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 25 May 2017 00:42:35 GMT -->
<head><meta charset="utf-8" /><meta name="viewport" content="width=device-width" /><title>I know I'll Never say Never... again, at least</title></head><body>
<h1>I know I'll Never say Never... again, at least</h1>
<p><em>by Michael S. Kaplan, published on 2009/07/30 10:01 -04:00, original URI: http://blogs.msdn.com/b/michkap/archive/2009/07/30/9853370.aspx</em></p>
<hr/> <!-- Archival Source: ProcessPostNew -->
<p>So, thinking about consequences of the CASING piece of <b><a href="http://archives.miloush.net/michkap/archive/2009/07/29/9851698.html" mce_href="http://archives.miloush.net/michkap/archive/2009/07/29/9851698.html">Every character has a story #33: U+1e9e (CAPITAL SHARP S, Microsoft edition - Part 2)</a></b>.</p><p>And ignoring that we didn't follow my recommendation, since I've covered that, for now.<br></p><p>Let's look at what we did do.</p><p>We essentially took a letter whose primary and for all practical purposes only need is to handle the German word with a Sharp S that is fully capitalized, and make sure that no process that will ever capitalize it.</p><p>Ever.</p><p>Have a cup of irony, will ya? :-)</p><p>Yesterday I did talk about another issue I noticed. </p><p>Regular readers know I've discussed U+03c2 (GREEK SMALL LETTER FINAL SIGMA) <b><a href="http://www.bing.com/search?q=site%3Ablogs.msdn.com%2Fmichkap+%22U%2B03c2%22&amp;form=QBRE&amp;qs=n" mce_href="http://www.bing.com/search?q=site%3Ablogs.msdn.com%2Fmichkap+%22U%2B03c2%22&amp;form=QBRE&amp;qs=n">before</a></b>.</p><p>This letter, which has had an intentional one-way mapping to the regular uppercase function since NT 3.1, had this mapping moved to the linguistic tables activated by LCMAP_LINGUISTIC_CASING (for all locales).<br></p><p>This changes the fundamental behavior of a character in the filesystem that has been in existence since the early 90's if you count the beta versions.</p><p>As discussed in <b><a href="http://archives.miloush.net/michkap/archive/2005/05/26/421987.html" mce_href="http://archives.miloush.net/michkap/archive/2005/05/26/421987.html">The last word on the FINAL SIGMA</a></b>:</p><blockquote><p><font face="times new roman,times"><i>If you are a native speaker of Greek, then you know that 
both&nbsp;<b>ς</b> (U+03c2, 
a.k.a. GREEK SMALL LETTER FINAL SIGMA) and <b>σ</b> (U+03c3, 
a.k.a. GREEK SMALL LETTER SIGMA) do indeed uppercase to <b>Σ</b> (U+03a3, 
a.k.a. GREEK CAPITAL LETTER SIGMA). But if we added this character to the 
linguistic table, then it suddenly&nbsp;<b>ς</b> would never work in the <a href="http://msdn.microsoft.com/library/en-us/winui/winui/windowsuserinterface/resources/strings/stringreference/stringfunctions/charupper.asp">CharUpper</a>/<a href="http://msdn.microsoft.com/library/en-us/winui/winui/windowsuserinterface/resources/strings/stringreference/stringfunctions/charupperbuff.asp">CharUpperBuff</a> 
functions and would not work in the default call to LCMapString with the <a href="http://msdn.microsoft.com/library/en-us/intl/nls_5s2v.asp">LCMapString</a> 
function with the LCMAP_UPPERCASE flag.</i></font></p><p><font face="times new roman,times"><i>Obviously that would not be a good thing.</i></font></p><p><font face="times new roman,times"><i>Try to imagine how you would feel if attempting to 
uppercase the string&nbsp;<b>hello</b>&nbsp;would come out as 
<b>HELLo</b>. Wouldn't you consider it a bug? Especially is it used to 
come out with the <b>HELLO</b> you were expecting? You might be 
thinking about telling the platform <b>GooDBYE</b>, if you know what I 
mean.</i></font></p></blockquote>

<p>Now you don't have to imagine it -- you get to see it. If you deal with Greek at least.</p><p>Relying on all caps style appearances in places like IE will see documents changed, too -- at least when they are looked at in the latest version.<br></p><p><i>The easiest way to see it is to use Word's "Change Case" support -- prior versions will convert U+03c2 to U+03a3; Windows 7 will not...</i><br></p>
<hr/><p><a id="9854339" href="#9854339">#</a> <strong>Carl</strong> on 31 Jul 2009 7:39 AM:</p><div style="margin-left: 1em"><p>Surely this begs for the simple solution: uppercase final sigma. ;-)</p></div>
<p><a id="9854409" href="#9854409">#</a> <strong>Michael S. Kaplan</strong> on 31 Jul 2009 9:37 AM:</p><div style="margin-left: 1em"><p>Ah you don't think we'd mess that one up, too? :-)</p>
</div>
<p><strong>Stephen A.</strong> on 30 Aug 2009 4:44 PM:</p><div style="margin-left: 1em"><p>Uppercase final sigma and have comparisons to uppercase sigma evaluate to false? Ouch!</p>
<p>Out of curiosity, I tested this on OpenOffice/Linux (which, I assume, relies on the Pango library) and 'ς' turns correctly into to 'Σ' and back to 'ς'.</p>
<p>Can we expect to see a fix in a future service pack, or is this behavior here to stay? The &quot;convert to uppercase&quot; functionality is essentially broken as it stands now (the HELLo example is apt!) :-)</p></div>
<hr/><p><em>referenced by</em></p><div style="margin-left: 1em"><p>2010/06/22 <a href="http://archives.miloush.net/michkap/archive/2010/06/22/10026554.html">It would save a lot of time if I just stopped being right, aka About scuba diving, aka HELLo!</a></p></div><p><em>go to <a id="newer" href="http://archives.miloush.net/michkap/archive/2009/08/05/9857486.html" title="16 is not to 64 as 8 (either 8) is to 16....">newer</a> or <a id="older" href="http://archives.miloush.net/michkap/archive/2009/07/29/9851698.html" title="Every character has a story #33: U+1e9e (CAPITAL SHARP S, Microsoft edition - Part 2)">older</a> post, or back to <a href="http://archives.miloush.net/michkap/archive/index.html">index</a> or <a href="http://archives.miloush.net/michkap/archive/index.html#2009-07">month</a> or <a href="http://archives.miloush.net/michkap/archive/index.html#2009-07-30">day</a></em></p></body>
<!-- Mirrored from archives.miloush.net/michkap/archive/2009/07/30/9853370.html by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 25 May 2017 00:42:35 GMT -->
</html>