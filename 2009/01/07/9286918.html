<html>
<!-- Mirrored from archives.miloush.net/michkap/archive/2009/01/07/9286918.html by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 25 May 2017 00:42:35 GMT -->
<head><meta charset="utf-8" /><meta name="viewport" content="width=device-width" /><title>Counting to four with the Holy Hand Grenade of Typography</title></head><body>
<h1>Counting to four with the Holy Hand Grenade of Typography</h1>
<p><em>by Michael S. Kaplan, published on 2009/01/07 03:01 -05:00, original URI: http://blogs.msdn.com/b/michkap/archive/2009/01/07/9286918.aspx</em></p>
<hr/> <!-- Archival Source: ProcessPostNew -->
<p>It was like that scene out of Monty Python and the Holy Grail, the one about the <a href="http://en.wikipedia.org/wiki/Holy_Hand_Grenade_of_Antioch" mce_href="http://en.wikipedia.org/wiki/Holy_Hand_Grenade_of_Antioch">Holy Hand Grenade of Antioch</a>:</p><blockquote><p><font face="times new roman,times">Particularly important is the counting to three after the pulling of the triggering pin (the surmounted cross), complicated by King Arthur's mental block on counting. The instructions for its use are in the fictitious Book of Armaments (Chapter 2, verses 9-21), parodying the King James Bible and the "Athanasian Creed".<br></font></p><blockquote><font face="times new roman,times"><i>“ ...And Saint Attila raised the hand grenade up on high, saying, "O Lord, bless this Thy hand grenade that with it Thou mayest blow Thine enemies to tiny bits, in Thy mercy." And the Lord did grin and the people did feast upon the lambs and sloths and carp and anchovies and orangutans and breakfast cereals, and fruit bats and large chu... [At this point, the friar is urged by Brother Maynard to "skip a bit, brother"]... And the Lord spake, saying, "First shalt thou take out the Holy Pin, then shalt thou count to three, no more, no less. Three shall be the number thou shalt count, and the number of the counting shall be three. Four shalt thou not count, neither count thou two, excepting that thou then proceed to three. Five is right out. Once the number three, being the third number, be reached, then lobbest thou thy Holy Hand Grenade of Antioch towards thy foe, who being naughty in my sight, shall snuff it." Amen.”</i><br></font> </blockquote><p><font face="times new roman,times">Arthur then holds up the Holy Hand Grenade Of Antioch and cries out "ONE! TWO! FIVE!" Sir Galahad corrects him, shouting "Three, Sir!" Arthur then yells "THREE!" and hurls the grenade at the killer rabbit. The Grenade soars through the air, accompanied by a short bit of choral music, then bounces once and explodes. The killer rabbit dies in the explosion, and the Knights subsequently enter the cave that it has been guarding.</font><br></p></blockquote><p>You can also see the scene <a href="http://www.youtube.com/watch?v=KOoc5vw93Gs" mce_href="http://www.youtube.com/watch?v=KOoc5vw93Gs">here on YouTube</a>.</p><p>So, why did I think of this?</p><p>Well, I was over in the good old Windows Character Map, looking at SimSun, that great font used for Simplified Chinese.</p><p>The one from Vista. <br></p><p>In particular, at the small Roman Numerals, you know the ones from U+2170 and so on:</p><p><img src="http://trigeminal.fmsinc.com/images/iv01.jpg"></p><p>Okay, let's count along with King Arthur.</p><p>Be sure to watch the text at the bottom of the dialog and the text of the actual character being highlighted!</p><p>Ready?</p><p>Here we go. <br></p><p>One:</p><p><img src="http://trigeminal.fmsinc.com/images/iv02.jpg"></p><p>Two:</p><p><img src="http://trigeminal.fmsinc.com/images/iv03.jpg"></p><p>Three:</p><p><img src="http://trigeminal.fmsinc.com/images/iv04.jpg"> </p><p>Four:</p><p><img src="http://trigeminal.fmsinc.com/images/iv05.jpg"> </p><p>Did you see it?</p><p>That must be a fluke.</p><p>I'll click on that U+2172 a few times.</p><p><img src="http://trigeminal.fmsinc.com/images/iv06.jpg"></p><p>Crap.</p><p>This font has a bizarre form of that same disease King Arthur has! </p><p>I wonder why the grid shows one thing but the detail view shows another . Something to with this being a TTC and there being some shared data across several included fonts.</p><p>I'm honestly not sure.</p><p>But my inner Dr. House needs more information. <br></p><p>We had better get a second opinion.</p><p>Page the Word 2007 Insert Symbol dialog on Vista!</p><p><img src="http://trigeminal.fmsinc.com/images/iv07.jpg"></p><p>Crap.</p><p>Good thing that wasn't the <a href="http://en.wikipedia.org/wiki/Holy_Hand_Grenade_of_Antioch" mce_href="http://en.wikipedia.org/wiki/Holy_Hand_Grenade_of_Antioch">Holy Hand Grenade of Antioch</a>. </p><p>If it was, the blog might be on fire after the explosion.</p><p>Like <b><a href="http://archives.miloush.net/michkap/archive/2006/03/19/554539.html" mce_href="http://archives.miloush.net/michkap/archive/2006/03/19/554539.html">last time</a></b>, if you recall.</p><p><img src="http://trigeminal.fmsinc.com/images/fire.gif" border="0"></p><p>Crap.</p><p>Is there a typographer in the house? :-)<br></p><p>&nbsp;</p><p><font color="#ff00ff"><i>This blog brought to you by</i><font size="7"> ⅲ </font><i>(aka <a href="http://www.fileformat.info/info/unicode/char/2172" mce_href="http://www.fileformat.info/info/unicode/char/2172">U+2172</a>, aka SMALL ROMAN NUMERAL FOUR.... "Three, Sir!" THREE)</i></font><br></p>
<hr/><p><a id="9287370" href="#9287370">#</a> <strong>Andrew West</strong> on 7 Jan 2009 8:02 AM:</p><div style="margin-left: 1em"><p>On my XP system (which I use during the daytime) I don't see this behaviour for SimSun, but I do see exactly the same behaviour for SimSun-18030. Looking at the two fonts with a font viewer application SimSun appears to have the correct glyphs for i through x, but SimSun-18030 has i, ii, iv, iv, v, vi, vii, viii, ix and x. So looks like SimSun is sometimes being used for SimSun-18030 in charmap under XP, whereas conversely SimSun-18030 is sometimes being used for SimSun in charmap under Vista.</p></div>
<p><a id="9288193" href="#9288193">#</a> <strong>Michael S. Kaplan</strong> on 7 Jan 2009 11:40 AM:</p><div style="margin-left: 1em"><p>I don't know, it seems like it has to be a bit more complicated than that, right? How does one &quot;get the wrong font&quot; in such a context....</p>
</div>
<p><a id="9288776" href="#9288776">#</a> <strong>Andrew West</strong> on 7 Jan 2009 12:57 PM:</p><div style="margin-left: 1em"><p>I think that you're right that it is something to do with TTC files. I remember having a similar problem in my own code a couple of years back, when I was getting Cambria instead of Cambria Math (or something like that). I can't recall the exact details of the problem, but it was related to the fact that Cambria and Cambria Math are packaged as a TTC file, but Cambria Bold/Italic/BoldItalic are separate font files, and as TTC fonts are enumerated before or after individual ttf fonts, Cambria Regular is not enumerated together with its Bold/Italic siblings.</p></div>
<p><a id="9288994" href="#9288994">#</a> <strong>Josh</strong> on 7 Jan 2009 1:25 PM:</p><div style="margin-left: 1em"><p>Wow...positively bizarre. If I get a chance I'll take a look; maybe some mismatch between the character-to-glyph mapping of the format 14 versus the format 4 cmap subtables? I think SimSun now uses both (?). The format 4 (BMP only) is supposed to be a pure subset of the format 14 (which maps &gt;BMP) but they could easily get out of sync.</p></div>
<p><a id="9289205" href="#9289205">#</a> <strong>Josh</strong> on 7 Jan 2009 1:48 PM:</p><div style="margin-left: 1em"><p>OK, found the problem.</p>
<p>A little background/info:</p>
<p>0) There's no format 14/4 issue</p>
<p>1) SimSun uses embedded bitmaps for 6 sizes</p>
<p>2) The U+2172 code maps to glyph 959</p>
<p>3) The *bitmap shapes* stored for glyph 959 have the &quot;iii&quot; shape</p>
<p>4) The *outline* for glyph 959 is a &quot;iv&quot;.</p>
<p>When you see the &quot;iii&quot; in Character Mapper grid, it's because it's using one of the sizes where it has an embedded bitmap...so it appears to be correct there. But when the glyph is displayed at a size without an embedded bitmap, you'll see the outline shape, which is wrong.</p>
<p>This is pretty clearly a font bug.</p></div>
<p><a id="9289363" href="#9289363">#</a> <strong>Si</strong> on 7 Jan 2009 2:08 PM:</p><div style="margin-left: 1em"><p>Win 7 #425025 - but you knew that right? It came through various aliases including Multilingual Issues Discussion on Dec 9th. </p></div>
<p><a id="9289634" href="#9289634">#</a> <strong>Jan Kučera</strong> on 7 Jan 2009 2:41 PM:</p><div style="margin-left: 1em"><p>PS. Funny how when you type this into Word 2007 and drag the zoom slider, it keeps switching between ⅲ and ⅳ :-)</p></div>
<p><a id="9290274" href="#9290274">#</a> <strong>Michael S. Kaplan</strong> on 7 Jan 2009 3:59 PM:</p><div style="margin-left: 1em"><p>Hey Si -- I didn't see the thread (I'm a bit behind on those mails!). Someone asked me about it and I just ran with it. :-)</p>
<p>Hey Josh -- thanks fir the investigation -- very cool little bug, that! Or actually, it is not a &quot;little&quot; bug since it looks right at little sizes!</p>
</div>
<p><a id="9290446" href="#9290446">#</a> <strong>Jan Kučera</strong> on 7 Jan 2009 4:41 PM:</p><div style="margin-left: 1em"><p>Hmmm why did the pretty useless PS managed to get in, but my preceding question did not? Any forbidden word or characters? :)</p>
<p>And it indeed is very tiny bug too! ...seems the PS was not _that_ useless :-) ...if you zoom out enought, it switches back to ⅳ. I would say just not usually sized bug. ;-)</p>
<p>But I keep asking myself how on earth was this bug discovered...</p></div>
<p><a id="9291117" href="#9291117">#</a> <strong>Josh</strong> on 7 Jan 2009 6:11 PM:</p><div style="margin-left: 1em"><p>Michael, you're welcome...I didn't realize this was already documented/known/being addressed, either. Fortunately it was obvious upon opening &amp; viewing the font; didn't spend much time on it.</p></div>
<p><a id="9292758" href="#9292758">#</a> <strong>Michael S. Kaplan</strong> on 7 Jan 2009 9:25 PM:</p><div style="margin-left: 1em"><p>No worries, Josh -- I looked and found the thread Si was referring to -- no one mentioned the actual problem or mentioned it found its way into a bug. So I might have written the very same blog only from a different source had I seen all that, in any case -- only slightly sooner! :-)</p>
</div>
<p><a id="9383853" href="#9383853">#</a> <strong>Youtube</strong> on 29 Jan 2009 6:09 PM:</p><div style="margin-left: 1em"><p>"This video has been removed due to terms of use violation." Use <a href="http://www.youtube.com/watch?v=apDGPl2SfpA" rel="nofollow" target="_new">http://www.youtube.com/watch?v=apDGPl2SfpA</a> instead</p></div>
<hr/><p><em>go to <a id="newer" href="http://archives.miloush.net/michkap/archive/2009/01/07/9287052.html" title="Someone please detect if there&#39;s a BOM before the plane takes off!">newer</a> or <a id="older" href="http://archives.miloush.net/michkap/archive/2009/01/06/9284879.html" title="Does your font lie? Its dishonety may come home to roost....">older</a> post, or back to <a href="http://archives.miloush.net/michkap/archive/index.html">index</a> or <a href="http://archives.miloush.net/michkap/archive/index.html#2009-01">month</a> or <a href="http://archives.miloush.net/michkap/archive/index.html#2009-01-07">day</a></em></p></body>
<!-- Mirrored from archives.miloush.net/michkap/archive/2009/01/07/9286918.html by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 25 May 2017 00:42:35 GMT -->
</html>