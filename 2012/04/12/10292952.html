<html>
<!-- Mirrored from archives.miloush.net/michkap/archive/2012/04/12/10292952.html by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 25 May 2017 00:42:33 GMT -->
<head><meta charset="utf-8" /><meta name="viewport" content="width=device-width" /><title>The evolving Story of Locale Support, part 22: Digit Substitution 2.0</title></head><body>
<h1>The evolving Story of Locale Support, part 22: Digit Substitution 2.0</h1>
<p><em>by Michael S. Kaplan, published on 2012/04/12 07:01 -04:00, original URI: http://blogs.msdn.com/b/michkap/archive/2012/04/12/10292952.aspx</em></p>
<hr/> <!-- Archival Source: ProcessPostNew -->
<p>Previous blogs from this series:</p>
<ul>
<li><strong><a title="part 21 (The Windows 8 Hijripalooza extraordinaire!)" href="http://archives.miloush.net/michkap/archive/2012/03/08/10278921.html">part 21 (The Windows 8 Hijripalooza extraordinaire!)</a></strong></li>
<li><strong><a title="part 20 (Yes, it's Bangla. Not Bengali!)" href="http://archives.miloush.net/michkap/archive/2012/03/02/10276258.html">part 20 (Yes, it's Bangla. Not Bengali!)</a></strong></li>
<li><strong><a title="part 19 (In honor of International Mother Language Day...)" href="http://archives.miloush.net/michkap/archive/2012/02/21/10270502.html">part 19 (In honor of International Mother Language Day...)</a></strong></li>
<li><strong><a title="part 18 (Two scripts that share ten digits can be trouble)" href="http://archives.miloush.net/michkap/archive/2012/02/15/10268235.html">part 18 (Two scripts that share ten digits can be trouble)</a></strong></li>
<li><strong><a title="part 17 (Today I feel like translating you more than before)" href="http://archives.miloush.net/michkap/archive/2012/02/02/10263136.html">part 17 (Today I feel like translating you more than before)</a></strong></li>
<li><strong><a title="part 16 (We can't scale to a Xishuangbanna Dai locale, but&hellip;)" href="http://archives.miloush.net/michkap/archive/2012/01/24/10259941.html">part 16 (We can't scale to a Xishuangbanna Dai locale, but&hellip;)</a></strong></li>
<li><strong><a title="part 15 (Fixing our listings up in Windows 8!)" href="http://archives.miloush.net/michkap/archive/2012/01/17/10256884.html">part 15 (Fixing our listings up in Windows 8!)</a></strong></li>
<li><strong><a title="part 14 (Tifinagh, Tamazight, and Berber? Oh my!)" href="http://archives.miloush.net/michkap/archive/2011/12/22/10250349.html">part 14 (Tifinagh, Tamazight, and Berber? Oh my!)</a></strong></li>
<li><strong><a title="part 13 (Divvying up locales, yet again!)" href="http://archives.miloush.net/michkap/archive/2011/12/21/10249983.html">part 13 (Divvying up locales, yet again!)</a></strong></li>
<li><strong><a title="part 12 (Logic dictates that we keep a sense of proportion about the RATIO)" href="http://archives.miloush.net/michkap/archive/2011/12/09/10246051.html">part 12 (Logic dictates that we keep a sense of proportion about the RATIO)</a></strong></li>
<li><strong><a title="part 11: What language is that keyboard for?)" href="http://archives.miloush.net/michkap/archive/2011/11/23/10240896.html">part 11 (What language is that keyboard for?)</a></strong></li>
<li><strong><a title="part 10 (Perhaps it is best to think of it as unintelligent design?)" href="http://archives.miloush.net/michkap/archive/2011/11/22/10239572.html">part 10 (Perhaps it is best to think of it as unintelligent design?</a></strong></li>
<li><strong><a title="part 9 (Nastaleeq vs. Nastaliq? Either way, Windows 8 has got it!)" href="http://archives.miloush.net/michkap/archive/2011/11/16/10237715.html">part 9 (Nastaleeq vs. Nastaliq? Either way, Windows 8 has got it!</a></strong></li>
<li><strong><a title="part 8 ([Finally] taking care of some [more] languages in Pakistan)" href="http://archives.miloush.net/michkap/archive/2011/11/15/10237317.html">part 8 ([Finally] taking care of some [more] languages in Pakistan</a></strong></li>
<li><strong><a title="part 7 (That would be a 'call and a raise' for Hawaiian" href="http://archives.miloush.net/michkap/archive/2011/11/11/10236194.html">part 7 (That would be a 'call and a raise' for Hawaiian)</a></strong></li>
<li><strong><a title="part 6 (Behind the Cherokee Phonetic layout in Windows 8)" href="http://archives.miloush.net/michkap/archive/2011/11/09/10235391.html">part 6 (Behind the Cherokee Phonetic layout in Windows 8)</a></strong></li>
<li><strong><a title="part 5 (...until the decision was made to not refuse to add it)" href="http://archives.miloush.net/michkap/archive/2011/11/08/10234995.html">part 5 (...until the decision was made to not refuse to add it)</a></strong></li>
<li><strong><a title="part 4 (working beyond one's bugs, and the case for an MSKLC update)" href="http://archives.miloush.net/michkap/archive/2011/11/04/10233999.html">part 4 (working beyond one's bugs, and the case for an MSKLC update)</a></strong></li>
<li><strong><a title="part 3 (working beyond one's bugs, the setup)" href="http://archives.miloush.net/michkap/archive/2011/11/03/10233591.html">part 3 (working beyond one's bugs, the setup)</a> </strong></li>
<li><strong><a title="part 2 (raising the roof on keyboards)" href="http://archives.miloush.net/michkap/archive/2011/11/02/10232468.html">part 2 (raising the roof on keyboards)</a></strong></li>
<li><strong><a title="part 1 (Some people don't want to double-d's)" href="http://archives.miloush.net/michkap/archive/2011/11/01/10232070.html">part 1 (Some people don't want to double-d's)</a></strong></li>
<li><strong><a title="part 0 (The introduction)" href="http://archives.miloush.net/michkap/archive/2011/10/31/10231661.html">part 0 (The introduction)</a></strong></li>
</ul>
<p>I've talked about <strong>Digit Substitution</strong> a lot over the years.</p>
<p>I pointed most of those blogs in, ironically enough, the blog that pointed out probably the biggest thing ever done at Microsoft to move away from Digit Substitution, <strong><a title="Suddenly, in a bit more time than a blink of an eye, 'standards support' becomes 'less i18n support'" href="http://archives.miloush.net/michkap/archive/2010/11/12/10088056.html">Suddenly, in a bit more time than a blink of an eye, 'standards support' becomes 'less i18n support'</a></strong>.</p>
<p>I mean, every technology kind of chipped away at that support a bit more at a time.</p>
<p>Most of the blogs I point to are about the limitations and bugs and problems and inconveniences of the feature.</p>
<p>The underlying frustration about everything wrong with the faeture was hard to ignore....</p>
<p>But now that may all&nbsp;be changing a bit.</p>
<p>Starting not long after the internal meeting&nbsp;talking about the problems raised by the IE decision to move away from <strong>Digit Substitution</strong>, one of the developers working in the Windows 8 "Modern" space took note of how this difference could affect some people building Modern apps that are browser-based.</p>
<p>And a plan formed to make sure that developers building Modern apps would have a way to get some flavor of the <strong>Digit Substitution</strong> feature.</p>
<p>Obviously, there was no way to change every keyboard.</p>
<p>Or to change the logic of parsing and formatting in all of the other places that has been doing this work for so long -- as broken as they may be.</p>
<p>And now this support can be in the Modern parsing and formatting support, via all of the following:</p>
<ul>
<li><a href="http://msdn.microsoft.com/en-us/library/windows/apps/windows.globalization.numberformatting.decimalformatter.numeralsystem.aspx">DecimalFormatter.NumeralSystem | numeralSystem property</a></li>
<li><a href="http://msdn.microsoft.com/en-us/library/windows/apps/windows.globalization.numberformatting.permilleformatter.numeralsystem.aspx">PermilleFormatter.NumeralSystem | numeralSystem property</a></li>
<li><a href="http://msdn.microsoft.com/en-us/library/windows/apps/windows.globalization.numberformatting.currencyformatter.numeralsystem.aspx">CurrencyFormatter.NumeralSystem | numeralSystem property</a></li>
<li><a href="http://msdn.microsoft.com/en-us/library/windows/apps/windows.globalization.datetimeformatting.datetimeformatter.numeralsystem.aspx">DateTimeFormatter.NumeralSystem | numeralSystem property</a></li>
<li><a href="http://msdn.microsoft.com/en-us/library/windows/apps/windows.globalization.calendar.numeralsystem.aspx">CalendarFormatter.NumeralSystem | numeralSystem property</a></li>
</ul>
<p>Now these doc topics as they stand have are a little broken -- since these properties return the name of the script of the digits, e.g. <strong>Arab</strong> or <strong>Latn</strong> or whatever script tag you like, rather than the actual digits like NLS does.</p>
<p>But that bug will I'm sure be fixed soon, so who cares? :-)</p>
<p>The cool part about all this is that this capability to get actual naive digits, or to parse them, in a way that fixes almost every problem or limitation I've written about in this Blog since late 2004 and in online forums before that.</p>
<p>I am staggered by simple it ended up being to ignore all of those limitations and bugs and problems and inconveniences. And just do the feature correctly in the middle of the globalization library while ignoring the problems posed by keyboards and NLS functions and such.</p>
<p>In so many ways, this is the support that .NET should have done back in 2001!</p>
<p>I'll be talking about this more some time&nbsp;soon, I just wanted to make a moment to tip a hat to the Modern version of <strong>Digit Substitution</strong>, which gives me so much less to complain about that <strong>it makes&nbsp;me want to write Modern apps</strong> (even before I get to lots of other features I'll also be covering that take many of the same approaches to unchaining us from old bugs while re-imaging new features!).</p>
<p>Of the 22 parts in this series, this is one of my favorites -- because it's not just a game changer. Because it&nbsp;changes a game we've been playing against ourselves and losing for more years than I've been in Redmond....</p>
<hr/><p><strong>Claudia Lawrence</strong> on 12 Apr 2012 7:34 AM:</p><div style="margin-left: 1em"><p>the less and less i understand your posts, the more and more i read them. &nbsp;</p>
</div>
<p><strong>asdf</strong> on 12 Apr 2012 11:25 AM:</p><div style="margin-left: 1em"><p>I&#39;m not a big fan of the term Modern apps. Metro is for silly toy apps with pointless restrictions, I&#39;d rather move to Linux than Metro. (WinApi 4eva)</p>
</div>
<p><strong>asdf</strong> on 12 Apr 2012 2:01 PM:</p><div style="margin-left: 1em"><p>Yay censorship?</p>
</div>
<p><strong>Simon Buchan</strong> on 13 Apr 2012 4:09 AM:</p><div style="margin-left: 1em"><p>@asdf: Lol.</p>
<p>&quot;Modern&quot; may be a dumb name, but &quot;Metro&quot; is the name of a design style - we don&#39;t call apps for OS X &quot;Aqua&quot; apps, do we? Whatever we end up calling them, though, one thing is clear: The WinRT APIs are so much more clearly designed and simple to use, and often (as in this case) far more functional than their WinApi equivalents. @asdf may currently have a point in that they do suffer from some &quot;pointless restrictions&quot;, but I expect as the API matures we will finally end up with what everyone&#39;s been asking for essentially the last 20 years: throwing away the old API (except for compatibility, of course!) and making a new, clean one from scratch. Not that is much comfort for all the people suffering with me with it&#39;s lack of support for multiple monitors right now....</p>
</div>
<p><strong>Michael S. Kaplan</strong> on 13 Apr 2012 7:24 AM:</p><div style="margin-left: 1em"><p>Good point, @Simon -- this case kind of proves it! :-)</p></div>
<p><strong>asdf</strong> on 13 Apr 2012 12:01 PM:</p><div style="margin-left: 1em"><p>I use windowS, not one or two tiles. It might be fine on a tablet but I&#39;m talking about desktop usage here. While I agree that WinRT will probably be a better designed api, the fact that it is so locked-down means that I don&#39;t feel like supporting it. (Which is why my only choice when getting a phone was Android)</p>
<p>The fact that you are not allowed to do IPC with TCP on localhost in WinRT is silly. (Until someone creates a 3rd party server where apps can connect and talk together)</p>
<p>Also, if you read the Certification requirements ( <a href="http://msdn.microsoft.com/library/windows/apps/51A7C609-94AB-49ab-B8E0-F26FF776DDB4.aspx" rel="nofollow" target="_new">msdn.microsoft.com/.../51A7C609-94AB-49ab-B8E0-F26FF776DDB4.aspx</a> ) you see that you will not be able to create a GTA style game. And from the App Developer Agreement ( <a href="http://msdn.microsoft.com/en-us/library/windows/apps/hh694058.aspx" rel="nofollow" target="_new">msdn.microsoft.com/.../hh694058.aspx</a> ): &quot;Microsoft may remove or suspend the availability of any app from the Windows Store for any reason or no reason&quot; (The no reason part smells like Apple) and &quot;...or to comply with _any_ judicial process, government order or lawsuit settlement.&quot; (Does this mean US or any country?)</p>
<p>As a power user and developer I just don&#39;t see how I can _work_ with that interface. Add to that the technical restrictions/lock-down, restrictive store policies (Bypassing the store is not an option either) and political/legal restrictions and my willingness to support this direction MS is going in is NULL. I have been a MS supporter since DOS but this time I have to take my ball and go home (In the name of freedom)</p>
<p>@Simon: If you look on MSDN you see this for some functions: &quot;Applies to: desktop apps | Metro style apps&quot; (FreeLibrary in this case) clearly we are not talking about design styles here.</p>
<p>Love your blog Michael, sorry I had to puke this all over it...</p></div>
<p><strong>Simon Buchan</strong> on 13 Apr 2012 7:03 PM:</p><div style="margin-left: 1em"><p>@asdf: I won&#39;t try to change your mind about this (heck, I probably won&#39;t be checking back), but so you understand where I&#39;m at on this, I agree with you on the current restrictions, but as I see it they currently exist only to reduce scope on ensuring security of Windows Store apps - things like IPC don&#39;t make as much sense in the way those apps are currently made (regardless of platform). Otherwise Microsoft would be crazy - dropping their &quot;Developers, Developers, Developers!&quot; mantra when Apple is gaining a lot of traction in the developer market seems incredibly self-defeating. I doubt I&#39;ll know for sure until Windows 9 or even 10 though, so for now I&#39;ll assume they&#39;re *not* crazy.</p>
<p>Oh and they&#39;re named *after* the design style, that&#39;s why it&#39;s &quot;Metro style application&quot; not just &quot;Metro application&quot;: it was developed originally for Windows Phone 7 I believe, but it&#39;s been taken by everyone from MSDN to XBox. Calling WinRT apps &quot;Metro&quot; when they&#39;re (for example) a FPS with flashy 3D holographic HUD and no flat-color tiles or text in sight is just silly. I&#39;d prefer something like a &quot;Tile&quot; (from how they&#39;re started) or &quot;Pane&quot; (from how they&#39;re managed) app, to contrast the &quot;Desktop&quot; naming.</p>
</div>
<hr/><p><em>referenced by</em></p><div style="margin-left: 1em"><p>2012/10/26 <a href="http://archives.miloush.net/michkap/archive/2012/10/26/10362603.html">The evolving Story of Locale Support, part 28: We finally fixed that 'Install New Languages' thing!</a></p><p>2012/10/02 <a href="http://archives.miloush.net/michkap/archive/2012/10/02/10354988.html">The evolving Story of Locale Support, part 27: No, the T and the H aren't silent...</a></p><p>2012/08/20 <a href="http://archives.miloush.net/michkap/archive/2012/08/20/10341516.html">The evolving Story of Locale Support, part 26: Hey Windows 8, there's someone on the phone for you.</a></p><p>2012/07/11 <a href="http://archives.miloush.net/michkap/archive/2012/07/11/10327775.html">The evolving Story of Locale Support, part 25: Something old, something new, something repurposed, and something...</a></p><p>2012/06/07 <a href="http://archives.miloush.net/michkap/archive/2012/06/07/10316511.html">The evolving Story of Locale Support, part 24: I Adar you! Hell, I Double Adar you! (Windows 8 ed.)</a></p><p>2012/06/05 <a href="http://archives.miloush.net/michkap/archive/2012/06/05/10315033.html">The evolving Story of Locale Support, part 23: Tamazight? Outta sight!</a></p><p>2012/05/04 <a href="http://archives.miloush.net/michkap/archive/2012/05/04/10300975.html">You know, it isn't always about us...</a></p><p>2012/04/16 <a href="http://archives.miloush.net/michkap/archive/2012/04/16/10293962.html">‎١‎, ‎٢‎, ‎٣‎ o'clock, ‎٤‎ o'clock digit substitution...</a></p></div><p><em>go to <a id="newer" href="http://archives.miloush.net/michkap/archive/2012/04/16/10293962.html" title="١, ٢, ٣ o&#39;clock, ٤ o&#39;clock digit substitution...">newer</a> or <a id="older" href="http://archives.miloush.net/michkap/archive/2012/04/11/10292682.html" title="How often should you read my Blog? Use the RATIO between blogs you don&#39;t like and blogs you do, and divide!">older</a> post, or back to <a href="http://archives.miloush.net/michkap/archive/index.html">index</a> or <a href="http://archives.miloush.net/michkap/archive/index.html#2012-04">month</a> or <a href="http://archives.miloush.net/michkap/archive/index.html#2012-04-12">day</a></em></p></body>
<!-- Mirrored from archives.miloush.net/michkap/archive/2012/04/12/10292952.html by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 25 May 2017 00:42:33 GMT -->
</html>