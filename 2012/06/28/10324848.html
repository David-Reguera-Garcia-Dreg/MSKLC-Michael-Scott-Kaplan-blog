<html>
<!-- Mirrored from archives.miloush.net/michkap/archive/2012/06/28/10324848.html by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 25 May 2017 00:42:32 GMT -->
<head><meta charset="utf-8" /><meta name="viewport" content="width=device-width" /><title>You've got to ACCentuate the positive (or perhaps it would be better not to be so quick to do so!)</title></head><body>
<h1>You've got to ACCentuate the positive (or perhaps it would be better not to be so quick to do so!)</h1>
<p><em>by Michael S. Kaplan, published on 2012/06/28 07:01 -04:00, original URI: http://blogs.msdn.com/b/michkap/archive/2012/06/28/10324848.aspx</em></p>
<hr/> <!-- Archival Source: ProcessPostNew -->
<p>There are times when I can blog rather indirectly, obliquely, and/or theoretically.</p>
<p>Even though some real problem may have originally inspired it -- perhaps an issue that is being discussed with a not-yet-shipped product.</p>
<p>This is kind of cool since people involved with the problem will see the blog inspired by it, and it can help them frame their arguments.</p>
<p>For example, <strong><a title="Four cases where I don't like ResolveLocaleName (and you shouldn't either!)" href="../../04/23/10296348.html">Four cases where I don't like ResolveLocaleName (and you shouldn't either!)</a></strong> was brought up in a meeting where people discussed how to possibly fix that problem.</p>
<p>These "collaborations" are often "conspiracies" in the legal sense, where you have multiple people working on issues without always being aware of each other or their efforts (kind of a Law &amp; Order reference to the 1991 episode <a href="http://www.imdb.com/title/tt0629463/">The Torrents of Greed</a>&nbsp;-- the right hand doesn't have to know what left hand is doing for then to be part of a conspiracy, whether to commit a crime or&nbsp;to solve an technical problem!</p>
<p>Another example would be <strong><a title="When you have just one model, the easiest place to fall short is when something's missing..." href="../../04/03/10290188.html">When you have just one model, the easiest place to fall short is when something's missing...</a></strong>, where I talked about the complications involved with determining whether a positive number might be <strong>3</strong> versus <strong>+3</strong> or even <strong>3+</strong>, due to problems in the model that we've never managed to fully sort out.</p>
<p>Then the other day, the following anonymous blog was received by me, from someone who has seen some more direct consequences to the problem, in both shipping product and not yet shipped product:</p>
<p style="padding-left: 60px;"><span style="font-family: times new roman,times; font-size: medium;">LOCALE_IPOSSIGNPOSN and LOCALE_SPOSITIVESIGN allow a locale to specify how positive numbers are decorated. They can specify a string and a position. But nobody actually uses it. And sometimes people who try discover that it looks awful because some locale data (such as es-US and el) say &ldquo;I want a plus sign in front of all positive numbers&rdquo;, but when you actually put a plus sign in front, people complain &ldquo;Hey, why are all these plus signs in front of all my positive numbers?&rdquo;</span></p>
<p style="padding-left: 60px;"><span style="font-family: times new roman,times; font-size: medium;">&ldquo;Right here, you said that you wanted plus signs in front of all your positive numbers.&rdquo;</span></p>
<p style="padding-left: 60px;"><span style="font-family: times new roman,times; font-size: medium;">&ldquo;Yeah, sure, but I didn&rsquo;t expect you listen to me!&rdquo;</span></p>
<p style="padding-left: 60px;"><span style="font-family: times new roman,times; font-size: medium;">It&rsquo;s made more confusing because LOCALE_INEGSIGNPOSN says &ldquo;Formatting index for the negative sign in currency values&rdquo;</span><br /><span style="font-family: times new roman,times; font-size: medium;">But LOCALE_IPOSSIGNPOSN says &ldquo;Formatting index for positive values.&rdquo; (Note: Not restricted to currency.)</span></p>
<p style="padding-left: 60px;"><span style="font-family: times new roman,times; font-size: medium;">// Although LOCALE_IPOSSIGNPOSN or LOCALE_SPOSITIVESIGN are documented to produce the proper positive format and </span><br /><span style="font-family: times new roman,times; font-size: medium;">// some locales (es-US, el) specify that they want a + (LOCALE_SPOSITIVESIGN) in front of all positive numbers (LOCALE_IPOSSIGNPOSN),</span><br /><span style="font-family: times new roman,times; font-size: medium;">// this request is ignored by .NET and most Win32 apps. So we ignore it too.</span></p>
<p>Just about now, there are unrelated conversations about whether/how to get code that took the data at its word when maybe it shouldn't have trusted the data quite so much.</p>
<p>Kind of interesting how the conspiracy unfolds! :-)</p>
<hr/><p><strong>Random832</strong> on 29 Jun 2012 6:08 AM:</p><div style="margin-left: 1em"><p>Well, maybe there needs to be a new locale value to indicate that they really mean it.</p>
<p>LOCALE_IYESIMPOSITIVE.</p>
</div>
<hr/><p><em>go to <a id="newer" href="../29/10323350.html" title="Locale IDs Assigned by [some unknown part of] Microsoft [Kevin only knows when!]">newer</a> or <a id="older" href="../27/10324329.html" title="Can you hear me now? How about on August 6th or September 20th or October 24th?">older</a> post, or back to <a href="../../../index-2.html">index</a> or <a href="../../../index-2.html#2012-06">month</a> or <a href="../../../index-2.html#2012-06-28">day</a></em></p></body>
<!-- Mirrored from archives.miloush.net/michkap/archive/2012/06/28/10324848.html by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 25 May 2017 00:42:32 GMT -->
</html>