<html>
<!-- Mirrored from archives.miloush.net/michkap/archive/2012/07/16/10330046.140404.html by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 25 May 2017 00:42:32 GMT -->
<head><meta charset="utf-8" /><meta name="viewport" content="width=device-width" /><title>if you see a ZWNBSP in the Release Preview, don't be insensitive and comment it hasn't been eating enough lately!</title></head><body>
<h1>if you see a ZWNBSP in the Release Preview, don't be insensitive and comment it hasn't been eating enough lately!</h1>
<p><em>by Michael S. Kaplan, published on 2012/07/16 16:04 +02:00, original URI: http://blogs.msdn.com/b/michkap/archive/2012/07/16/10330046.aspx</em></p>
<hr/> <!-- Archival Source: ProcessPostMail -->
<p>Just yesterday, I was asked:</p>
 <p style="padding-left: 30px;"><span style="font-family: times new roman,times;"><em><span style="font-size: medium;">Hi Michael,</span></em></span></p>
 <p style="padding-left: 30px;"><span style="font-family: times new roman,times;"><em><span style="font-size: medium;">I'm running the Release Preview, and I found something confusing.</span></em></span></p>
 <p style="padding-left: 30px;"><span style="font-family: times new roman,times;"><em><span style="font-size: medium;">*SP* has weight, *ZWSP* has weight, and *NBSP* has weight, but *ZWNBSP* has no weight!</span></em></span><span style="font-family: times new roman,times;"><em><span style="font-size: medium;"></span></em></span></p>
 <p style="padding-left: 30px;"><span style="font-family: times new roman,times;"><em><span style="font-size: medium;">Is this a bug? Is it too late to fix before Windows 8 comes out?</span></em></span></p>
 <p>Funny he should say that!</p>
 <p>This was actually an intentional change that happened in the new version sorting in Windows 8, as of just after the <strong>Windows 8&nbsp;Consumer Preview</strong> and a little time before the <strong>Windows 8&nbsp;Release Preview</strong>.</p>
 <p>This change directly undoes the change described in <strong><a title="If a bunch of specific Unicode characters can no longer live in the same apartment together, can they really claim that they needed their space?" href="../../../2007/05/17/2692362.html">If a bunch of specific Unicode characters can no longer live in the same apartment together, can they really claim that they needed their space?</a></strong>.</p>
 <p>It works like this:</p>
 <p>The space character, <a href="http://www.fileformat.info/info/unicode/char/0020" mce_href="http://www.fileformat.info/info/unicode/char/0020">U+0020</a>, is given weight in the&nbsp;collation table.</p>
 <p>For that matter, so do <a href="http://www.fileformat.info/info/unicode/char/205f" mce_href="http://www.fileformat.info/info/unicode/char/205f">U+205f</a> (MEDIUM MATHEMATICAL SPACE), <a href="http://www.fileformat.info/info/unicode/char/3000" mce_href="http://www.fileformat.info/info/unicode/char/3000">U+3000</a> (IDEOGRAPHIC SPACE),&nbsp;<a href="http://www.fileformat.info/info/unicode/char/1680" mce_href="http://www.fileformat.info/info/unicode/char/1680">U+1680</a> (OGHAM SPACE MARK),&nbsp;<a href="http://www.fileformat.info/info/unicode/char/2002" mce_href="http://www.fileformat.info/info/unicode/char/2002">U+2002</a> (EN SPACE), <a href="http://www.fileformat.info/info/unicode/char/2003" mce_href="http://www.fileformat.info/info/unicode/char/2003">U+2003</a> (EM SPACE), <a href="http://www.fileformat.info/info/unicode/char/2004" mce_href="http://www.fileformat.info/info/unicode/char/2004">U+2004</a> (THREE-PER-EM SPACE),&nbsp;<a href="http://www.fileformat.info/info/unicode/char/2005" mce_href="http://www.fileformat.info/info/unicode/char/2005">U+2005</a> (FOUR-PER-EM SPACE), <a href="http://www.fileformat.info/info/unicode/char/2006" mce_href="http://www.fileformat.info/info/unicode/char/2006">U+2006</a> (SIX-PER-EM SPACE), <a href="http://www.fileformat.info/info/unicode/char/2007" mce_href="http://www.fileformat.info/info/unicode/char/2007">U+2007</a> (FIGURE SPACE), <a href="http://www.fileformat.info/info/unicode/char/2008" mce_href="http://www.fileformat.info/info/unicode/char/2008">U+2008</a> (PUNCTUATION SPACE),&nbsp;<a href="http://www.fileformat.info/info/unicode/char/2009" mce_href="http://www.fileformat.info/info/unicode/char/2009">U+2009</a> (THIN SPACE), and <a href="http://www.fileformat.info/info/unicode/char/200a" mce_href="http://www.fileformat.info/info/unicode/char/200a">U+200a</a> (HAIR SPACE).</p>
 <p>Perhaps more to the point, <a href="http://www.fileformat.info/info/unicode/char/200b" mce_href="http://www.fileformat.info/info/unicode/char/200b">U+200b</a> (ZERO WIDTH SPACE) and <a href="http://www.fileformat.info/info/unicode/char/00a0" mce_href="http://www.fileformat.info/info/unicode/char/00a0">U+00a0</a> (NO-BREAK SPACE) have weight.</p>
 <p>And for the last four versions of Windows:</p>
 <ul>
 <li>Vista</li>
 <li>Windows Server 2008</li>
 <li>Windows 7</li>
 <li>Windows Server 2012</li>
 </ul>
 <p>and up to and including the <strong>Windows 8 Developer Preview</strong> and the <strong>Windows 8 Consumer Preview</strong>, <a href="http://www.fileformat.info/info/unicode/char/feff" mce_href="http://www.fileformat.info/info/unicode/char/feff">U+feff</a> (ZERO WIDTH NO-BREAK SPACE) has had weight too.</p>
 <p>With a new major sorting version starting the <strong>Windows 8 Release Preview</strong>, this single inconsistency has been added once again, and technically made inconsistent....</p>
 <p><em>As a bonus, we are also once again inconsistent with the <a href="http://www.unicode.org/reports/tr10/">Unicode Collation Algorithm</a>, but I've been telling people for years that <em><strong><a title="Microsoft does not use the Unicode Collation Algorithm" href="../../../2004/11/28/271121.html">Microsoft does not use the Unicode Collation Algorithm</a></strong>.</em></em></p>
 <p>If you want to make the other spaces also have no weight, then as I pointed out in &nbsp;<strong><a href="../../../2006/03/25/560416.html" mce_href="../../../2006/03/25/560416.html">I need my SPACE, symbolically speaking</a></strong>, the weight these characters are given is in the symbol range. So if you truly want to ignore the others, you can just call <a href="http://msdn2.microsoft.com/library/ms647476.aspx" mce_href="http://msdn2.microsoft.com/library/ms647476.aspx">CompareString</a> or <a href="http://msdn2.microsoft.com/library/ms647477.aspx" mce_href="http://msdn2.microsoft.com/library/ms647477.aspx">CompareStringEx</a> with the NORM_IGNORESYMBOLS&nbsp;flag. And you can go from there....</p>
 <p>Now of course some people will cry out that <a href="http://www.fileformat.info/info/unicode/char/feff" mce_href="http://www.fileformat.info/info/unicode/char/feff">U+feff</a>&nbsp;is not just&nbsp;a space like the others, it is also the BYTE ORDER MARK (ref: <strong><a href="../../../2005/01/20/357028.html" mce_href="../../../2005/01/20/357028.html">Every character has a story #4: U+feff (alternate title: UTF-8 is the BOM, dude!)</a></strong>). Now in my humble opinion (many years and many building away from the group that owns the tables), the BOM has an even clearer semantic meaning attached to it, so ignoring it completely would not really be a linguistic or even a&nbsp;semantic&nbsp;requirement like some other characters like the ones I mention in <strong><a href="../../../2006/09/02/736881.html" mce_href="../../../2006/09/02/736881.html">Every character has a story #23: U+00ad (SOFT HYPHEN)</a></strong> and <strong><a href="../../../2007/01/12/1454496.html" mce_href="../../../2007/01/12/1454496.html">You've got to be kashidding me</a></strong>....</p>
 <p>But the theoretical&nbsp;viewpoint that drove this change all those years ago was overruled by several important real world customer and partner scenarios.</p>
 <p>And the "standards conformance" argument seldom holds water when we don't conform to that standard!</p>
 <p><em>Second runner- up&nbsp;for this blog:</em></p>
 <p><span style="font-size: medium;"><strong>Reality trumps theory (almost always!)</strong></span></p>
 <p>Plus I wasn't there anymore, and neither was the linguist I was working with back then.</p>
 <p><em>First runner-up for this blog, in case the title is unable to fulfill it's duties:</em></p>
 <p><span style="font-size: medium;"><strong>The people who are there trump the people who used to be there (most of the time!)</strong></span></p>
 <p>So anyway, if you see a ZERO WIDTH NO-BREAK SPACE in the <strong>Windows 8 Release Preview</strong>, don't be insensitive and comment it hasn't been eating enough lately!</p>
<hr/><div style="margin-left: 1em"><em>comments not archived</em></div><hr/><p><em>go to <a id="newer" href="10330046.html" title="if you see a ZWNBSP in the Release Preview, don&#39;t be insensitive and comment it hasn&#39;t been eating enough lately!">newer</a> or <a id="older" href="../13/10329490.html" title="There are 3 kinds of people....">older</a> post, or back to <a href="../../../index-2.html">index</a> or <a href="../../../index-2.html#2012-07">month</a> or <a href="../../../index-2.html#2012-07-16">day</a></em></p></body>
<!-- Mirrored from archives.miloush.net/michkap/archive/2012/07/16/10330046.140404.html by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 25 May 2017 00:42:32 GMT -->
</html>