<html>
<!-- Mirrored from archives.miloush.net/michkap/archive/2012/02/27/10273315.html by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 25 May 2017 00:42:34 GMT -->
<head><meta charset="utf-8" /><meta name="viewport" content="width=device-width" /><title>There's no "I" in IDN, part 12: Emoji + IDN == U+1F4A9 (PILE OF POO)</title></head><body>
<h1>There's no "I" in IDN, part 12: Emoji + IDN == U+1F4A9 (PILE OF POO)</h1>
<p><em>by Michael S. Kaplan, published on 2012/02/27 07:01 -05:00, original URI: http://blogs.msdn.com/b/michkap/archive/2012/02/27/10273315.aspx</em></p>
<hr/> <!-- Archival Source: ProcessPostNew -->
<p>Previous blogs in this series:</p>
<ul>
<li><strong><a title="part 11: There's no place like ::1, not even 127.0.0.1!" href="http://archives.miloush.net/michkap/archive/2011/10/25/10229790.html">part 11: There's no place like ::1, not even 127.0.0.1!</a></strong></li>
<li><strong><a title="part 10: Who needs IDN support? How much? When? (Part 2)" href="http://archives.miloush.net/michkap/archive/2011/09/21/10214081.html">part 10: Who needs IDN support? How much? When? (Part 2)</a></strong></li>
<li><strong><a title="part 9: Who needs IDN support? How much? When? (Part 2)" href="http://archives.miloush.net/michkap/archive/2011/09/16/10212216.html">part 9: Who needs IDN support? How much? When? (Part 1)</a></strong></li>
<li><strong><a title="part 8: Punycode don't do the PUA" href="http://archives.miloush.net/michkap/archive/2011/08/12/10195062.html">part 8: Punycode don't do the PUA</a></strong></li>
<li><strong><a title="part 7: IDN comes to AdWords" href="http://archives.miloush.net/michkap/archive/2011/07/28/10190701.html">part 7: IDN comes to AdWords</a>&nbsp;</strong></li>
<li><strong><a title="part 6: It isn't like there's an &quot;I&quot; in EAI, either!" href="http://archives.miloush.net/michkap/archive/2011/07/14/10186414.html">part 6: It isn't like there's an "I" in EAI, either!</a></strong></li>
<li><strong><a title="part 5: Stephen Colbert's job is not in any jeopardy" href="http://archives.miloush.net/michkap/archive/2011/06/29/10181212.html">part 5: Stephen Colbert's job is not in any jeopardy</a></strong></li>
<li><strong><a title="part 4: the 'path' to Hell is paved with IDN bugs" href="http://archives.miloush.net/michkap/archive/2011/06/17/10173790.html">part 4: the 'path' to Hell is paved with IDN bugs</a></strong></li>
<li><strong><a title="part 3: There's no &quot;I&quot; in DIY, either!" href="http://archives.miloush.net/michkap/archive/2011/05/25/10168228.html">part 3: There's no "I" in DIY, either!</a></strong></li>
<li><strong><a title="part 2: Try not to use the wrong functions!" href="http://archives.miloush.net/michkap/archive/2011/04/02/10149149.html">part 2: Try not to use the wrong functions!</a></strong></li>
<li><strong><a title="part 1: If you're not Unicode, you're just wrong!" href="http://archives.miloush.net/michkap/archive/2011/02/14/10128621.html">part 1: If you're not Unicode, you're just wrong!</a></strong></li>
</ul>
<p>Today's&nbsp;blog starts with an email that was sent to The Unicode List by Jeroen Ruigrok van der Werven:</p>
<p style="padding-left: 60px;"><span style="font-family: times new roman,times;">IDN and emoji combined brings you the wonderful domain of:</span><br /><br /><span style="font-family: times new roman,times;">http://💩.la/&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; (It should be U+1F4A9.)</span><br /><br /><span style="font-family: times new roman,times;">I don't know whether to laugh or cry at this marvel of technology. :)</span></p>
<p>Even though it was the weekend, Stephane Bortzmeyer replied quickly enough:</p>
<p style="padding-left: 60px;"><span style="font-family: times new roman,times;"><em>Note that it is a direct violation of RFC 5892. U+1F4A9, being of</em></span><br /><span style="font-family: times new roman,times;"><em>category So, should be DISALLOWED. The registry was wrong to accept</em></span><br /><span style="font-family: times new roman,times;"><em>it.</em></span></p>
<p>To which Jeroen Ruigrok van der Werven replied:</p>
<p style="padding-left: 60px;"><span style="font-family: times new roman,times;">Oh, this will be fun. So I guess they did not check the codepoint categories</span><br /><span style="font-family: times new roman,times;">in their validation step then? (I honestly have no idea how NICs do this</span><br /><span style="font-family: times new roman,times;">nowadays, it's been ages since I messed with stuff on that level.)</span></p>
<p>Now this is not such a new issue.</p>
<p>The first time I heard of it was from the blog <a href="http://www.panic.com/blog/2011/07/the-worlds-first-emoji-domain/">The World&rsquo;s First Emoji Domain</a>, which was first put up on July 21st last year.</p>
<p>From that blog:</p>
<p style="padding-left: 30px;">Now that you&rsquo;ve had a moment to recover, I&rsquo;d like to give particular thanks to the country of Laos, who run the last remaining domain registrar I&rsquo;m aware of that still allows international domain names that use any Unicode character. Our sincere thanks must be given to Thongsing Thammavong, the Prime Minister of Laos, for his valuable assistance in making all of this possible.<br />&nbsp;<br />Update: I&rsquo;ve just got word that, due to intense political unrest in Laos (untrue), they no longer allow Emoji domains! Yes, .la is no more. Fortunately, the territory of Tokelau (!) has stepped in to meet this intense international need! Emoji .tk domains are now available.<br />&nbsp;<br />(Why are they so hard to register? Due to fears of IDN homograph attacks, most registrars, like .com, now only allow specific language sets to be used for Unicode domain names. The days of registering ☃.net &mdash; a previous Cabel effort in this series &mdash; are long gone. In fact, back in 2007 ICANN expressly recommended that &ldquo;symbols and icons [...] such as typographic and pictographic dingbats&rdquo; should not be allowable code points for domain names. Fortunately, Laos didn&rsquo;t get the memo.)</p>
<p style="padding-left: 30px;">...</p>
<p style="padding-left: 30px;">PS: Thanks to iwantmyname.com for doing emoji domain registration, and domai.nr for valuable assistance!</p>
<p>Note that people started registering Emoji domains right in the comments of that blog.</p>
<p>Now, who is right here -- the other blog author or Stephane?</p>
<p><a href="http://tools.ietf.org/rfc/rfc5892.txt">RFC 5892: The Unicode Code Points and Internationalized Domain Names for Applications (IDNA)</a>&nbsp;is not as&nbsp;direct&nbsp;as Stephane&nbsp;suggests; although the process it describes hints at issues you can only indirectly hit if you run the process, e.g.</p>
<p>&nbsp;&nbsp; The mechanisms described here allow determination of the value of the<br />&nbsp;&nbsp; property for future versions of Unicode (including characters added<br />&nbsp;&nbsp; after Unicode 5.2).&nbsp; Changes in Unicode properties that do not affect<br />&nbsp;&nbsp; the outcome of this process do not affect IDN.&nbsp; For example, a<br />&nbsp;&nbsp; character can have its Unicode General_Category value (see<br />&nbsp;&nbsp; [Unicode52]) change from So to Sm or from Lo to Ll, without affecting<br />&nbsp;&nbsp; the algorithm results.</p>
<p>The rest of the document does not mention <strong>So</strong> or <strong>Sm</strong> explicitly at all, and you have to dig to derived character definitions to get to them -- to even understand why such references&nbsp;to <strong>So</strong> or <strong>Sm</strong> even exist.</p>
<p>A lot of the symbols issue here has mmuch more to do with the move from IDNA2003 to IDNA2008; as the new Unicode 6.1 update to&nbsp;<a href="http://www.unicode.org/reports/tr46/tr46-7.html">UTS #46: Unicode IDNA Compatibility Processing</a> state:</p>
<p style="padding-left: 30px;"><em>By using this Compatibility Processing, a domain name such as &Ouml;BB.at will be mapped to the valid domain name &ouml;bb.at, thus matching user expectation for case behavior in domain names. For transitional use, the Compatibility Processing also allows domain names containing symbols and punctuation that were valid in IDNA2003, such as &radic;.com (which has an associated web page). Such domain names containing symbols will gradually disappear as registries shift to IDNA2008.</em></p>
<p>Anyway, what we are largely seeing here is registries that were using the older rules.</p>
<p>Now IE9 on Windows 7 won't go to the "Get Coffee" domain at all:</p>
<p><a href="http://msdnshared.blob.core.windows.net/media/MSDNBlogsFS/prod.evol.blogs.msdn.com/CommunityServer.Blogs.Components.WeblogFiles/00/00/00/33/81/3051.idn01.jpg"><img title="Can't use the link in IE" border="0" alt="Can't use the link in IE" src="http://blogs.msdn.com/resized-image.ashx/__size/550x0/__key/communityserver-blogs-components-weblogfiles/00-00-00-33-81/3051.idn01.jpg" /></a></p>
<p>Even if you do it in the Punycode version directly:</p>
<p><a href="http://msdnshared.blob.core.windows.net/media/MSDNBlogsFS/prod.evol.blogs.msdn.com/CommunityServer.Blogs.Components.WeblogFiles/00/00/00/33/81/6710.idn03.jpg"><img title="Can't use the Punycode link in IE" border="0" alt="Can't use the Punycode link in IE" src="http://blogs.msdn.com/resized-image.ashx/__size/550x0/__key/communityserver-blogs-components-weblogfiles/00-00-00-33-81/6710.idn03.jpg" /></a></p>
<p>I won't speculate on the reasons -- beyond an idle guess that it may be following IDNA2008 rules and rejecting the site? Maybe.</p>
<p>And I can't get to either&nbsp;of my Windows 8 machines at the moment.</p>
<p>"Luckily" Firefox had no problem with it....</p>
<p><a href="http://msdnshared.blob.core.windows.net/media/MSDNBlogsFS/prod.evol.blogs.msdn.com/CommunityServer.Blogs.Components.WeblogFiles/00/00/00/33/81/6724.idn02.jpg"><img title="It works ok in Firefox" border="0" alt="It works ok in Firefox" src="http://blogs.msdn.com/resized-image.ashx/__size/550x0/__key/communityserver-blogs-components-weblogfiles/00-00-00-33-81/6724.idn02.jpg" /></a></p>
<p>Hmmmm.</p>
<p>How I feel about its success largely depends on the reason for IE's failure.</p>
<p>If you know what I mean.</p>
<p>I want to be clear on what the moral is here -- prefer IDNA2008 whenever you can.</p>
<p><strong>And please never mix IDN and Emoji</strong>, even when someone lets you....</p>
<hr/><p><strong>RFC Editor</strong> on 27 Feb 2012 1:31 PM:</p><div style="margin-left: 1em"><p>RFC 5892 is just a proposal ;-)</p>
</div>
<p><strong>Simon Buchan</strong> on 27 Feb 2012 2:20 PM:</p><div style="margin-left: 1em"><p>I&#39;d feel worse about the disallowing of symbolic IDNs if someone put up a non-incredibly stupid one. &spades;.com being (an alternate name for) a poker site? ✈.com being an travel-booking site? ❤.com, ✝.net, ♞.info, ♂.com, ☎.com, ♨.com, etc..., all pretty obviously useful (if still dumb!) domains.</p>
<p>Incidently, but a bit off-topic: while looking for suitable victims, I noticed U+066D &quot;Arabic Five Pointed Star&quot; - which doesn&#39;t look to be, you know, five pointed in any font. Google had some interesting results, but I&#39;m still not sure what&#39;s up with that....</p></div>
<p><strong>Steak Styles</strong> on 29 Feb 2012 7:13 PM:</p><div style="margin-left: 1em"><p>Pfft, the Windows 8 keyboard makes such classic domains as �� .com or ��.gov mere taps away. .la is small time.</p>
</div>
<hr/><p><em>referenced by</em></p><div style="margin-left: 1em"><p>2013/10/17 <a href="http://archives.miloush.net/michkap/archive/2013/10/17/10453790.html">There's no "I" in IDN, part 19: There's no "I" in IPv6, either!</a></p><p>2013/10/08 <a href="http://archives.miloush.net/michkap/archive/2013/10/08/10454553.html">There's no "I" in IDN, part 18: There isn't even an "I" in John C. Klensin's name!</a></p><p>2013/09/13 <a href="http://archives.miloush.net/michkap/archive/2013/09/13/10448110.html">There's no "I" in IDN, part 17: EAI made it to China, and everybody knows it!</a></p><p>2013/04/19 <a href="http://archives.miloush.net/michkap/archive/2013/04/19/10412471.html">There's no "I" in IDN, part 16: It's a good thing they decided to call it EAI!</a></p><p>2012/10/12 <a href="http://archives.miloush.net/michkap/archive/2012/10/12/10359120.html">There's no "I" in IDN, part 15: Still no 'I' in EAI.... but we could use an US sometime soon!</a></p><p>2012/08/08 <a href="http://archives.miloush.net/michkap/archive/2012/08/08/10337799.html">There's no "I" in IDN, part 14: It turns out there's no "I" in IE, either</a></p><p>2012/05/18 <a href="http://archives.miloush.net/michkap/archive/2012/05/18/10305223.html">There's no "I" in IDN, part 13: Desktop and Managed and Metro; oh my!</a></p></div><p><em>go to <a id="newer" href="http://archives.miloush.net/michkap/archive/2012/02/28/10273744.html" title="Do you know what Հայերեն, தமிழ், اُردو, and Tiếng Việt have in common?">newer</a> or <a id="older" href="http://archives.miloush.net/michkap/archive/2012/02/26/10273063.html" title="Even more recent latest about the &quot;post-iBot&quot; world....">older</a> post, or back to <a href="http://archives.miloush.net/michkap/archive/index.html">index</a> or <a href="http://archives.miloush.net/michkap/archive/index.html#2012-02">month</a> or <a href="http://archives.miloush.net/michkap/archive/index.html#2012-02-27">day</a></em></p></body>
<!-- Mirrored from archives.miloush.net/michkap/archive/2012/02/27/10273315.html by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 25 May 2017 00:42:34 GMT -->
</html>