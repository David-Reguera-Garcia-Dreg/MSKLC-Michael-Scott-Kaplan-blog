<html>
<!-- Mirrored from archives.miloush.net/michkap/archive/2012/01/24/10259941.html by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 25 May 2017 00:42:34 GMT -->
<head><meta charset="utf-8" /><meta name="viewport" content="width=device-width" /><title>The evolving Story of Locale Support, part 16: We can't scale to a Xishuangbanna Dai locale, but…</title></head><body>
<h1>The evolving Story of Locale Support, part 16: We can't scale to a Xishuangbanna Dai locale, but…</h1>
<p><em>by Michael S. Kaplan, published on 2012/01/24 07:01 -05:00, original URI: http://blogs.msdn.com/b/michkap/archive/2012/01/24/10259941.aspx</em></p>
<hr/> <!-- Archival Source: ProcessPostNew -->
<p>Previous blogs from this series:</p>
<ul>
<li><strong><a title="part 15 (Fixing our listings up in Windows 8!)" href="http://archives.miloush.net/michkap/archive/2012/01/17/10256884.html">part 15 (Fixing our listings up in Windows 8!)</a></strong></li>
<li><strong><a title="part 14 (Tifinagh, Tamazight, and Berber? Oh my!)" href="http://archives.miloush.net/michkap/archive/2011/12/22/10250349.html">part 14 (Tifinagh, Tamazight, and Berber? Oh my!)</a></strong></li>
<li><strong><a title="part 13 (Divvying up locales, yet again!)" href="http://archives.miloush.net/michkap/archive/2011/12/21/10249983.html">part 13 (Divvying up locales, yet again!)</a></strong></li>
<li><strong><a title="part 12 (Logic dictates that we keep a sense of proportion about the RATIO)" href="http://archives.miloush.net/michkap/archive/2011/12/09/10246051.html">part 12 (Logic dictates that we keep a sense of proportion about the RATIO)</a></strong></li>
<li><strong><a title="part 11: What language is that keyboard for?)" href="http://archives.miloush.net/michkap/archive/2011/11/23/10240896.html">part 11 (What language is that keyboard for?)</a></strong></li>
<li><strong><a title="part 10 (Perhaps it is best to think of it as unintelligent design?)" href="http://archives.miloush.net/michkap/archive/2011/11/22/10239572.html">part 10 (Perhaps it is best to think of it as unintelligent design?</a></strong></li>
<li><strong><a title="part 9 (Nastaleeq vs. Nastaliq? Either way, Windows 8 has got it!)" href="http://archives.miloush.net/michkap/archive/2011/11/16/10237715.html">part 9 (Nastaleeq vs. Nastaliq? Either way, Windows 8 has got it!</a></strong></li>
<li><strong><a title="part 8 ([Finally] taking care of some [more] languages in Pakistan)" href="http://archives.miloush.net/michkap/archive/2011/11/15/10237317.html">part 8 ([Finally] taking care of some [more] languages in Pakistan</a></strong></li>
<li><strong><a title="part 7 (That would be a 'call and a raise' for Hawaiian" href="http://archives.miloush.net/michkap/archive/2011/11/11/10236194.html">part 7 (That would be a 'call and a raise' for Hawaiian)</a></strong></li>
<li><strong><a title="part 6 (Behind the Cherokee Phonetic layout in Windows 8)" href="http://archives.miloush.net/michkap/archive/2011/11/09/10235391.html">part 6 (Behind the Cherokee Phonetic layout in Windows 8)</a></strong></li>
<li><strong><a title="part 5 (...until the decision was made to not refuse to add it)" href="http://archives.miloush.net/michkap/archive/2011/11/08/10234995.html">part 5 (...until the decision was made to not refuse to add it)</a></strong></li>
<li><strong><a title="part 4 (working beyond one's bugs, and the case for an MSKLC update)" href="http://archives.miloush.net/michkap/archive/2011/11/04/10233999.html">part 4 (working beyond one's bugs, and the case for an MSKLC update)</a></strong></li>
<li><strong><a title="part 3 (working beyond one's bugs, the setup)" href="http://archives.miloush.net/michkap/archive/2011/11/03/10233591.html">part 3 (working beyond one's bugs, the setup)</a> </strong></li>
<li><strong><a title="part 2 (raising the roof on keyboards)" href="http://archives.miloush.net/michkap/archive/2011/11/02/10232468.html">part 2 (raising the roof on keyboards)</a></strong></li>
<li><strong><a title="part 1 (Some people don't want to double-d's)" href="http://archives.miloush.net/michkap/archive/2011/11/01/10232070.html">part 1 (Some people don't want to double-d's)</a></strong></li>
<li><strong><a title="part 0 (The introduction)" href="http://archives.miloush.net/michkap/archive/2011/10/31/10231661.html">part 0 (The introduction)</a></strong></li>
</ul>
<p>This series has been largely&nbsp;discussing a particular "meta-issue".</p>
<p>The fact that as our model for locale support is indeed evolving. And much more quickly than usual.</p>
<p>Some of the blogs in this series capture the "missing links", which can be invaluable since not everything can be deduced from a finished product.</p>
<p>Examples?</p>
<p>Part of it is the new keyboards that can support languages for which no locales currently exist, as described in <a title="part 2 (raising the roof on keyboards)" href="http://archives.miloush.net/michkap/archive/2011/11/02/10232468.html"><strong>part 2</strong></a>.</p>
<p>And part of it is in the new list of languages that sits under those new keyboards and supports way more than our locale list can perhaps ever reach, as described in&nbsp;<a title="part 15 (Fixing our listings up in Windows 8!)" href="http://archives.miloush.net/michkap/archive/2012/01/17/10256884.html"><strong>part 15</strong></a>.</p>
<p>Exciting times, aren't they? :-)</p>
<p>Well, let's add one of those&nbsp;new keyboards.</p>
<p>Like the one for the New Tai Lue script/Xishuangbanna Dai language:</p>
<p><a href="http://msdnshared.blob.core.windows.net/media/MSDNBlogsFS/prod.evol.blogs.msdn.com/CommunityServer.Blogs.Components.WeblogFiles/00/00/00/33/81/5875.NewTaiLue01.jpg"><img title="Adding the Xishuangbanna Dai (New Tai Lue) keyboard layout" border="0" alt="Adding the Xishuangbanna Dai (New Tai Lue) keyboard layout" src="http://blogs.msdn.com/resized-image.ashx/__size/550x0/__key/communityserver-blogs-components-weblogfiles/00-00-00-33-81/5875.NewTaiLue01.jpg" /></a></p>
<p>Cool!</p>
<p>Even cooler -- how quickly I typed <span style="font-size: small;">ᦎᦷᦑᦺᦜᦺᧈ ᦉᦲᧇᦉᦸᧂᧅᧃᦓᦈ</span> with the Windows 8 soft keyboard. :-)</p>
<p><em>Admittedly I built the original keyboard layout it was based on -- your mileage may vary....</em></p>
<p><em>If you have the Developer Preview you can see how we are improving here already in supporting finding new language&nbsp;names via some of those script names!</em></p>
<p>It's on our Language List now, and everything!</p>
<p><a href="http://msdnshared.blob.core.windows.net/media/MSDNBlogsFS/prod.evol.blogs.msdn.com/CommunityServer.Blogs.Components.WeblogFiles/00/00/00/33/81/0652.NewTaiLue02.jpg"><img title="The updated Windows 8 language list, with that New Tai Lue nt the bottom" border="0" alt="The updated Windows 8 language list, with that New Tai Lue nt the bottom" src="http://blogs.msdn.com/resized-image.ashx/__size/550x0/__key/communityserver-blogs-components-weblogfiles/00-00-00-33-81/0652.NewTaiLue02.jpg" /></a></p>
<p>This is awesome!</p>
<p>But then we ran into a problem when we tried to search for some New Tai Lue script/Xishuangbanna Dai language text in an XPS file we just created.</p>
<p>Because we were using that New Tai Lue keyboard, the one that the "WinLangDB" list put under the code of <a href="http://globalrecordings.net/research/language/khb">khb, for the L&uuml;&nbsp;macrolanguage</a>.</p>
<p>The search ends up failing since functions like <a href="http://msdn.microsoft.com/library/windows/desktop/dd318059.aspx">FindNLSStringEx</a>&nbsp;can only handle <strong>supported</strong> locales by NLS rules, not WinLangDB rules. This is no problem in Notepad which users the default user locale, but a big problem for anyone that tries to be more clever than that.</p>
<p>In a way, its surprising in s way that it wasn't found earlier. I guess there aren't too many things using the clever way -- we should maybe have more of them!</p>
<p>Obviously this is a small mis-step in the bold move forward to support things that we don't fully support, and we'll have to figure out what to do here.</p>
<p>In fact, people are looking at this right now. Since NLS supports all of the underlying characters in the default table, there are lots of possible solutions (note that if nothing were done then&nbsp;you couldn't even&nbsp;search for <strong>English</strong> text since an "invalid" locale name makes the NLS functions fail!).</p>
<p>I mean, since we&nbsp;lack the resources at this point to add a Xishuangbanna Dai locale. :-)</p>
<p>Of course this is much bigger than New Tai Lue -- the WinLangDB list supports such a huge subset of valid ISO-639-3 codes that doing nothing would hurt even more than just this one case!</p>
<p>But truthfully I'm not worried here -- 15+ steps forward and one step back in the pre-release has plenty of time to be changed to 16+ steps forward in the actual release.</p>
<p><em>Alternately, if they don't fix it then it will make a great KB article, maybe.</em> :-)</p>
<p>And either way, I'm&nbsp;proud to be a part of those step in our <strong>evolving Story of Locale Support</strong>....</p>
<hr/><p><strong>Simon Buchan</strong> on 24 Jan 2012 2:30 PM:</p><div style="margin-left: 1em"><p>WinLangDB only has hits for the &quot;IS THIS SCARY DLL BAD? No.&quot; sites, this post, and a scraped copy of this post. But by the way you talk about it, I&#39;m guessing it&#39;s sitting beside or on-top of NLS? (at least in terms of layers, rather than directly depending) - otherwise NLS could pull the data from it right?</p>
<p>Also, Chrome, even on dev channel, still fails to (even partially, like GDI) render your fancier characters, which sucks. I wonder if it&#39;s because they are astral? Or it just needs explicit font fallback rules?</p>
</div>
<hr/><p><em>referenced by</em></p><div style="margin-left: 1em"><p>2012/10/26 <a href="http://archives.miloush.net/michkap/archive/2012/10/26/10362603.html">The evolving Story of Locale Support, part 28: We finally fixed that 'Install New Languages' thing!</a></p><p>2012/10/02 <a href="http://archives.miloush.net/michkap/archive/2012/10/02/10354988.html">The evolving Story of Locale Support, part 27: No, the T and the H aren't silent...</a></p><p>2012/08/20 <a href="http://archives.miloush.net/michkap/archive/2012/08/20/10341516.html">The evolving Story of Locale Support, part 26: Hey Windows 8, there's someone on the phone for you.</a></p><p>2012/07/11 <a href="http://archives.miloush.net/michkap/archive/2012/07/11/10327775.html">The evolving Story of Locale Support, part 25: Something old, something new, something repurposed, and something...</a></p><p>2012/06/07 <a href="http://archives.miloush.net/michkap/archive/2012/06/07/10316511.html">The evolving Story of Locale Support, part 24: I Adar you! Hell, I Double Adar you! (Windows 8 ed.)</a></p><p>2012/06/05 <a href="http://archives.miloush.net/michkap/archive/2012/06/05/10315033.html">The evolving Story of Locale Support, part 23: Tamazight? Outta sight!</a></p><p>2012/04/12 <a href="http://archives.miloush.net/michkap/archive/2012/04/12/10292952.html">The evolving Story of Locale Support, part 22: Digit Substitution 2.0</a></p><p>2012/03/08 <a href="http://archives.miloush.net/michkap/archive/2012/03/08/10278921.html">The evolving Story of Locale Support, part 21: The Windows 8 Hijripalooza extraordinaire!</a></p><p>2012/03/02 <a href="http://archives.miloush.net/michkap/archive/2012/03/02/10276258.html">The evolving Story of Locale Support, part 20: Yes, it's Bangla. Not Bengali!</a></p><p>2012/02/21 <a href="http://archives.miloush.net/michkap/archive/2012/02/21/10270502.html">The evolving Story of Locale Support, part 19: In honor of International Mother Language Day...</a></p><p>2012/02/15 <a href="http://archives.miloush.net/michkap/archive/2012/02/15/10268235.html">The evolving Story of Locale Support, part 18: Two scripts that share ten digits can be trouble</a></p><p>2012/02/02 <a href="http://archives.miloush.net/michkap/archive/2012/02/02/10263136.html">The evolving Story of Locale Support, part 17: Today I feel like translating you more than before</a></p></div><p><em>go to <a id="newer" href="http://archives.miloush.net/michkap/archive/2012/01/25/10260491.html" title="3 x 7 can be a lot more than 21,sometimes!">newer</a> or <a id="older" href="http://archives.miloush.net/michkap/archive/2012/01/23/10259523.html" title="You can do CESU-8 if you need to; we went in a slightly different direction....">older</a> post, or back to <a href="http://archives.miloush.net/michkap/archive/index.html">index</a> or <a href="http://archives.miloush.net/michkap/archive/index.html#2012-01">month</a> or <a href="http://archives.miloush.net/michkap/archive/index.html#2012-01-24">day</a></em></p></body>
<!-- Mirrored from archives.miloush.net/michkap/archive/2012/01/24/10259941.html by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 25 May 2017 00:42:34 GMT -->
</html>