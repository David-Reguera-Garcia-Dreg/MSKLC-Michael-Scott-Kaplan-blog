<html>
<!-- Mirrored from archives.miloush.net/michkap/archive/2006/09/10/748785.html by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 25 May 2017 00:42:39 GMT -->
<head><meta charset="utf-8" /><meta name="viewport" content="width=device-width" /><title>I want the lines to BREAK, dammit!</title></head><body>
<h1>I want the lines to BREAK, dammit!</h1>
<p><em>by Michael S. Kaplan, published on 2006/09/10 14:32 -04:00, original URI: http://blogs.msdn.com/b/michkap/archive/2006/09/10/748785.aspx</em></p>
<hr/> <!-- Archival Source: ProcessPostNew -->
<FONT face=Tahoma>
<P>Moz asks, in the Suggestion Box: </P>
<BLOCKQUOTE dir=ltr style="MARGIN-RIGHT: 0px">
<P><FONT size=2 fasce="Times New Roman">I'm wondering when (if?) MS programs like notepad will start supporting the UTF-16 line and paragraph terminators ($2028 and $2029). It's really annoying that I can't easily view files that include them, especially as those are the default for some other apps I use. The conversion to CRLF is a pain to do while debugging, and equally painful to shell to after running something. It makes people think *my* apps are broken.</FONT></P></BLOCKQUOTE>
<P>This is of course an extension to the issue I first discussed back in May of 2005 when I posted <STRONG><A href="http://archives.miloush.net/michkap/archive/2005/05/22/420890.html">When will this line end? And how?</A></STRONG>.</P>
<P>In that case I was talking about how:</P>
<UL>
<LI>Windows prefers&nbsp;CARRIAGE RETURN/LINE FEED&nbsp;(<A href="http://www.fileformat.info/info/unicode/char/000d">U+000d</A> <A href="http://www.fileformat.info/info/unicode/char/000a">U+000a</A>); 
<LI>UNIX prefers LINE FEED&nbsp; (<A href="http://www.fileformat.info/info/unicode/char/000a">U+000a</A>); 
<LI>Apple originally preferred CARRIAGE RETURN (<A href="http://www.fileformat.info/info/unicode/char/000d">U+000d</A>); 
<LI>Apple (whose OS is now UNIX-based) may now prefer LINE FEED&nbsp;(<A href="http://www.fileformat.info/info/unicode/char/000a">U+000a</A>).</LI></UL>
<P>Now if you add <A href="http://www.fileformat.info/info/unicode/char/2028">U+2028</A> (LINE SEPARATOR) and <A href="http://www.fileformat.info/info/unicode/char/2029">U+2029</A> (PARAGRAPH SEPARATOR) to the mix, the problem only gets harder, not easier. since Notepad does not do any of it.</P>
<P>Let us take a simple test string containing the following stream of characters:</P>
<P><A href="http://www.fileformat.info/info/unicode/char/0041">0041</A> <A href="http://www.fileformat.info/info/unicode/char/2028">2028</A> <A href="http://www.fileformat.info/info/unicode/char/0042">0042</A> <A href="http://www.fileformat.info/info/unicode/char/2029">2029</A> <A href="http://www.fileformat.info/info/unicode/char/0043">0043</A> <A href="http://www.fileformat.info/info/unicode/char/000d">000d</A> <A href="http://www.fileformat.info/info/unicode/char/0044">0044</A> <A href="http://www.fileformat.info/info/unicode/char/000a">000a</A> <A href="http://www.fileformat.info/info/unicode/char/0045">0045</A> <A href="http://www.fileformat.info/info/unicode/char/000d">000d</A> <A href="http://www.fileformat.info/info/unicode/char/000a">000a</A> <A href="http://www.fileformat.info/info/unicode/char/0046">0046</A></P>
<P>While it is true that Notepad won't do anything useful with anything but the last one, the truth is that both Wordpad and Word and Visual&nbsp;Studio&nbsp;(2003 and 2005)&nbsp;handle all of these different line breaks properly, even in the context of a plain text file.</P>
<P>So to the question of when MS programs will handle this myriad of ways to say NEW LINE PLEASE, the answer is about 4-7 years ago, depending on the program you are using. :-)</P>
<P>And as I said <A href="http://archives.miloush.net/michkap/archive/2005/05/22/420890.html"><STRONG>before</STRONG></A>, I fixed a bunch of this bug for the <STRONG>Access Text Import Wizard</STRONG>, though I did not pick up these two new characters. Maybe someone on the Access Development Team could extend my fix to handle additional linebreak characters? :-)</P>
<P>&nbsp;</P>
<P><EM><FONT color=#ff1493>This post braought to you by <A href="http://www.fileformat.info/info/unicode/char/2028">U+2028</A> and <A href="http://www.fileformat.info/info/unicode/char/2029">U+2029</A>, a.k.a. LINE SEPARATOR and PARAGRAPH SEPARATOR</FONT></EM></P></FONT>
<hr/><p><a id="748808" href="#748808">#</a> <strong>Aaron Ballman</strong> on 10 Sep 2006 3:17 PM:</p><div style="margin-left: 1em">I wouldn't go claiming Visual Studio &quot;handles&quot; things too loudly as the definition of handle can vary slightly. &nbsp;;-) &nbsp;One major annoyance that I run into a lot with VS 2005 is that my source code sometimes comes to me from VCS with Mac line endings (U+000a), and Visual Studio does not handle it terribly well. &nbsp;Sure, the file is displayed just fine. &nbsp;But try compiling any C++ code with Mac line endings. &nbsp;The compiler helpfully tells you that you have Mac line endings and it can only grok Windows and Unix line endings and will you please convert the file. &nbsp;If the compiler already has the logic to handle CRLF or just CR... how hard is it to make it handle just LF?</div>
<p><a id="748816" href="#748816">#</a> <strong>Michael S. Kaplan</strong> on 10 Sep 2006 3:46 PM:</p><div style="margin-left: 1em">Heh heh heh... fair enough, Aaron. Though I was limiting myself to the display issue since that is all I tested. :-) <BR><BR>Given how much work it is to verify compiler features and changes and fixes, I would never presume that such a change would be easy....</div>
<p><a id="748822" href="#748822">#</a> <strong>pdw</strong> on 10 Sep 2006 3:54 PM:</p><div style="margin-left: 1em">You're confused here: Unix uses LF line endings, Macs (used to?) use CR line endings.</div>
<p><a id="748878" href="#748878">#</a> <strong>Michael S. Kaplan</strong> on 10 Sep 2006 4:55 PM:</p><div style="margin-left: 1em">Hey pdw, <br><br>You're right. What the hell kind of weird coneceptual dyslexia causes THAT kind of mistake? :-) <br><br>In any case, corrected now. Thanks....</div>
<p><a id="749721" href="#749721">#</a> <strong>Aaron Ballman</strong> on 11 Sep 2006 1:39 PM:</p><div style="margin-left: 1em">I thought those constants looked strange to me. &nbsp;Heh. &nbsp;<br><br>And regardless of the difficultly level of the fix, one would think that just plain sensibility would say &quot;hmm... perhaps this should work.&quot; &nbsp;There's nothing more frustrating than the computer telling you &quot;Hi! &nbsp;I noticed that you're doing this. &nbsp;You could please do that instead? &nbsp;I'd rather not do it for you...&quot; &nbsp;For instance, if the compiler can't grok the Mac line ending, then warn me of the issue, save out a version of the file to temp with Windows line endings and compile using that. &nbsp;This way I can at least get work done.<br><br>Alas, I suspect I'm preaching to the choir though. &nbsp;;-)</div>
<p><a id="791149" href="#791149">#</a> <strong>elpepe</strong> on 4 Oct 2006 2:06 PM:</p><div style="margin-left: 1em">Hi, I am dealing with something like this ..., I use Visual C++ 2005 Express Edition for writing a text (ASCII) file. I put a "\n" to the end of each string I consider a line. Notepad does not recognize them and shows me a strange character. EditPlus (for example) does recognize them and interpret them as "new line" characters. What I'm doing wrong?. I want Notepad shows them as "new line" characters also...<br/>Regards,</div>
<p><a id="791229" href="#791229">#</a> <strong>Michael S. Kaplan</strong> on 4 Oct 2006 2:56 PM:</p><div style="margin-left: 1em"><P>Notepad won't do it, sorry.<BR><BR>WordPad will, as will Word. And IE.....</P></div>
<hr/><p><em>go to <a id="newer" href="http://archives.miloush.net/michkap/archive/2006/09/10/748848.html" title="Me? I always make sure I rinse it off....">newer</a> or <a id="older" href="http://archives.miloush.net/michkap/archive/2006/09/10/748775.html" title="Sometimes you *want* to interfere with the keyboard&#39;s state buffer">older</a> post, or back to <a href="http://archives.miloush.net/michkap/archive/index.html">index</a> or <a href="http://archives.miloush.net/michkap/archive/index.html#2006-09">month</a> or <a href="http://archives.miloush.net/michkap/archive/index.html#2006-09-10">day</a></em></p></body>
<!-- Mirrored from archives.miloush.net/michkap/archive/2006/09/10/748785.html by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 25 May 2017 00:42:39 GMT -->
</html>