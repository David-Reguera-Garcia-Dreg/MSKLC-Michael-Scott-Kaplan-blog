<html>
<!-- Mirrored from archives.miloush.net/michkap/archive/2006/12/07/1232220.html by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 25 May 2017 00:42:39 GMT -->
<head><meta charset="utf-8" /><meta name="viewport" content="width=device-width" /><title>SQL and the CLR: Part 1 (the things we can make work well)</title></head><body>
<h1>SQL and the CLR: Part 1 (the things we can make work well)</h1>
<p><em>by Michael S. Kaplan, published on 2006/12/07 07:53 -05:00, original URI: http://blogs.msdn.com/b/michkap/archive/2006/12/07/1232220.aspx</em></p>
<hr/> <!-- Archival Source: ProcessPostNew -->
<P>At the beginning of the week I posted <STRONG><A class="" href="http://archives.miloush.net/michkap/archive/2006/12/04/1203795.html" mce_href="http://archives.miloush.net/michkap/archive/2006/12/04/1203795.html">Part 0</A></STRONG> of this series, so I figured I should start the series at some point. :-)</P>
<P>The first and most obvious thing to avoid is any of the SQL Server 2005 *_BIN2 collations. These "new in SQL Server 2005" collations that <STRONG><A class="" href="http://archives.miloush.net/michkap/archive/2005/01/23/358946.html" mce_href="http://archives.miloush.net/michkap/archive/2005/01/23/358946.html">I have mentioned previously</A></STRONG> have really only one benefit -- if one is interfacing their database application with some other (non-SQLS) database that stores its data as UTF-32 or UTF-8 and you want their binary collation's and ours to match. Which is clearly not the case here.</P>
<P>When interfacing with NTFS or really anything else on Windows, the *_BIN2 collations just lead to a slight performance hit and a difference in behavior.</P>
<P>Okay, so we know that the *_BIN collations are a better choice than *_BIN2. What else do we know?</P>
<P>Well, we know that Unicode columns are needed, since that is what the file system supports. And as a corollary, we know that SQL compatibility collations (which <STRONG><A class="" href="http://archives.miloush.net/michkap/archive/2006/10/29/897317.html" mce_href="http://archives.miloush.net/michkap/archive/2006/10/29/897317.html">suck</A></STRONG> <STRONG><A class="" href="http://archives.miloush.net/michkap/archive/2005/11/08/490305.html" mce_href="http://archives.miloush.net/michkap/archive/2005/11/08/490305.html">in</A></STRONG> <STRONG><A class="" href="http://archives.miloush.net/michkap/archive/2006/06/06/618798.html" mce_href="http://archives.miloush.net/michkap/archive/2006/06/06/618798.html">general</A></STRONG>), suck in particular in this case as they take us even further from where we'd like to be....</P>
<P>Now if you use Unicode columns then (as I pointed out <STRONG><A class="" href="http://archives.miloush.net/michkap/archive/2005/01/23/358946.html" mce_href="http://archives.miloush.net/michkap/archive/2005/01/23/358946.html">here</A></STRONG>), all of the *_BIN collations are identical, so you can pick whichever one you want.</P>
<P>Above all, do not be tempted to go astray from the *_BIN path due to the temptation of the various *_CI collations. As I have <STRONG><A class="" href="http://archives.miloush.net/michkap/archive/2006/01/11/511557.html" mce_href="http://archives.miloush.net/michkap/archive/2006/01/11/511557.html">said</A></STRONG> <STRONG><A class="" href="http://archives.miloush.net/michkap/archive/2006/08/08/692390.html" mce_href="http://archives.miloush.net/michkap/archive/2006/08/08/692390.html">before</A></STRONG>, collation != case. Specifically here, the file system' notion of "convert to uppercase and binary compare" has nothing to do with SQL Server's notion of "ignore all case differences". I almost wish they called it something different, to tell you the truth.</P>
<P>At this point, we are as close as the default available collation choices can get us. And we actually are fairly close at this point.</P>
<P>I'll start getting negative about all this in the next post in the series.:-)</P>
<P mce_keep="true">&nbsp;</P>
<P><FONT color=#ff00ff><EM>This post brought to you by</EM>&nbsp;<FONT size=5>áƒ‘</FONT> </FONT><EM><FONT color=#ff00ff>(</FONT><A class="" href="http://www.fileformat.info/info/unicode/char/10d1" mce_href="http://www.fileformat.info/info/unicode/char/10d1">U+10d1</A><FONT color=#ff00ff>, a.k.a. GEORGIAN LETTER BAN)</FONT></EM></P>
<hr/><div style="margin-left: 1em"><em>no comments</em></div><hr/><p><em>go to <a id="newer" href="http://archives.miloush.net/michkap/archive/2006/12/07/1232365.html" title="Zipping up Unicode file PATHs">newer</a> or <a id="older" href="http://archives.miloush.net/michkap/archive/2006/12/06/1224514.html" title="Hurry up and make it slower, already!">older</a> post, or back to <a href="http://archives.miloush.net/michkap/archive/index.html">index</a> or <a href="http://archives.miloush.net/michkap/archive/index.html#2006-12">month</a> or <a href="http://archives.miloush.net/michkap/archive/index.html#2006-12-07">day</a></em></p></body>
<!-- Mirrored from archives.miloush.net/michkap/archive/2006/12/07/1232220.html by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 25 May 2017 00:42:39 GMT -->
</html>