<html>
<!-- Mirrored from archives.miloush.net/michkap/archive/2006/12/06/1221890.html by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 25 May 2017 00:42:39 GMT -->
<head><meta charset="utf-8" /><meta name="viewport" content="width=device-width" /><title>What's wrong with what FxCop does for globalization, Part 0.5 (a segue)</title></head><body>
<h1>What's wrong with what FxCop does for globalization, Part 0.5 (a segue)</h1>
<p><em>by Michael S. Kaplan, published on 2006/12/06 04:26 -05:00, original URI: http://blogs.msdn.com/b/michkap/archive/2006/12/06/1221890.aspx</em></p>
<hr/> <!-- Archival Source: ProcessPostNew -->
<P>I thought I'd talk about the FxCop issue from a slightly different standpoint, and discuss something that has nothing to do with FxCop to give an example of my concerns....&nbsp;</P>
<P>If you look at <A class="" href="http://msdn2.microsoft.com/en-us/library/ms994325.aspx" mce_href="http://msdn2.microsoft.com/en-us/library/ms994325.aspx">Writing Culture-Safe Managed Code</A> (a .NET Framework Deployment white paper), you'll see a good and typical picture of how a technically savvy person might approach supporting international code without really trying to delve too deep into it (for an example of what I mean, see the section entitled <STRONG>Other Countries</STRONG>&nbsp; where a quick enumeration of cultures to "worry" about is given!).</P>
<P><EM>Incidentally you can be amused if you look at the section ironically entitled <STRONG>Incorrect Code Example</STRONG> you will see one of the earlier beliefs -- that CurrentCulture was evil for string comparisons but InvariantCulture was a good idea, something that this blog has gone to some trouble to debunk since that time.... :-)</EM></P>
<P><IMG src="http://trigeminal.fmsinc.com/images/culturesafe1.png"></P>
<P>Anyway, if you&nbsp;scroll down a bit, you will see a conversation about the Turkish I (a popular devil when one is trying to talk about culture-safe coding practices!). But the text, which names the Unicode code points for the dotless lowercase and dotted uppercase I (<A class="" href="http://www.fileformat.info/info/unicode/char/0130" mce_href="http://www.fileformat.info/info/unicode/char/0130">U+0130</A> and <A class="" href="http://www.fileformat.info/info/unicode/char/0131" mce_href="http://www.fileformat.info/info/unicode/char/0131">U+0131</A>), actually (presumably unintentionally) shows the capital and small Y with acute (<A class="" href="http://www.fileformat.info/info/unicode/char/00dd" mce_href="http://www.fileformat.info/info/unicode/char/00dd">U+00dd</A> and <A class="" href="http://www.fileformat.info/info/unicode/char/00fd" mce_href="http://www.fileformat.info/info/unicode/char/00fd">U+00fd</A>):</P>
<P><IMG src="http://trigeminal.fmsinc.com/images/culturesafe2.png"></P>
<P>What's up with that?</P>
<P>Well, if you look at the definitions for <A class="" href="http://www.microsoft.com/globaldev/reference/sbcs/1252.mspx" mce_href="http://www.microsoft.com/globaldev/reference/sbcs/1252.mspx">Windows code page 1252</A> and <A class="" href="http://www.microsoft.com/globaldev/reference/sbcs/1254.mspx" mce_href="http://www.microsoft.com/globaldev/reference/sbcs/1254.mspx">Windows code page 1254</A>, you'll see part of the problem -- where 1254 defines the Turkic I additions, 1252 defines the Y with acute.</P>
<P>Of course that only tells part of the story. The page itself is encoded as UTF-8, so trying to change to either of these other two encodings will mess up the page:</P>
<P><IMG src="http://trigeminal.fmsinc.com/images/culturesafe3.png"></P>
<P><IMG src="http://trigeminal.fmsinc.com/images/culturesafe4.png">&nbsp;</P>
<P>So what is going on here?</P>
<P>The most likely problem is that some tool or application that produced the document did not save it as Unicode but instead as the Turkish code page, and then later some other tool, in converting it to Unicode simply assumed it was cp 1252. The text is therefore corrupted at this point, with no clean way to fix it.</P>
<P>The paper itself reminds me somewhat of that <A href="http://msdn2.microsoft.com/en-us/library/xk2wykcz.aspx"><FONT face=Tahoma>.NET Framework Developer's Guide: Custom Case Mappings and Sorting Rules</FONT></A>&nbsp;topic I have discussed <A class="" href="http://archives.miloush.net/michkap/archive/2006/05/26/607881.html" mce_href="http://archives.miloush.net/michkap/archive/2006/05/26/607881.html"><STRONG>previously</STRONG></A>, in that neither one of them helps with <STRONG>international awareness</STRONG>; they are both written mostly from the standpoint of <STRONG>international mitigation</STRONG>, of how to protect your app from the world.</P>
<P>In my opinion, this is unfortunately the biggest problem in what FxCop does, the problem underlying the issues I was talking about in <STRONG><A class="" href="http://archives.miloush.net/michkap/archive/2006/12/05/1210407.html" mce_href="http://archives.miloush.net/michkap/archive/2006/12/05/1210407.html">What's wrong with what FxCop does for globalization, Part 0</A></STRONG>. The final result that people seem to most often work toward after reading these pages or running this tool is to "culture proof" their code much more than any kind of attempt to properly support other cultures or enable an application to do so.</P>
<P>I am not going to blame FxCop here, as I think it is really the many surrounding documents and topics that are kind of directing the effort. As I was kind of giving some examples of here....</P>
<P>For the next post of the series, I'll start moving into my suggested solutions. :-)</P>
<P mce_keep="true">&nbsp;</P>
<P><FONT color=#ff00ff><EM>This post brought to you by</EM>&nbsp;<FONT size=6>à·ž</FONT> </FONT><EM><FONT color=#ff00ff>(</FONT><A class="" href="http://www.fileformat.info/info/unicode/char/0dde" mce_href="http://www.fileformat.info/info/unicode/char/0dde">U+0DDE</A><FONT color=#ff00ff>, a.k.a. SINHALA VOWEL SIGN KOMBUVA HAA GAYANUKITTA)</FONT></EM></P>
<hr/><p><a id="1223505" href="#1223505">#</a> <strong>dls</strong> on 6 Dec 2006 9:50 AM:</p><div style="margin-left: 1em"><p>I just went back and caught Part 0 as well, and even though there might be better paths to knowledge, I wanted to ask if you'd consider a post covering resources for basic development practices for internationalization in .NET. Some of the tools are laid out well in the MSDN, but basic things seem difficult to find--how to successfully organize resource DLLs in moderate-sized projects, installation best practices. (Ignore the rest, it's frustration-prompted) Any practices that can make it easier to &quot;go back and internationalize later&quot; would have huge value since this usually seems to turn into the worst kind of whitebox modification.</p></div>
<p><a id="1231920" href="#1231920">#</a> <strong>Aldo.NET</strong> on 7 Dec 2006 6:34 AM:</p><div style="margin-left: 1em"><p>On dls' comment about &quot;internationalize later&quot; I would recommend at least some caution - sometimes it's easily doable but sometimes it requires to redesign the architecture of (if you are lucky) part of the application and that's awfully painful.</p>
<p>As a reply to Part 0 was suggesting - FxCop is &quot;just&quot; a tool and the good thing about it is that it highlights potential issues. Developers still need to judge case by case if each occurrence is a real issue or not, beased on the context. </p>
<p>If you had an example of an FxCop rule that would be accurate 100% of the times, you would probably have discovered a bug in the classes/methods to which the rule applies.</p>
<p>Just my 2 eurocents</p></div>
<hr/><p><em>referenced by</em></p><div style="margin-left: 1em"><p>2007/10/01 <a href="http://archives.miloush.net/michkap/archive/2007/10/01/5218976.html">What's wrong with what FxCop does for globalization, Part 1</a></p></div><p><em>go to <a id="newer" href="http://archives.miloush.net/michkap/archive/2006/12/06/1224514.html" title="Hurry up and make it slower, already!">newer</a> or <a id="older" href="http://archives.miloush.net/michkap/archive/2006/12/05/1212917.html" title="Validation of Unicode text is growing up">older</a> post, or back to <a href="http://archives.miloush.net/michkap/archive/index.html">index</a> or <a href="http://archives.miloush.net/michkap/archive/index.html#2006-12">month</a> or <a href="http://archives.miloush.net/michkap/archive/index.html#2006-12-06">day</a></em></p></body>
<!-- Mirrored from archives.miloush.net/michkap/archive/2006/12/06/1221890.html by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 25 May 2017 00:42:39 GMT -->
</html>