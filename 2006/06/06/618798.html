<html>
<!-- Mirrored from archives.miloush.net/michkap/archive/2006/06/06/618798.html by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 25 May 2017 00:42:39 GMT -->
<head><meta charset="utf-8" /><meta name="viewport" content="width=device-width" /><title>Unicode and SQL Collations have nothing to do with each other</title></head><body>
<h1>Unicode and SQL Collations have nothing to do with each other</h1>
<p><em>by Michael S. Kaplan, published on 2006/06/06 03:01 -04:00, original URI: http://blogs.msdn.com/b/michkap/archive/2006/06/06/618798.aspx</em></p>
<hr/> <!-- Archival Source: ProcessPostNew -->
<P><FONT face=Tahoma>It was just a few days ago when I was channeling comedies of my youth in the post <A HREF="http://archives.miloush.net/michkap/archive/2006/06/02/615536.html"><STRONG>Je, for sure, from Sweden</STRONG></A>. And in that post, I responded to Alexey Sadomov's query about unusual behavior in the <STRONG>SQL_SwedishStd_Pref_CP1_CI_AS</STRONG> SQL Server compatibility collation where Unicode columns and non-Unicode columns returned different results, and I did have two theories about the behavior:</FONT></P>
<BLOCKQUOTE dir=ltr style="MARGIN-RIGHT: 0px">
<P><FONT face=Tahoma size=2>Uh oh, what happened? Why does sorting by the non-Unicode column break the Swedish/Finnish sort behavior for the SQL compatibility collation?</FONT></P>
<P><FONT face=Tahoma size=2>Or perhaps&nbsp;it never worked properly in prior versions and the bug is that the newer support of Unicode is where the incompatibility is coming from?</FONT></P>
<P><FONT face=Tahoma size=2>Between the two theories, the second seems a bit more likely to me....</FONT></P></BLOCKQUOTE>
<P><FONT face=Tahoma>Well, I suppose we could file this one under the heading of truth being stranger than my crackpot theories, because the answer is simple:</FONT></P>
<BLOCKQUOTE dir=ltr style="MARGIN-RIGHT: 0px">
<P><FONT face=Tahoma size=2>For Unicode, we always use NLS code, including SQL collations. So we do get inconsistent sorting results for varchar vs. nvarchar in SQL collations. That’s why we recommend users to use Windows collation for consistency. Though the performance difference prevents us from always recommending it.<BR><BR></FONT><FONT face=Tahoma size=2>The sort table was inherited long time ago from Sybase. I have no idea why particular characters are sorted in a particular way. (Read: nobody here knows)</FONT></P></BLOCKQUOTE>
<P><FONT face=Tahoma>If nothing else, I now have a good question to ask Ken Whistler of Sybase about. :-)</FONT></P>
<P><FONT face=Tahoma>In the end, it is simple -- if you are storing your data as Unicode, then there really is no good reason to be using one of these old collations. Not even for reasons of&nbsp; compatibility since the sort will not be compatible with the old sort anyway.</FONT></P>
<P><FONT face=Tahoma>So take those <A HREF="http://archives.miloush.net/michkap/archive/2005/11/08/490305.html"><STRONG>way too retro SQL compatibility collations</STRONG></A> and dump 'em, today. They really are losing any semblance of useful purpose....</FONT></P>
<P><FONT face=Tahoma></FONT>&nbsp;</P>
<P><FONT face=Tahoma color=#ff1493><EM>This post brought to you by</EM> <STRONG><FONT size=6>ಌ</FONT></STRONG> (<A href="http://www.fileformat.info/info/unicode/char/0c8c">U+0c8c</A>, a.k.a. KANNADA LETTER VOCALIC L)</FONT></P>
<hr/><div style="margin-left: 1em"><em>no comments</em></div><hr/><p><em>referenced by</em></p><div style="margin-left: 1em"><p>2009/02/18 <a href="http://archives.miloush.net/michkap/archive/2009/02/18/9430335.html">In search of the Swedish Tipping Point....</a></p><p>2008/11/11 <a href="http://archives.miloush.net/michkap/archive/2008/11/11/9056745.html">Trying to ignore the small stuff is harder, if you're Arabic</a></p><p>2008/05/23 <a href="http://archives.miloush.net/michkap/archive/2008/05/23/8536649.html">SQL vs. Windows collations: the tricycle versus the Porsche</a></p><p>2007/10/25 <a href="http://archives.miloush.net/michkap/archive/2007/10/25/5686727.html">Not all in sync quite yet (aka SQL and the CLR and Windows and .NET)</a></p><p>2007/10/10 <a href="http://archives.miloush.net/michkap/archive/2007/10/10/5391882.html">Collations (SQL Compat. vs. Windows) -- not so subtle in the difference department</a></p><p>2006/12/07 <a href="http://archives.miloush.net/michkap/archive/2006/12/07/1232220.html">SQL and the CLR: Part 1 (the things we can make work well)</a></p><p>2006/10/29 <a href="http://archives.miloush.net/michkap/archive/2006/10/29/897317.html">SQL Server: compatibility collations vs. Window collations</a></p><p>2006/06/07 <a href="http://archives.miloush.net/michkap/archive/2006/06/07/620277.html">Performance issues with language specific sorts?</a></p></div><p><em>go to <a id="newer" href="http://archives.miloush.net/michkap/archive/2006/06/07/620277.html" title="Performance issues with language specific sorts?">newer</a> or <a id="older" href="http://archives.miloush.net/michkap/archive/2006/06/06/618628.html" title="Is this the Über-font post? No, but it is the teaser for it!">older</a> post, or back to <a href="http://archives.miloush.net/michkap/archive/index.html">index</a> or <a href="http://archives.miloush.net/michkap/archive/index.html#2006-06">month</a> or <a href="http://archives.miloush.net/michkap/archive/index.html#2006-06-06">day</a></em></p></body>
<!-- Mirrored from archives.miloush.net/michkap/archive/2006/06/06/618798.html by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 25 May 2017 00:42:39 GMT -->
</html>