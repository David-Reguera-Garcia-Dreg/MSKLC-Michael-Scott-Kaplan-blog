<html>
<!-- Mirrored from archives.miloush.net/michkap/archive/2006/06/18/636180.html by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 25 May 2017 00:42:39 GMT -->
<head><meta charset="utf-8" /><meta name="viewport" content="width=device-width" /><title>The Phantom of the Digits</title></head><body>
<h1>The Phantom of the Digits</h1>
<p><em>by Michael S. Kaplan, published on 2006/06/18 14:25 -04:00, original URI: http://blogs.msdn.com/b/michkap/archive/2006/06/18/636180.aspx</em></p>
<hr/> <!-- Archival Source: ProcessPostNew -->
<FONT face=Tahoma>
<P><FONT face=Tahoma>If you are a regular reader of this blog you probably know about how I can't seem <STRONG><A href="http://archives.miloush.net/michkap/archive/2006/02/22/536877.html">to</A></STRONG> <A href="http://archives.miloush.net/michkap/archive/2006/01/18/514171.html"><STRONG>stop</STRONG></A> <STRONG><A href="http://archives.miloush.net/michkap/archive/2005/07/09/437071.html">bringing</A></STRONG> <STRONG><A href="http://archives.miloush.net/michkap/archive/2005/09/09/462920.html">up</A></STRONG> <STRONG><A href="http://archives.miloush.net/michkap/archive/2004/12/01/272864.html">digit</A></STRONG> <A href="http://archives.miloush.net/michkap/archive/2005/04/24/411329.html"><STRONG>substitution</STRONG></A>.</FONT></P>
<P>There is, however, something I forgot to mention about it. So I will take advantage of the dynamic nature of blogs and bring it up now. :-)</P>
<P>I'll start with the setting itself....</P>
<P><IMG src="http://trigeminal.fmsinc.com/images/DigitSubstitution.jpg"></P>
<P>Although I have described the setting and its issues/limitations/implementation flaws at length, I never clearly explained the most important part about it.</P>
<P><FONT size=5>It is all an illusion.</FONT></P>
<P>That is right, this fancy setting is not changing the underlying storage from good old</P>
<BLOCKQUOTE dir=ltr style="MARGIN-RIGHT: 0px">
<P><STRONG>0 1 2 3 4 5 6 7 8 9</STRONG></P></BLOCKQUOTE>
<P>no matter what it looks like on the screen. So if you deal with contents of controls through Win32 APIa/messages or through accessibility hooks, you will not see the Hindi, Thai, Devanagari, or other digits in the program.</P>
<P>Usually the text is being placed somewhere else in the UI which is also affected by the same digit substitution setting, so you may not notice. :-)</P>
<P>Now if you think about all this, it makes sense. As a feature digit substitution is not trying to make every single digit&nbsp;an equivalent, so if you were to literally use the Hindi digits then no setting in Regional and Language Options will alter them. It has the simple job of making the plain old ASCII digits look like one of the other subranges.</P>
<P>In its own way, this is the opposite of what <A href="http://msdn.microsoft.com/library/en-us/winui/winui/windowsuserinterface/resources/strings/stringreference/stringfunctions/foldstring.asp">FoldString</A> with the MAP_FOLDDIGITS flag does -- takes all of those other digits and maps them back to the ASCII ones!</P>
<P>(<EM>Of course when I talk about ASCII digits here I am still assuming Unicode, I am just talking about the ones down in that <A href="http://www.fileformat.info/info/unicode/char/0030">U+0030</A> to <A href="http://www.fileformat.info/info/unicode/char/0039">U+0039</A> range!</EM>)</P>
<P>So, the next time you are looking at some post of mine (or somebody else's) about digit substitution, be sure to remember that it is all just for show.</P>
<P>And beware the phantom of digit substitution!</P></FONT>
<P><FONT face=Tahoma></FONT>&nbsp;</P>
<P><FONT face=Tahoma color=#ff1493><EM>This post brought to you by</EM> <STRONG><FONT size=6>5</FONT></STRONG> <EM>(<A href="http://www.fileformat.info/info/unicode/char/0035">U+0035</A>, a.k.a. DIGIT FIVE)</EM></FONT></P>
<hr/><p><a id="637397" href="#637397">#</a> <strong>Ben Cooke</strong> on 19 Jun 2006 4:24 PM:</p><div style="margin-left: 1em">I do enjoy finding out what all of those spaces all over the Regional and Language Options dialog are for (though once I noticed what was going on, I did cheat and just poke around in the dialog resource to see what I was missing :) ) but each time I wonder if there's some way that my English copy of Windows can get at those options.<br><br>I don't really need digit substitution or whatnot in everyday use, but it would certainly be nice to be able to test my apps with these settings to make sure they properly respect them. Is it possible?<br></div>
<p><a id="637399" href="#637399">#</a> <strong>Michael S. Kaplan</strong> on 19 Jun 2006 4:27 PM:</p><div style="margin-left: 1em">Hi Ben,<br><br>The easiest way is changing your user locale to Arabic and then looking at any formatted numbers you have -- if the digit substitution is set by you are seeing our (Arabic-Indic) digits rather than the Arabic (Hindi) digits, then you have a bug....</div>
<hr/><p><em>referenced by</em></p><div style="margin-left: 1em"><p>2010/11/12 <a href="http://archives.miloush.net/michkap/archive/2010/11/12/10088056.html">Suddenly, in a bit more time than a blink of an eye, "standards support" becomes "less i18n support"</a></p><p>2008/10/02 <a href="http://archives.miloush.net/michkap/archive/2008/10/02/8971896.html">When swimming in a sea of CONTEXT, applications can drown (and there is no lifeguard)</a></p><p>2007/02/14 <a href="http://archives.miloush.net/michkap/archive/2007/02/14/1675303.html">Nothing seems to be parsing the crap out of *this* number</a></p><p>2006/06/19 <a href="http://archives.miloush.net/michkap/archive/2006/06/19/636785.html">Correct? Intuitive? Both? Neither?</a></p></div><p><em>go to <a id="newer" href="http://archives.miloush.net/michkap/archive/2006/06/19/636785.html" title="Correct? Intuitive? Both? Neither?">newer</a> or <a id="older" href="http://archives.miloush.net/michkap/archive/2006/06/18/635831.html" title="Feature ideas don&#39;t always turn out to be good ones">older</a> post, or back to <a href="http://archives.miloush.net/michkap/archive/index.html">index</a> or <a href="http://archives.miloush.net/michkap/archive/index.html#2006-06">month</a> or <a href="http://archives.miloush.net/michkap/archive/index.html#2006-06-18">day</a></em></p></body>
<!-- Mirrored from archives.miloush.net/michkap/archive/2006/06/18/636180.html by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 25 May 2017 00:42:39 GMT -->
</html>