<html>
<!-- Mirrored from archives.miloush.net/michkap/archive/2006/06/13/629804.html by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 25 May 2017 00:42:39 GMT -->
<head><meta charset="utf-8" /><meta name="viewport" content="width=device-width" /><title>Size matters (when it comes to day names, at least)</title></head><body>
<h1>Size matters (when it comes to day names, at least)</h1>
<p><em>by Michael S. Kaplan, published on 2006/06/13 14:01 -04:00, original URI: http://blogs.msdn.com/b/michkap/archive/2006/06/13/629804.aspx</em></p>
<hr/> <!-- Archival Source: ProcessPostNew -->
<P><FONT face=Tahoma>It was many months ago that I asked <STRONG><A href="http://archives.miloush.net/michkap/archive/2005/09/10/463371.html">Does size matter? And if so, how do you measure it? </A></STRONG></FONT></P>
<P><FONT face=Tahoma>Funny how preoccupied everyone seems to be with size, all around the world.</FONT></P>
<P><FONT face=Tahoma>Anyway, in the NLS API, the <A href="http://msdn.microsoft.com/library/en-us/intl/nls_34rz.asp">GetLocaleInfo</A> function's <A href="http://msdn.microsoft.com/library/en-us/intl/nls_8rse.asp">LCTYPEs</A> include:</FONT></P>
<DL>
<DL>
<DT><FONT face="Consolas,Courier New" size=2><STRONG>LOCALE_SDAYNAME1</STRONG> </FONT>
<DD><FONT face="Consolas,Courier New" size=2>Native long name for Monday. The maximum number of characters allowed for this string is 80, including a terminating null character. </FONT><A name=LOCALE_SDAYNAME2>
<DT><FONT face="Consolas,Courier New" size=2><STRONG>LOCALE_SDAYNAME2 </STRONG></FONT>
<DD><FONT face="Consolas,Courier New" size=2>Native long name for Tuesday. The maximum number of characters allowed for this string is 80, including a terminating null character. </FONT><A name=LOCALE_SDAYNAME3>
<DT><FONT face="Consolas,Courier New" size=2><STRONG>LOCALE_SDAYNAME3 </STRONG></FONT>
<DD><FONT face="Consolas,Courier New" size=2>Native long name for Wednesday. The maximum number of characters allowed for this string is 80, including a terminating null character. </FONT><A name=LOCALE_SDAYNAME4>
<DT><FONT face="Consolas,Courier New" size=2><STRONG>LOCALE_SDAYNAME4 </STRONG></FONT>
<DD><FONT face="Consolas,Courier New" size=2>Native long name for Thursday. The maximum number of characters allowed for this string is 80, including a terminating null character. </FONT><A name=LOCALE_SDAYNAME5>
<DT><FONT face="Consolas,Courier New" size=2><STRONG>LOCALE_SDAYNAME5 </STRONG></FONT>
<DD><FONT face="Consolas,Courier New" size=2>Native long name for Friday. The maximum number of characters allowed for this string is 80, including a terminating null character. </FONT><A name=LOCALE_SDAYNAME6>
<DT><FONT face="Consolas,Courier New" size=2><STRONG>LOCALE_SDAYNAME6 </STRONG></FONT>
<DD><FONT face="Consolas,Courier New" size=2>Native long name for Saturday. The maximum number of characters allowed for this string is 80, including a terminating null character. </FONT><A name=LOCALE_SDAYNAME7>
<DT><FONT face="Consolas,Courier New" size=2><STRONG>LOCALE_SDAYNAME7 </STRONG></FONT>
<DD><FONT face="Consolas,Courier New" size=2>Native long name for Sunday. The maximum number of characters allowed for this string is 80, including a terminating null character. </FONT></A></DD></DL></DL>
<P><FONT face=Tahoma>but in many situations such as less formal date format strings or calendars, an abbreviated name is needed, so we provide that as well:</FONT></P><FONT face=Tahoma>
<DL>
<DL>
<DT><FONT face="Consolas,Courier New" size=2><STRONG>LOCALE_SABBREVDAYNAME1 </STRONG></FONT>
<DD><FONT face="Consolas,Courier New" size=2>Native abbreviated name for Monday. The maximum number of characters allowed for this string is 80, including a terminating null character. </FONT><A name=LOCALE_SABBREVDAYNAME2>
<DT><FONT face="Consolas,Courier New" size=2><STRONG>LOCALE_SABBREVDAYNAME2 </STRONG></FONT>
<DD><FONT face="Consolas,Courier New" size=2>Native abbreviated name for Tuesday. The maximum number of characters allowed for this string is 80, including a terminating null character. </FONT><A name=LOCALE_SABBREVDAYNAME3>
<DT><FONT face="Consolas,Courier New" size=2><STRONG>LOCALE_SABBREVDAYNAME3 </STRONG></FONT>
<DD><FONT face="Consolas,Courier New" size=2>Native abbreviated name for Wednesday. The maximum number of characters allowed for this string is 80, including a terminating null character. </FONT><A name=LOCALE_SABBREVDAYNAME4>
<DT><FONT face="Consolas,Courier New" size=2><STRONG>LOCALE_SABBREVDAYNAME4 </STRONG></FONT>
<DD><FONT face="Consolas,Courier New" size=2>Native abbreviated name for Thursday. The maximum number of characters allowed for this string is 80, including a terminating null character. </FONT><A name=LOCALE_SABBREVDAYNAME5>
<DT><FONT face="Consolas,Courier New" size=2><STRONG>LOCALE_SABBREVDAYNAME5 </STRONG></FONT>
<DD><FONT face="Consolas,Courier New" size=2>Native abbreviated name for Friday. The maximum number of characters allowed for this string is 80, including a terminating null character. </FONT><A name=LOCALE_SABBREVDAYNAME6>
<DT><FONT face="Consolas,Courier New" size=2><STRONG>LOCALE_SABBREVDAYNAME6 </STRONG></FONT>
<DD><FONT face="Consolas,Courier New" size=2>Native abbreviated name for Saturday. The maximum number of characters allowed for this string is 80, including a terminating null character. </FONT><A name=LOCALE_SABBREVDAYNAME7>
<DT><FONT face="Consolas,Courier New" size=2><STRONG>LOCALE_SABBREVDAYNAME7 </STRONG></FONT>
<DD><FONT face="Consolas,Courier New" size=2>Native abbreviated name for Sunday. The maximum number of characters allowed for this string is 80, including a terminating null character. </FONT></A></DD></DL></DL></FONT>
<P><FONT face=Tahoma>Unfortunately, many locales saw their representatives on the data side feeling that they never did abbreviate the day names, so rather than thinking about tiny UI like a calendar in Outlook that was going to squish their long names together, they made the abbreviated names identical to the full names.</FONT></P>
<P><FONT face=Tahoma>And from the standpoint of a language and how it is used in a locale -- how dates are formatted and so on, this may be okay. But in this case, we are not talking about date formats. We need something for calendars.</FONT></P>
<P><FONT face=Tahoma>So, to try to address that, and with the pressure of all of the <STRONG><A href="http://archives.miloush.net/michkap/archive/2005/12/21/506427.html">Vista updates to clock and calendar</A></STRONG>, seven new fields have been added</FONT><FONT face=Tahoma>:</FONT><FONT face=Tahoma><A name=CAL_SSHORTESTDAYNAME1>&nbsp;</P>
<DL>
<DL>
<DT><FONT face="Consolas,Courier New" size=2><STRONG>LOCALE_SSHORTESTDAYNAME1</STRONG> </FONT>
<DD><FONT face="Consolas,Courier New" size=2>Short native name of the first day of the week. This name is often shorter than LOCALE_SABBREVDAYNAME1, and it is useful for calendar titles. </FONT><A name=CAL_SSHORTESTDAYNAME2>
<DT><FONT face="Consolas,Courier New" size=2><STRONG>LOCALE_SSHORTESTDAYNAME2 </STRONG></FONT>
<DD><FONT face="Consolas,Courier New" size=2>Short native name of the second day of the week. This name is often shorter than LOCALE_SABBREVDAYNAME2, and it is useful for calendar titles. </FONT><A name=CAL_SSHORTESTDAYNAME3>
<DT><FONT face="Consolas,Courier New" size=2><STRONG>LOCALE_SSHORTESTDAYNAME3 </STRONG></FONT>
<DD><FONT face="Consolas,Courier New" size=2>Short native name of the third day of the week. This name is often shorter than LOCALE_SABBREVDAYNAME3, and it is useful for calendar titles. </FONT><A name=CAL_SSHORTESTDAYNAME4>
<DT><FONT face="Consolas,Courier New" size=2><STRONG>LOCALE_SSHORTESTDAYNAME4 </STRONG></FONT>
<DD><FONT face="Consolas,Courier New" size=2>Short native name of the fourth day of the week. This name is often shorter than LOCALE_SABBREVDAYNAME4, and it is useful for calendar titles. </FONT><A name=CAL_SSHORTESTDAYNAME5>
<DT><FONT face="Consolas,Courier New" size=2><STRONG>LOCALE_SSHORTESTDAYNAME5 </STRONG></FONT>
<DD><FONT face="Consolas,Courier New" size=2>Short native name of the fifth day of the week. This name is often shorter than LOCALE_SABBREVDAYNAME5, and it is useful for calendar titles. </FONT><A name=CAL_SSHORTESTDAYNAME6>
<DT><FONT face="Consolas,Courier New" size=2><STRONG>LOCALE_SSHORTESTDAYNAME6 </STRONG></FONT>
<DD><FONT face="Consolas,Courier New" size=2>Short native name of the sixth day of the week. This name is often shorter than LOCALE_SABBREVDAYNAME6, and it is useful for calendar titles. </FONT><A name=CAL_SSHORTESTDAYNAME7>
<DT><FONT face="Consolas,Courier New" size=2><STRONG>LOCALE_SSHORTESTDAYNAME7 </STRONG></FONT>
<DD><FONT face="Consolas,Courier New" size=2>Short native name of the seventh day of the week. This name is often shorter than LOCALE_SABBREVDAYNAME7, and it is useful for calendar titles. </FONT></A></DD></DL></DL></FONT>
<P><FONT face=Tahoma>In fact, <STRONG><A href="http://msdn.microsoft.com/library/en-us/intl/nls_5w6s.asp">GetDateFormat</A></STRONG> does not even have the notion of formatting with these shortest day names (which are at most two UTF-16 code points, because otherwise they may be truncated!).</FONT></P>
<P><FONT face=Tahoma>And the word has gone out that these names NEED to be short, for use in the calendar in Vista. And that any names that are not short at all will be shortened in order to fit into the user interface -- so it is obviously in everyone's best interests if they decide how they would like to shorten things.</FONT></P>
<P><FONT face=Tahoma>So once again we sees that size matters -- this time since some people are clearly making their names <STRONG>too big</STRONG>! :-)</FONT></P>
<P><FONT face=Tahoma></FONT>&nbsp;</P>
<P><FONT face=Tahoma color=#ff1493><EM>This post brought to you by</EM> <STRONG><FONT face="Mongolian Baiti" size=6>á  </FONT></STRONG> <EM>(<A href="http://www.fileformat.info/info/unicode/char/1820">U+1820</A>, a.k.a. MONGOLIAN LETTER A)</EM></FONT></P>
<hr/><p><a id="629817" href="#629817">#</a> <strong>Gabe</strong> on 13 Jun 2006 2:08 PM:</p><div style="margin-left: 1em">It seems pretty limiting to require no more than 2 UTF-16 codepoints. Since the restriction is for display rather than for storage, I would suggest limiting it to 2 graphemes instead.</div>
<p><a id="629821" href="#629821">#</a> <strong>Michael Dunn_</strong> on 13 Jun 2006 2:12 PM:</p><div style="margin-left: 1em">I can see this going the same way as MS Shell Dlg. In the next rev of Windows, you'll have LOCALE_SREALLYSHORTDAYNAME1, then LOCALE_STHISTIMEIMEANITSHORTDAYNAME1, and so on. ;)</div>
<p><a id="629839" href="#629839">#</a> <strong>Michael S. Kaplan</strong> on 13 Jun 2006 2:35 PM:</p><div style="margin-left: 1em">Hi Gabe -- Well, graphemes can be tougher to calculate for applications -- so in the Locale Builder the limit is going to be two UTF-16 code units (in the CaRIB there are no limits, so the misbehavers will have their day in the sun).</div>
<p><a id="629840" href="#629840">#</a> <strong>Michael S. Kaplan</strong> on 13 Jun 2006 2:35 PM:</p><div style="margin-left: 1em">Hi Mike -- Folks are towing a pretty hard line in our data to not let people break the rules. The original name was LOCALE_SONELETTERDAYNAME# and the internal name is still LOCALE_SSUPERSHORTDAYNAME#. :-)</div>
<p><a id="629947" href="#629947">#</a> <strong>Maurits</strong> on 13 Jun 2006 4:30 PM:</p><div style="margin-left: 1em">These fields were prompted by locales that didn't want to abbreviate, and took the 80-character limit at its word??<br><br>That's really funny :)<br><br>I can imagine a whole slew of related fields:<br><br>LOCALE_SDAYNAME1_FOR_TINY_SQUARISH_BITS_OF_SCREEN_SPACE<br>LOCALE_SDAYNAME1_FOR_TINY_RECTANGULAR_BITS_OF_SCREEN_SPACE<br>LOCALE_SDAYNAME1_FOR_MEDIUM_SIZED_RECTANGULAR_BITS_OF_SCREEN_SPACE<br>LOCALE_SDAYNAME1_FOR_CASUAL_USE<br>LOCALE_SDAYNAME1_WITH_MAXIMUM_VERBOSITY</div>
<p><a id="634228" href="#634228">#</a> <strong>josh</strong> on 16 Jun 2006 12:04 PM:</p><div style="margin-left: 1em">This documentation seems to imply that Monday is always the first day of the week... &nbsp;Different revisions of the docs?</div>
<p><a id="634301" href="#634301">#</a> <strong>Michael S. Kaplan</strong> on 16 Jun 2006 1:07 PM:</p><div style="margin-left: 1em">Hi Josh,<br><br>If only it were. This is an error in the latest docs, that has to be fixed. :-)</div>
<p><a id="637585" href="#637585">#</a> <strong>Jerry Pisk</strong> on 19 Jun 2006 6:50 PM:</p><div style="margin-left: 1em">Just curious - why weren't the offending locales fixed for Vista? Seems like a much better solution than adding a whole new set of names.</div>
<p><a id="637593" href="#637593">#</a> <strong>Michael S. Kaplan</strong> on 19 Jun 2006 6:54 PM:</p><div style="margin-left: 1em">Well, people had been using the "abbreviate if the locale does, otherwise don't" setting for years -- so its meaning could not be arbitrarily changed....</div>
<hr/><p><em>referenced by</em></p><div style="margin-left: 1em"><p>2011/01/27 <a href="http://archives.miloush.net/michkap/archive/2011/01/27/10120308.html">{recycled joke here} It could have been called LOCALE_SSINGLESERVINGDAYNAME*</a></p><p>2006/07/08 <a href="http://archives.miloush.net/michkap/archive/2006/07/08/659302.html">They could be a little shorter</a></p><p>2006/06/17 <a href="http://archives.miloush.net/michkap/archive/2006/06/17/635012.html">On the first day of Microsoft</a></p></div><p><em>go to <a id="newer" href="http://archives.miloush.net/michkap/archive/2006/06/14/631016.html" title="Behind &#39;How to break Windows Notepad&#39;">newer</a> or <a id="older" href="http://archives.miloush.net/michkap/archive/2006/06/13/629737.html" title="66 Percent">older</a> post, or back to <a href="http://archives.miloush.net/michkap/archive/index.html">index</a> or <a href="http://archives.miloush.net/michkap/archive/index.html#2006-06">month</a> or <a href="http://archives.miloush.net/michkap/archive/index.html#2006-06-13">day</a></em></p></body>
<!-- Mirrored from archives.miloush.net/michkap/archive/2006/06/13/629804.html by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 25 May 2017 00:42:39 GMT -->
</html>