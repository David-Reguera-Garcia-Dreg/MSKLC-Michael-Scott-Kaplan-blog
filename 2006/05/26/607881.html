<html>
<!-- Mirrored from archives.miloush.net/michkap/archive/2006/05/26/607881.html by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 25 May 2017 00:42:39 GMT -->
<head><meta charset="utf-8" /><meta name="viewport" content="width=device-width" /><title>Custom Case Mappings?</title></head><body>
<h1>Custom Case Mappings?</h1>
<p><em>by Michael S. Kaplan, published on 2006/05/26 05:15 -04:00, original URI: http://blogs.msdn.com/b/michkap/archive/2006/05/26/607881.aspx</em></p>
<hr/> <!-- Archival Source: ProcessPostNew -->
<P><FONT face=Tahoma>George asked me via the contact link: </FONT></P>
<BLOCKQUOTE dir=ltr style="MARGIN-RIGHT: 0px">
<P><FONT face="Times New Roman" size=2>I was reading on MSDN from a topic titled 'Custom Case Mappings and Sorting Rules', and I am still not sure I understand what a 'custom case mapping' is. Can you help explain this?</FONT></P></BLOCKQUOTE>
<P><FONT face=Tahoma>I think that the topic George was referring to is <A href="http://msdn2.microsoft.com/en-us/library/xk2wykcz.aspx"><STRONG>.NET Framework Developer's Guide</STRONG>: Custom Case Mappings and Sorting Rules</A>. </FONT><FONT face=Tahoma>After reading this topic, all I can say is that it is not surprising that he found it a bit confusing. :-)</FONT></P>
<P><FONT face=Tahoma>Clearly the intent is to try to show some of the ways that cultures customize behavior surrounding collation and casing. And the target audience seems to primarily be people who are native English-speaking folk who have not had previous exposure to the many behaviors that most other languages provide in one form or another.</FONT></P>
<P><FONT face=Tahoma>In this context, a <STRONG>custom case mapping</STRONG> is any mapping that is not the standard one -- which makeds it a very unfortunate one, since in the .NET Framework the word <STRONG>custom</STRONG> has an entirely different meaning, especially in the area of globalization where <STRONG>custom cultures</STRONG> have been provided.</FONT></P>
<P><FONT face=Tahoma>Over 2/3&nbsp;of the topic&nbsp;tries to explain Turkic casing (though it calls it Turkish casing and then mentions that it also applies to Azeri Latin rather than introducing the word 'Turkic' which I believe also applies to other languages not yet supported explicitly by locales on Windows).</FONT></P>
<P><FONT face=Tahoma>Of the remaining four paragraphs, two of them mention "<EM><FONT size=2>other custom case mappings and sorting rules that you should be aware of when performing string operations</FONT></EM>" but then goes on to talk about compressions in collation without calling them out explicitly.</FONT></P>
<P><FONT face=Tahoma>In one case, it talks about the <STRONG><A href="http://archives.miloush.net/michkap/archive/2005/07/17/439742.html">Microsoft convention for compressions in sorting</A></STRONG> but actually mistakes it for yet another situation of custom case mappings, which anyone who understands the issue would not call them:</FONT></P>
<BLOCKQUOTE dir=ltr style="MARGIN-RIGHT: 0px">
<P><FONT face="Times New Roman" size=2>The alphabets of nine cultures in the ASCII range (Unicode 0000- Unicode 007F) contain two-letter pairs where the result of a case-insensitive comparison, such as String.Compare, does not evaluate to equal when the case is mixed. These cultures are "hr-HR" (Croatian in Croatia), "cs-CZ" (Czech in the Czech Republic), "sk-SK" (Slovak in Slovakia), "da-DK" (Danish in Denmark), "nb-NO" (Norwegian (Bokmal) in Norway), "nn-NO" (Norwegian (Nynorsk) in Norway), "hu-HU" (Hungarian in Hungary), "vi-VN" (Vietnamese in Vietnam) and "es-ES" (Spanish in Spain) using the traditional sort order. For example, in the Danish language, a case-insensitive comparison of the two-letter pairs aA and AA is not considered equal. In the Vietnamese alphabet, a case-insensitive comparison of the two-letter pairs nG and NG is not considered equal. Although you should be aware that these rules exist, in practice, it is unusual to run into a situation where a culture-sensitive comparison of these pairs creates problems because they are uncommon in fixed strings or identifiers.</FONT></P></BLOCKQUOTE>
<P><FONT face=Tahoma>It then goes on to explain in a slightly provicinal way about exceptions without giving any real examples (or pointing out that several of the previous 'compression' languages also have exceptions):</FONT></P>
<BLOCKQUOTE dir=ltr style="MARGIN-RIGHT: 0px">
<P><FONT face="Times New Roman" size=2>The alphabets of six cultures within the ASCII range have standard casing rules, but different sorting rules. These cultures are "et-EE" (Estonian in Estonia), "fi-FI" (Finnish in Finland), "hu-HU" (Hungarian in Hungary) using the technical sort order, "lt-LT" (Lithuanian in Lithuania), "sv-FI" (Swedish in Finland), and "sv-SE" (Swedish in Sweden). For example, in the Swedish alphabet, the letter w sorts as if it is the letter v. In application code, sorting operations tend to be used less frequently than equality comparisons and therefore are less likely to create problems.</FONT></P></BLOCKQUOTE>
<P><FONT face=Tahoma>Of course there is also the specious claim about ASCII since out of all of the languages mentioned, exactly ZERO of them are limited to ASCII even in their standard exemplar characters.</FONT></P>
<P><FONT face=Tahoma>The penultimate paragraph tries to reassure any of those target english-speaking developers a bit:</FONT></P>
<BLOCKQUOTE dir=ltr style="MARGIN-RIGHT: 0px">
<P><FONT face="Times New Roman" size=2>An additional 35 cultures have custom case mappings and sorting rules outside of the ASCII range. These rules are generally confined to the alphabets used by those specific cultures. Therefore, the likelihood of them causing problems is low.</FONT></P></BLOCKQUOTE>
<P><FONT face=Tahoma>And then it ends on a final misleading note:</FONT></P>
<BLOCKQUOTE dir=ltr style="MARGIN-RIGHT: 0px">
<P><FONT face="Times New Roman" size=2>For details about the custom case mappings and sorting rules that apply to specific cultures, see The Unicode Standard at www.unicode.org.</FONT></P></BLOCKQUOTE>
<P><FONT face=Tahoma>Since the <A href="http://www.unicode.org/">Unicode Standard</A> does not really refer to any of these concepts by these terms either, this note is probably not entirely helpful. But it once again tries to reassure native english speaking developers not to fear globalization.</FONT></P>
<P><FONT face=Tahoma>The final coda is pointers to culture-insensitive work (though of course it undermines the message that there is nothing to fear in cultures by telling people how to learn to do without them!).</FONT></P>
<P><FONT face=Tahoma>So George, for the most part I would recommend ignoring this article. Its viewpoint is provincial, its terminology is non-standard, its conclusions are misleading, and its examples are wasteful of space.</FONT></P>
<P><FONT face=Tahoma>Every topic hinted at there and more is coveredd much more effectively in this blog. :-)</FONT></P>
<P><FONT face=Tahoma></FONT>&nbsp;</P>
<P><FONT face=Tahoma color=#ff1493><EM>This post brought to you by</EM> "à¯‹" <EM>(<A href="http://www.fileformat.info/info/unicode/char/0bcb">U+0bcb</A>, a.k.a. TAMIL VOWEL SIGN OO)<BR><FONT size=1>(One of those pesky 'nonp-ASCII' languages that you don't have to worry about!)</FONT></EM></FONT></P>
<hr/><div style="margin-left: 1em"><em>no comments</em></div><hr/><p><em>referenced by</em></p><div style="margin-left: 1em"><p>2007/03/04 <a href="http://archives.miloush.net/michkap/archive/2007/03/04/1806219.html">String Indexing?</a></p><p>2006/12/06 <a href="http://archives.miloush.net/michkap/archive/2006/12/06/1221890.html">What's wrong with what FxCop does for globalization, Part 0.5 (a segue)</a></p></div><p><em>go to <a id="newer" href="http://archives.miloush.net/michkap/archive/2006/05/26/608230.html" title="Two chickens in every pot, and an ASCII in every code page">newer</a> or <a id="older" href="http://archives.miloush.net/michkap/archive/2006/05/25/607704.html" title="Where&#39;d I find that?">older</a> post, or back to <a href="http://archives.miloush.net/michkap/archive/index.html">index</a> or <a href="http://archives.miloush.net/michkap/archive/index.html#2006-05">month</a> or <a href="http://archives.miloush.net/michkap/archive/index.html#2006-05-26">day</a></em></p></body>
<!-- Mirrored from archives.miloush.net/michkap/archive/2006/05/26/607881.html by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 25 May 2017 00:42:39 GMT -->
</html>