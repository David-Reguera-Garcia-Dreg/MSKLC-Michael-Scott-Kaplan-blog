<html>
<!-- Mirrored from archives.miloush.net/michkap/archive/2006/05/24/605569.html by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 25 May 2017 00:42:39 GMT -->
<head><meta charset="utf-8" /><meta name="viewport" content="width=device-width" /><title>Did somebody say time zones were intuitive?</title></head><body>
<h1>Did somebody say time zones were intuitive?</h1>
<p><em>by Michael S. Kaplan, published on 2006/05/24 00:01 -07:00, original URI: http://blogs.msdn.com/michkap/archive/2006/05/24/605569.aspx</em></p>
<hr/> <!-- Archival Source: ProcessPostOld -->
<P><FONT face=Tahoma>One of the problems about time zones (and believe me, there are <A HREF="http://archives.miloush.net/michkap/archive/2006/04/03/567443.html">many</A> <A HREF="http://archives.miloush.net/michkap/archive/2005/05/28/422806.html">problems</A> <A HREF="http://archives.miloush.net/michkap/archive/2006/04/03/567489.html">with</A> <A HREF="http://archives.miloush.net/michkap/archive/2006/01/14/512530.html">time</A> <A HREF="http://archives.miloush.net/michkap/archive/2006/04/05/568208.html">zones</A>!) is that sometimes it is hard to define what is meant by them.</FONT></P>
<P><FONT face=Tahoma>For example, I am currently sitting in my apartment in Redmond, WA, USA. I am in a time zone that is named <STRONG>Pacific Daylight Time</STRONG> (and which, when DST&nbsp;a.k.a. Daylight Savings Time is not happening) is named <STRONG>Pacific Standard Time</STRONG>.</FONT></P>
<P><FONT face=Tahoma>Many (perhaps most!) people think of this particular time zone as being -08:00 year round, although technically the differenence from UTC (Coordinated Univeral Time) which has no DST changes, is actually seven hours different for part of the year.</FONT></P>
<P><FONT face=Tahoma>Now obviously this makes a string like </FONT></P>
<BLOCKQUOTE dir=ltr style="MARGIN-RIGHT: 0px">
<P><FONT face="Courier New" size=4><STRONG>Tue, 23 May 2006 14:20:24 -0800</STRONG></FONT></P></BLOCKQUOTE>
<P><FONT face=Tahoma>passed to <A href="http://msdn2.microsoft.com/en-us/library/1k1skd40.aspx">DateTime.Parse</A> a little bit ambiguous, doesn't it? What will it return?</FONT></P>
<P><FONT face=Tahoma>Developer David Zearing of Microsoft noted this issue,&nbsp;when he&nbsp;saw that&nbsp;</FONT></P>
<BLOCKQUOTE dir=ltr style="MARGIN-RIGHT: 0px">
<P><FONT face="Courier New" size=2>DateTime.Parse("Tue, 23 May 2006 14:20:24 -0800").ToString()</FONT></P></BLOCKQUOTE>
<P><FONT face=Tahoma>is returning "5/23/2006 3:20:24 PM" rather than "5/23/2006 2:20:24 PM".</FONT></P>
<P><FONT face=Tahoma>Now one could argue that keeping the names the same is a good strategy, but the lines are a bit muddled when you have a name that is suggesting a mathematical relationship which you cannot actually use mathematically without first determining the time zone rules in question. A determination that is potentially impossible since two time zones could have the same offset from GMT but different dates for when their DST values kick in (like if Canada decided to not match the upcoming US changes to DST).</FONT></P>
<P><FONT face=Tahoma>This problem also does happen now between Israel and South Africa&nbsp;and Egypt and FLE and GTB and Eastern Europe -- all of which are (GMT+02:00) but many of which are subject to very different rules regarding daylight savings time.</FONT></P>
<P><FONT face=Tahoma>Therefore, the simple name is not enough to give the information in all cases.</FONT></P>
<P><FONT face=Tahoma>Did somebody say time zones were intuitive? Were they high at the time?</FONT></P>
<P><FONT face=Tahoma></FONT>&nbsp;</P>
<P><FONT face=Tahoma color=#ff1493><EM>This post brought to you by</EM> "Â±" <EM>(<A href="http://www.fileformat.info/info/unicode/char/00b1">U+00b1</A>, a.k.a. PLUS-MINUS SIGN)</EM></FONT></P>
<hr/><p><a id="605739" href="#605739">#</a> <strong>gabr</strong> on Wednesday, May 24, 2006 4:24 AM:</p><div style="margin-left: 1em">Time zones are simple. Daylight Savings Time is the problem - it should be abolished all over the earths. <br><br>(die DST die die die)<br><br>A life without time zones would be even more confusing ...</div>
<p><a id="605775" href="#605775">#</a> <strong>Nick Lamb</strong> on Wednesday, May 24, 2006 5:28 AM:</p><div style="margin-left: 1em">&quot;like if Canada decided to not match the upcoming US changes to DST&quot;<br><br>Is there any good reason why Windows doesn't follow the Unix timezone naming practices (ie America/Los Angeles, America/Vancouver and America/Tijuana etc.), which would make this sort of thing (which is all too common) easier to deal with, for software developers, system administrators and users ?<br><br>Maybe something for your &quot;What's next?&quot; queue.</div>
<p><a id="605804" href="#605804">#</a> <strong>Phylyp</strong> on Wednesday, May 24, 2006 6:10 AM:</p><div style="margin-left: 1em">The earth is flat and there are no timezones. <br><br>Oh, how I wish that were the truth!</div>
<p><a id="605865" href="#605865">#</a> <strong>Michael S. Kaplan</strong> on Wednesday, May 24, 2006 7:50 AM:</p><div style="margin-left: 1em">Hi Nick --<br><br>That is how things are currently handled across the masny different GMT +02:00 time zones, all of the definitions of which list cities -- and as I pointed out, they do not solve the problem I pointed out.<br><br>But adding artificial time zones before such differences actually exist is not really a good solution here. Since neither method actually solves the problem (and Unix is just as broken here, mainly due to the flaws of the model).</div>
<p><a id="606015" href="#606015">#</a> <strong>Nick Lamb</strong> on Wednesday, May 24, 2006 10:49 AM:</p><div style="margin-left: 1em">&quot;all of the definitions of which list cities&quot;<br><br>But you have it the wrong way up, you've got this list of timezones, and they are described to the user as so-and-such UTC offset, and then a series of place names. It's the same mistake as we saw in several previous dialogs on Sorting It All Out.<br><br>&quot;and Unix is just as broken here&quot;<br><br>In Unix, the users get new tzdata packages as updates which handle the (hypothetical) changes to US vs Canadian timezones, and carry on as before. In Windows every single affected machine or account must be (manually?) reconfigured. Well, we know that won't happen, so actually millions of machines would just have the wrong time.<br><br>If you're talking about the offset date-time format, that isn't broken in Unix because Unix software understands the difference between a UTC offset and a timezone. Trying to treat the offsets as if they were timezone information will screw you up, as you amply demonstrated.<br><br>This is a bug, like the UI language stuff a few posts back. Pretending everyone else is wrong, or that people just don't understand the problem might persuade a few naive readers on this little blog but it only puts off the work of actually fixing the problem. Let us know how you get on with that.</div>
<p><a id="606137" href="#606137">#</a> <strong>Mihai</strong> on Wednesday, May 24, 2006 12:42 PM:</p><div style="margin-left: 1em">For the problem presented Unix is as bad as Windows and as bad as anything else.<br><br>The time expressed as &quot;Tue, 23 May 2006 14:20:24 -0800&quot; gives no hint where I am.<br>I am 8 hours off GMT, but no clue what latitude, so I don't know if I am in Canada, U.S.A., Mexico or somewhere in Pacific, southern emisphere.<br></div>
<p><a id="606148" href="#606148">#</a> <strong>Michael S. Kaplan</strong> on Wednesday, May 24, 2006 1:01 PM:</p><div style="margin-left: 1em">Hi Mihai,<br><br>It is a very important thing to Nick to be able to take any issue I raise in the blog, change the topic, and explain how Microsoft or I or both are wrong.<br><br>This is a special service I provide to Nick, and I don't mind doing it at all. <br><br>:-)</div>
<p><a id="606216" href="#606216">#</a> <strong>Ben Cooke</strong> on Wednesday, May 24, 2006 2:15 PM:</p><div style="margin-left: 1em">If I know a given time is being given as eight hours behind UTC, most of the time I don't care which timezone it was recorded in. I'm in the UK (currently on British Summer Time, UTC+1) but there's nothing to stop me saying that the time is currently &quot;21:14 +0300&quot; rather than &quot;19:14 +0100&quot;.<br><br>The problem of course comes when you want to figure out what someone's local time was at that point, but I'd argue that the best way to do that is just to ask that someone. A few applications I use deal with this by logging the UTC time and my local time, so you can say &quot;Ben did that at 19:12 his time, which was 16:12 my time and 15:12 UTC&quot;, which is all you really need in most cases, right?<br></div>
<p><a id="606243" href="#606243">#</a> <strong>Maurits</strong> on Wednesday, May 24, 2006 2:38 PM:</p><div style="margin-left: 1em">To me, this string implies Alaska.<br>Tue, 23 May 2006 14:20:24 -0800<br><br>If you're in Washington, Oregon, Nevada, or California, you should have gotten:<br>Tue, 23 May 2006 14:20:24 -0700<br><br>because all of those states observe DST in May.<br><br>Ambiguity arises for the -0700 string, though, because you could equally well be in the portion of Arizona that does not observe DST.<br><br>But the function of the -hhhh syntax is not to specify where you are... it is to specify what the current time zone offset is. &nbsp;A little math and you can convert it to any other time zone offset you want.</div>
<p><a id="606248" href="#606248">#</a> <strong>Maurits</strong> on Wednesday, May 24, 2006 2:46 PM:</p><div style="margin-left: 1em">Oh, and the -hhhh syntax helps resolve the time-space-continuum holes caused by &quot;spring ahead&quot; and &quot;fall back&quot;....<br><br>01:59 -0800<br>02:00 -0800 ready... SPRING AHEAD:<br>03:00 -0700 ... same time, different syntax<br>03:01 -0700<br><br>...<br><br>01:59 -0700<br>02:00 -0700<br>02:01 -0700<br>...<br>02:59 -0700<br>03:00 -0700 ready... FALL BACK<br>02:00 -0800 ... same time, different syntax<br>02:01 -0800 deja vu...<br>...<br>02:59 -0800<br>03:00 -0800<br>03:01 -0800</div>
<p><a id="606271" href="#606271">#</a> <strong>Nick Lamb</strong> on Wednesday, May 24, 2006 3:13 PM:</p><div style="margin-left: 1em">&quot;explain how Microsoft or I or both are wrong&quot;<br><br>And if only Michael would listen we might make some progress...<br><br>For example, imagine if Michael had filed a bug when I first pointed out the problem with paragraph level reading order... by now it might be fixed in the source tree, and Vista users would soon be praising the (to them) anonymous guy who made it happen.<br><br>Of course, I'm not here because of people running Windows, or rather, I am here because today the same people are using the same data, and even the same applications, on non-Windows systems. I'm telling my neighbour his barn is on fire, not just because it seems a shame for his barn to burn down - but also because my barn is next door.<br><br>Which brings us right back round to where we started. Timezones are timezones, UTC offsets are just offsets. Everywhere that Microsoft (or anyone else for that matter) gets this wrong in data on disk or on the wire, is a place where everyone else has to try to figure out a workaround, or else the user gets the wrong time and they don't know who to blame.</div>
<p><a id="606387" href="#606387">#</a> <strong>Michael S. Kaplan</strong> on Wednesday, May 24, 2006 5:07 PM:</p><div style="margin-left: 1em">Nick,<br><br>I do listen. But you have an agenda that involves changing the topic to making it your own.<br><br>That is great. But at some point you should put it up on your own blog. Eventually I will delete the offtopic comments.<br><br>As for paragraph level reading order, I understand you and DISAGREE with you. You may need to get over your bitterness on this point that you simply refuse to let go. <br><br>SUMMARY: It is possible to disagree with Nick Lamb. It is even possible that in those cases, Nick Lamb might be wrong....</div>
<p><a id="606462" href="#606462">#</a> <strong>Dennis E. Hamilton</strong> on Wednesday, May 24, 2006 6:03 PM:</p><div style="margin-left: 1em">I love calendar and date-time and timezone and time-standard stuff. &nbsp;It is a great way to demonstrate that there is no way to &quot;get it right&quot; in software when any assumption about what is intended is incorrect at least 1/3 of the time.<br><br>I stopped reading the comments when my screan started to darken and melt around the edges and I could smell ozone, but I thought there was an important point.<br><br>I always thought giving the time in GMT (e.g., 23:51Z which it is as I type this) was not a reference to a location but to a universal time standard that is consistent no matter where you are located on the planet and what the local time might be there.<br><br>I also confess that it slips my mind that time zones are thought of as geographical (which the picture in my Day-Timer and in some phone books reminds me of). &nbsp;I actually find the city associations to be weird, because I am not in that city (whether Tijuana or one of the other ones that are apparently in the same time zone as I and are the limited choices I am offered).<br><br>So I always think of 16:54 -0700 as a time offset for local time from UTC (also known as PDT where I happen to be at the moment). &nbsp;As long as I am always using ISO-mumble times as times related to UTC, everything seems to work. &nbsp; I gather that the concept is overloaded if we want it to give us something geographical too (though generally spanning both hemispheres and having very peculiar properties near the poles, but what the hey). &nbsp;They don't exactly follow longitudinal lines either.<br><br>Sticking with the notion of UTC offset has worked fine with me. &nbsp;I can write it down without thinking and someone else who cares can figure out what time it was in GMT or even in their local time (given an accurate [local-time] date of course). &nbsp;<br><br>I thought this was all pretty easy until I started adjusting my computer clock when traveling and had Outlook be completely confused, even when I set two time &quot;zones&quot; on the calendar. &nbsp;Whatever one size fits all is applied there, it is a site that never fits me and now I have a bunch of all recuring all-day appointments that now start at 1am and continue into 1am the next day. &nbsp;<br><br>(Sigh).</div>
<p><a id="606482" href="#606482">#</a> <strong>Dennis E. Hamilton</strong> on Wednesday, May 24, 2006 6:19 PM:</p><div style="margin-left: 1em">PS: I just signed up for two web casts. &nbsp;I am told that the one tomorrow is at &quot;2 pm Pacific Time (US &amp; Canada).&quot; &nbsp;Downloading the appointment into outlook, it is nicely placed for one hour starting at 14:00 PLT on my calendar. &nbsp;My calendar has another column labeled GMT and it says 21:00. &nbsp;I did not do any adjustments to Outlook in the vicinity of April 2.<br><br>Now, the web site that has these little webcast announcements actually gives the time as &quot;Event Time:<br>2:00 PM Pacific, USA &amp; Canada (DST) = GMT - 08:00&quot; and it does that year round. &nbsp; That was very confusing until I learned to ignore it and trust that the 2:00 PM is Pacific Local Time (PDT this time of year) and I can figure out from that how to log in at the proper time from the time zone I am in at the moment. &nbsp;The downloaded calendar appointment got it right, and that's good enough for me.<br><br>And when I travel, I never, never, ever change the local time on my laptop. &nbsp;It just screws up too many things, including FTP transfers of presumably-only-changed files with a server that is not traveling (and whose time offset, like as not, is set incorrectly anyhow).<br><br>Fascinating, simply fascinating.</div>
<p><a id="607293" href="#607293">#</a> <strong>Tyler</strong> on Thursday, May 25, 2006 2:25 PM:</p><div style="margin-left: 1em">Simple solution: no daylight savings time.<br>Simpler solution: no time zones.<br><br>I hear that China has only 1 time zone, and they seem to get along just fine despite having room for 5.</div>
<p><a id="607427" href="#607427">#</a> <strong>Peter Cooper Jr.</strong> on Thursday, May 25, 2006 5:17 PM:</p><div style="margin-left: 1em">The thing with Outlook appointments and the like, is that some appointments (like Birthdays and regular meetings) are really at a particular local day &amp; time no matter whether I'm in daylight time or not, and for things like Birthdays the actual time really does move with me when I change time zones. But for some things, like a global webcast, or a company meeting amongst people in different time zones, it has one absolute time that really ought to stay in the same actual time as I change time zones. (Although if it's recurring, then it may change if the majority of the company goes on daylight time.)<br><br>So it seems like when creating an appointment the user ought to be able to describe how it should work when changing time zones, although that could never really happen since users probably don't know the answer.</div>
<p><a id="607444" href="#607444">#</a> <strong>Maurits</strong> on Thursday, May 25, 2006 5:38 PM:</p><div style="margin-left: 1em">Simplest solution: no clocks ;)</div>
<p><a id="607919" href="#607919">#</a> <strong>Ben Cooke</strong> on Friday, May 26, 2006 6:46 AM:</p><div style="margin-left: 1em">Peter,<br>You've named one good case that is difficult to solve. It's impossible for me to say &quot;remind me at 9:00 Peter's time every day&quot; because I have no idea where you are and what timezone you're in. Even if I did know that, the software I'm using would need knowledge of the daylight savings switchover times for every single timezone.<br><br>And that's ignoring those people who insist on completely ignoring daylight savings time. They do exist. I used to know a guy who would leave his watch on standard time all year and would do everything by his wallclock time. As far as he was concerned, he just had to go to work an hour earlier for half the year; in other words, &quot;the rest of the world is wrong.&quot; I like that attitude, but it seems like far too much effort for me so I just go with the flow. I do, however, have one clock here in my home office that is set to GMT rather than BST, since it shaves a few milliseconds off my own mental UTC offset calculations when I see timestamps!<br><br></div>
<hr/><p><em>referenced by</em></p><div style="margin-left: 1em"><p>2008/06/29 <a href="http://archives.miloush.net/michkap/archive/2008/06/29/8667900.html">Did someone break GetTimeZoneInformation in XP?</a></p></div><p><em>go to <a id="newer" href="http://archives.miloush.net/michkap/archive/2006/05/24/605599.html" title="Invariant vs. Ordinal, the third">newer</a> or <a id="older" href="http://archives.miloush.net/michkap/archive/2006/05/23/604843.html" title="Persian? Or Farsi? Redux">older</a> post, or back to <a href="http://archives.miloush.net/michkap/archive/index.html">index</a> or <a href="http://archives.miloush.net/michkap/archive/index.html#2006-05">month</a> or <a href="http://archives.miloush.net/michkap/archive/index.html#2006-05-24">day</a></em></p></body>
<!-- Mirrored from archives.miloush.net/michkap/archive/2006/05/24/605569.html by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 25 May 2017 00:42:39 GMT -->
</html>