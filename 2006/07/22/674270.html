<html>
<!-- Mirrored from archives.miloush.net/michkap/archive/2006/07/22/674270.html by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 25 May 2017 00:42:39 GMT -->
<head><meta charset="utf-8" /><meta name="viewport" content="width=device-width" /><title>We're off on the road to Korea! We certainly do get around...</title></head><body>
<h1>We're off on the road to Korea! We certainly do get around...</h1>
<p><em>by Michael S. Kaplan, published on 2006/07/22 03:01 -04:00, original URI: http://blogs.msdn.com/b/michkap/archive/2006/07/22/674270.aspx</em></p>
<hr/> <!-- Archival Source: ProcessPostNew -->
<P><FONT face=Tahoma size=2><EM>(Apologies to Mel Brooks for the borrowing of the song from History of the World, Pt 1!)</EM></FONT></P>
<P><FONT face=Tahoma>Back when I posted about <STRONG><A href="http://archives.miloush.net/michkap/archive/2006/03/12/549951.html">Traditional versus modern sorts</A></STRONG>, I mentioned that: </FONT></P>
<BLOCKQUOTE dir=ltr style="MARGIN-RIGHT: 0px">
<P><FONT face=Tahoma><FONT size=2><EM>As an aside, one could perhaps argue that the whole LVT -- leading/vowel/trailing -- mechanism used in discussions about Jamo/Hangul collation is an artifact of implementations -- and that the reason that&nbsp;</EM><FONT face="Times New Roman">ᄀ</FONT><EM> (U+1100) and </EM><FONT face="Times New Roman">ᆨ</FONT><EM> (U+11a8) look the same is that they <STRONG>are</STRONG> the same -- note that <A href="http://en.wikipedia.org/wiki/Choi_Sejin">Choi Sejin</A>'s order did not include two separate letters here to handle whether a consonant was leading or trailing?</EM></FONT></FONT></P></BLOCKQUOTE>
<P><FONT face=Tahoma>If you look at the keyboard that is used in the Korean IMEs that ship with Windows/Office (shown here for the base state and the shift state):</FONT></P>
<P><FONT face=Tahoma><IMG height=171 src="http://trigeminal.fmsinc.com/images/korime_base.jpg" width=525></FONT></P>
<P><FONT face=Tahoma><IMG src="http://trigeminal.fmsinc.com/images/korime_shift.jpg"></FONT></P>
<P><FONT face=Tahoma>it seems pretty clear that I was right. Native speakers of Korean do not distinguish the leading and trailing consonants, so as long as the input method know what it is doing, you just enter your Jamo and it figure out where things go in an intelligent manner.</FONT></P>
<P><FONT face=Tahoma>So let's look at how that works. Taking for example <FONT size=5>삫</FONT> (<A href="http://www.fileformat.info/info/unicode/char/c0ab">U+c0ab</A>, a.k.a. HANGUL SYLLABLE SSANGPIEUP I HIEUTH). Now if we take this precomposed Hangul syllable and convert it to normalization Form D, we get:</FONT></P>
<BLOCKQUOTE dir=ltr style="MARGIN-RIGHT: 0px">
<P><FONT face=Gulim,GulimChe,Batang,BatangChe size=5>삫</FONT></P></BLOCKQUOTE>
<P><FONT face=Tahoma>or</FONT></P>
<BLOCKQUOTE dir=ltr style="MARGIN-RIGHT: 0px">
<P><FONT face=Tahoma><A href="http://www.fileformat.info/info/unicode/char/1108">U+1108</A> <A href="http://www.fileformat.info/info/unicode/char/1175">U+1175</A> <A href="http://www.fileformat.info/info/unicode/char/11c2">U+11c2</A></FONT></P></BLOCKQUOTE>
<P><FONT face=Tahoma>or</FONT></P>
<BLOCKQUOTE dir=ltr style="MARGIN-RIGHT: 0px">
<P><FONT face=Tahoma>HANGUL CHOSEONG SSANGPIEUP<BR></FONT><FONT face=Tahoma>HANGUL JUNGSEONG I<BR></FONT><FONT face=Tahoma>HANGUL JONGSEONG HIEUH</FONT></P></BLOCKQUOTE>
<P><FONT face=Tahoma>Now if I want to type this is on the IME, I would type <STRONG>Q</STRONG>:</FONT></P>
<P><IMG src="http://trigeminal.fmsinc.com/images/korime_Q.jpg">&nbsp;</P>
<P><FONT face=Tahoma>followed by <STRONG>l</STRONG> (that is a lowercase L):</FONT></P>
<P><FONT face=Tahoma><IMG src="http://trigeminal.fmsinc.com/images/korime_l.jpg"></FONT></P>
<P><FONT face=Tahoma>followed by a <STRONG>g</STRONG>:</FONT></P>
<P><FONT face=Tahoma><IMG src="http://trigeminal.fmsinc.com/images/korime_g.jpg"></FONT></P>
<P><FONT face=Tahoma>So, in a weird way the user is kind of typing in Jamo , although a simplified form of Jamo that does not distinguish <FONT face=Gulim,GulimChe,Batang,BatangChe size=4>ᄒ</FONT> (<A href="http://www.fileformat.info/info/unicode/char/1112">U+1112</A>, HANGUL CHOSEONG HIEUH) from <FONT face=Gulim,GulimChe,Batang,BatangChe size=4>ᇂ</FONT> (<A href="http://www.fileformat.info/info/unicode/char/11c2">U+11c2</A>, HANGUL JONGSEONG HIEUH). It is up to the IME to take what is typed and figure out what is meant.</FONT></P><FONT face=Tahoma>
<P>Of course this begs the question -- why couldn't Unicode have encoded things this way? :-)</FONT></P><FONT face=Tahoma>
<P><FONT face=Tahoma>You can also look at the characters in progress while you are typing; if you stop after the first keystroke you are given&nbsp;ㅃ (<A href="http://www.fileformat.info/info/unicode/char/3143">U+3143</A>) and&nbsp;삐 (<A href="http://www.fileformat.info/info/unicode/char/0c90">U+c090</A>), respectively. Clearly, the IME, while always expecting Jamo from the user, is never outputting combining Jamo....</FONT></P>
<P>In any case, and now we get to why I arbitrarily chose this particular Hangul syllable, let's look at the sort key for this code point in XP: </FONT></P>
<BLOCKQUOTE dir=ltr style="MARGIN-RIGHT: 0px">
<P><FONT face="Consolas,Courier New"><STRONG>23 11 01 01 01 01 00</STRONG></FONT></P></BLOCKQUOTE>
<P><FONT face=Tahoma>Let's look at a particular Old Hangul syllable made up of the following sequences that are legal according to <A href="http://www.microsoft.com/typography/otfntdev/hangulot/appen.aspx#comp">the table from the OpenType site</A> that lists the 121 legal&nbsp;Old Hangul&nbsp;sequences:</FONT></P>
<P><FONT face=Tahoma size=2><A href="http://www.fileformat.info/info/unicode/char/1107">1107</A> <A href="http://www.fileformat.info/info/unicode/char/1109">1109</A> <A href="http://www.fileformat.info/info/unicode/char/1110">1110</A> <A href="http://www.fileformat.info/info/unicode/char/116d">116d</A> <A href="http://www.fileformat.info/info/unicode/char/1161">1161</A> <A href="http://www.fileformat.info/info/unicode/char/1175">1175</A> <A href="http://www.fileformat.info/info/unicode/char/11b8">11b8</A> <A href="http://www.fileformat.info/info/unicode/char/11ba">11ba</A> <A href="http://www.fileformat.info/info/unicode/char/11ae">11ae</A></FONT></P>
<P><FONT face=Tahoma>If you have a font that will&nbsp;compose the&nbsp;combining Jamo into Old Hangul syllables (which is I admit no mean feat -- the shaping support exists in XP SP2 and Vista but it only works if you have a font and that is anything but easy), it will look something like one of these, depending on the font style:</FONT></P>
<P><FONT face=Tahoma><IMG height=290 src="http://trigeminal.fmsinc.com/images/oldhangul.jpg" width=730></P></FONT>
<P><FONT face=Tahoma>(The fonts above are using the Gulim, Batang, Dotum, and Gungsuh styles, respectively)</FONT></P>
<P><FONT face=Tahoma>On a unrelated but&nbsp;unfortunate note: although Notepad has no problem properly treating the whole syllable as a single unit for the purposes of cursor navigation and selection, WordPad would only select or move past the syllable when the first Jamo was selected (literally requiring nine clicks of the arrow key to move past the syllable). This is true in Vista as well, not just XP SP2. Hmmm....</FONT></P>
<P><FONT face=Tahoma>Of course if you so not have such an Old Hangul font, it will look more like:</FONT></P>
<P><FONT face=Gulim,GulimChe,Batang,BatangChe size=5>ᄇᄉ툐ᅡᅵᆸᆺᆮ</FONT></P>
<P><FONT face=Tahoma>as I discussed in <STRONG><A href="http://archives.miloush.net/michkap/archive/2005/02/25/380266.html">Theory vs. practice for Korean text collation</A></STRONG>.</FONT></P>
<P><FONT face=Tahoma>And in case that was not enough of a blocker, I was unable to make any of the IMEs I had available to me (on any version of Windows) type the Old Hangul syllable. Thus, the problem with a "smart" IME is obvious when you want it to do something that it is not smart enough to do. :-)</FONT></P>
<P><FONT face=Tahoma>Now in any case, if you look at the sort key for this syllable, it is</FONT></P><FONT face=Tahoma>
<BLOCKQUOTE dir=ltr style="MARGIN-RIGHT: 0px">
<P><FONT face="Consolas,Courier New"><STRONG>23 11 ff 37 ff 26 ff 58 01 01 01 01 00</STRONG></FONT></P></BLOCKQUOTE></FONT>
<P><FONT face=Tahoma>Compare that to the one we got earlier:</FONT></P>
<BLOCKQUOTE dir=ltr style="MARGIN-RIGHT: 0px">
<P><STRONG><FONT face=Consolas>23 11 01 01 01 01 00</FONT></STRONG></P></BLOCKQUOTE>
<P><FONT face=Tahoma>and this Old Hangul syllable will basically sort after this precomposed Hangul syllable.</FONT></P>
<P><FONT face=Tahoma>Now the pieces of the weight that fit after the <STRONG>0xff</STRONG> sentintels are for the <STRONG>L</STRONG>eading, <STRONG>V</STRONG>owel, and <STRONG>T</STRONG>railing pieces of the syllable. For better or worse, this particular syllable (created via the process of choosing random long entries from that OpenType appendix and putting them together Mr. Potato Head style) will sort after <A href="http://www.fileformat.info/info/unicode/char/c0ab">U+c0ab</A>.</FONT></P>
<P><FONT face=Tahoma>So, did I have a point here? Well, I guess you could say that Old Hangul appears to be difficult at the moment, and the exact source of the solution seems to be elusive since it involves help&nbsp;from both typographers and creators of IMEs.</FONT></P>
<P><FONT face=Tahoma>There are over 5,000&nbsp;Level 1 Old Hangul syllables according to recent documents I have seen, and in theory there are many, many&nbsp;more so a generative model seems ideal here. With a smart IME that knows a bit more about how to put the Jamo together (in this case any time&nbsp;one types an <STRONG>L</STRONG> after an <STRONG>L</STRONG>, a <STRONG>V</STRONG> after a <STRONG>V</STRONG>, or&nbsp;a <STRONG>T</STRONG> after a <STRONG>T</STRONG>, the IME should just keep on composing....</FONT></P>
<P><FONT face=Tahoma></FONT>&nbsp;</P>
<P><FONT face=Tahoma color=#ff1493><EM>This post brought to you by</EM> <FONT color=#000000><FONT color=#ff1493 size=8><STRONG>삫</STRONG></FONT> </FONT><FONT color=#ff1493><EM>(</EM><EM><A href="http://www.fileformat.info/info/unicode/char/c0ab">U+c0ab</A>, a.k.a. HANGUL SYLLABLE SSANGPIEUP I HIEUTH). </EM></FONT></FONT></P>
<hr/><p><a id="676102" href="#676102">#</a> <strong>Dean Harding</strong> on 23 Jul 2006 7:28 PM:</p><div style="margin-left: 1em">My girlfriend is Korean, and she's been teaching me Hangul. It's an awesome language - one of the most logical written-languages you can think of. It's completely phonetic! It took me about 3 days to learn how to read it (though it's taking much longer to learn how to speak it!!)<br><br>You're also right that Korean's don't distingush between the leading consonant and the trailing consonants. I didn't even know they had different names.<br><br>By the way, where you did you get those pictures of the keyboard? I've been trying to get an on-screen Korean keyboard so I can learn to type it as well but I guess I didn't really look very hard :)</div>
<p><a id="676130" href="#676130">#</a> <strong>Michael S. Kaplan</strong> on 23 Jul 2006 8:26 PM:</p><div style="margin-left: 1em">Hi Dean, <br><br>I actually cheated -- I used MSKLC but I filled in the jamo myself and then took a screenshot and trimmed it to just the area with the keys. <br><br>Or if you meant to ask where I got the contents of the layout itself, I think I technically own the DLLs for the layouts. :-)</div>
<p><a id="676174" href="#676174">#</a> <strong>Dean Harding</strong> on 23 Jul 2006 9:24 PM:</p><div style="margin-left: 1em">Oh no, I just meant the picture... thanks anyway, it'll be a great help to me for learning the layout :-)</div>
<p><a id="676211" href="#676211">#</a> <strong>Michael S. Kaplan</strong> on 23 Jul 2006 10:03 PM:</p><div style="margin-left: 1em">Oh okay, I probably should have put the punctuation in too, in that case. :-)</div>
<p><a id="676640" href="#676640">#</a> <strong>Dean Harding</strong> on 24 Jul 2006 9:24 AM:</p><div style="margin-left: 1em">Thank you muchly!<br><br>One other thing I noticed, on XP SP2 at work, the U+1108 U+1175 U+11c2 sequence appears as three separate characters, but in Vista they're composed - has anything changed there? I've got complex scripts turned on in XP SP2, so it should be the same, right? Or maybe there just exists different fonts in Vista...</div>
<p><a id="676725" href="#676725">#</a> <strong>Michael S. Kaplan</strong> on 24 Jul 2006 10:48 AM:</p><div style="margin-left: 1em">Hmmm.... some work was done in Vista to do the composing when you have text with the combining Jamo. But it is limited to characters that actually exist in the font unless you find a font that supports Old Hangul composition/shaping....</div>
<p><a id="694573" href="#694573">#</a> <strong>Dave Smith</strong> on 10 Aug 2006 1:44 PM:</p><div style="margin-left: 1em">BTW, the &quot;We're off on the road to x! We certainly do get around...&quot; songs were, I believe, originally from the Bing Crosby/Bob Hope &quot;Road to&quot; movies (Road to Morocco, etc.). &nbsp;Mel Brooks just 'borrowed' it.<br><br>Cheers,<br>Dave</div>
<hr/><p><em>referenced by</em></p><div style="margin-left: 1em"><p>2010/07/11 <a href="http://archives.miloush.net/michkap/archive/2010/07/11/10033336.html">Um…I've noticed you around…I find you very attractive…um…would you conjoin with me?</a></p><p>2008/08/21 <a href="http://archives.miloush.net/michkap/archive/2008/08/21/8883467.html">A&P of Sort Keys, part 14: The Hangul is really getting OLD</a></p><p>2008/03/03 <a href="http://archives.miloush.net/michkap/archive/2008/03/03/7984960.html">On reversing the irreversible (grabbing the data, part II: the weirdness not so related to locales)</a></p><p>2007/01/01 <a href="http://archives.miloush.net/michkap/archive/2007/01/01/1388357.html">Report of an IME that splits and separates more Hangul by 9 am than most IMEs do all day</a></p></div><p><em>go to <a id="newer" href="http://archives.miloush.net/michkap/archive/2006/07/22/675085.html" title="Behind the return of the Unicode IME">newer</a> or <a id="older" href="http://archives.miloush.net/michkap/archive/2006/07/21/673813.html" title="We do seem to be short on time...">older</a> post, or back to <a href="http://archives.miloush.net/michkap/archive/index.html">index</a> or <a href="http://archives.miloush.net/michkap/archive/index.html#2006-07">month</a> or <a href="http://archives.miloush.net/michkap/archive/index.html#2006-07-22">day</a></em></p></body>
<!-- Mirrored from archives.miloush.net/michkap/archive/2006/07/22/674270.html by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 25 May 2017 00:42:39 GMT -->
</html>