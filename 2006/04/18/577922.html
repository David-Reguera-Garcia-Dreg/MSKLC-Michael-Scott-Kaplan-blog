<html>
<!-- Mirrored from archives.miloush.net/michkap/archive/2006/04/18/577922.html by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 25 May 2017 00:42:40 GMT -->
<head><meta charset="utf-8" /><meta name="viewport" content="width=device-width" /><title>Do what I do (not what I say)?</title></head><body>
<h1>Do what I do (not what I say)?</h1>
<p><em>by Michael S. Kaplan, published on 2006/04/18 03:01 -04:00, original URI: http://blogs.msdn.com/b/michkap/archive/2006/04/18/577922.aspx</em></p>
<hr/> <!-- Archival Source: ProcessPostNew -->
<P><FONT face=Tahoma>Having to deal with the double standard symbolized by the "<STRONG>Do what I say (not what I do!)</STRONG>" that some parents find themselves having to enforce seems almost like a part of life.</FONT></P>
<P><FONT face=Tahoma>Earlier today I got to see us handling it in the converse sense....</FONT></P>
<P><FONT face=Tahoma>Here is what the customer reported:</FONT></P>
<BLOCKQUOTE dir=ltr style="MARGIN-RIGHT: 0px">
<P><FONT face="Times New Roman" size=2>We have .resx files that contains error message strings in different languages. &nbsp;These are used to generate satellite assemblies when we compile. &nbsp;When we first created them, we had a problem with some German characters not appearing properly because of either ANSI or UTF8 encoding used to save the .resx file. &nbsp;In order to get by this problem, we had to go through each German .resx file and save it with Unicode encoding. &nbsp;Once this was done, this all worked fine with Visual Studio 2003. <BR><BR>Now that I'm converting to Visual Studio 2005, I got a compiler error because the encoding attribute on the XML header was set to UTF8 but the file was saved as Unicode. &nbsp;All I did to get by the problem is remove the encoding attribute from the XML header and it recompiled successfully. </FONT></P></BLOCKQUOTE></FONT>
<P><FONT face=Tahoma>Now what better example of&nbsp;"<STRONG>Do what I do (not what I say)</STRONG>" could be found than in a problem caused by what was apparently happening in 1.1 of the .NET Framework -- where we were doing what the BOM/encoding DID rather than what the XML header SAID?</FONT></P>
<P><FONT face=Tahoma>This is obviously not the most defensible strategy when it is stated in such a way -- and frankly, what is the meaning of&nbsp;the situation when the encoding attribute and the actual encoding are not the same? Isn't that just wrong?</FONT></P>
<P><FONT face=Tahoma>Perhaps, as most parents realize (when the found that children would simply not abide such a state of affairs!) it is best to make sure that <STRONG>What we do</STRONG> and <STRONG>What we say</STRONG> are the same thing....</FONT></P>
<P><FONT face=Tahoma></FONT>&nbsp;</P>
<P><FONT color=#ff1493><FONT face=Tahoma><EM>This post is sponsored by </EM>"ï»¿"<EM>&nbsp;</EM><EM><A href="http://www.fileformat.info/info/unicode/char/feff/index.htm">U+feff</A></EM></FONT><EM><FONT face=Tahoma>&nbsp;(ZERO WIDTH NO-BREAK SPACE, of course)</FONT></EM></FONT></P>
<hr/><p><a id="578410" href="#578410">#</a> <strong>Mihai</strong> on 18 Apr 2006 1:50 PM:</p><div style="margin-left: 1em">I think failing if there is a mismatch is the right thing to do.<br>A hint can be found here:<br><a rel="nofollow" target="_new" href="http://www.w3.org/TR/xml11/#sec-guessing">http://www.w3.org/TR/xml11/#sec-guessing</a><br>&lt;&lt;Like any self-labeling system, the XML encoding declaration will not work if any software changes the entity's character set or encoding without updating the encoding declaration.&gt;&gt;<br></div>
<p><a id="578559" href="#578559">#</a> <strong>Maurits [MSFT]</strong> on 18 Apr 2006 5:42 PM:</p><div style="margin-left: 1em">Maybe he thought &quot;Unicode&quot; really meant UTF-8 instead of UCS-2LE? Or that VS would sniff the XML header and &quot;save as (that encoding type)&quot;?<br><br>Failing is right. &nbsp;From the XML 1.0 spec:<br>&quot;It is a fatal error if an XML entity is determined (via default, encoding declaration, or higher-level protocol) to be in a certain encoding but contains octet sequences that are not legal in that encoding. It is also a fatal error if an XML entity contains no encoding declaration and its content is not legal UTF-8 or UTF-16.&quot;</div>
<hr/><p><em>go to <a id="newer" href="http://archives.miloush.net/michkap/archive/2006/04/18/577951.html" title="A cool post related to number formats">newer</a> or <a id="older" href="http://archives.miloush.net/michkap/archive/2006/04/17/577964.html" title="Aimee Mann on the TV show Love Monkey">older</a> post, or back to <a href="http://archives.miloush.net/michkap/archive/index.html">index</a> or <a href="http://archives.miloush.net/michkap/archive/index.html#2006-04">month</a> or <a href="http://archives.miloush.net/michkap/archive/index.html#2006-04-18">day</a></em></p></body>
<!-- Mirrored from archives.miloush.net/michkap/archive/2006/04/18/577922.html by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 25 May 2017 00:42:40 GMT -->
</html>