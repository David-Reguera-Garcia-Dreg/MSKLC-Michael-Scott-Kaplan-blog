<html>
<!-- Mirrored from archives.miloush.net/michkap/archive/2006/04/22/580636.html by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 25 May 2017 00:42:39 GMT -->
<head><meta charset="utf-8" /><meta name="viewport" content="width=device-width" /><title>Dial 911, code page 864 isn't breathing</title></head><body>
<h1>Dial 911, code page 864 isn't breathing</h1>
<p><em>by Michael S. Kaplan, published on 2006/04/22 03:01 -04:00, original URI: http://blogs.msdn.com/b/michkap/archive/2006/04/22/580636.aspx</em></p>
<hr/> <!-- Archival Source: ProcessPostNew -->
<P><FONT face=Tahoma>In the past I have had less than kind words to say about code pages <A HREF="http://archives.miloush.net/michkap/archive/2005/09/12/464327.html">20127</A>, <A HREF="http://archives.miloush.net/michkap/archive/2005/08/24/455446.html">20269</A>, and <A HREF="http://archives.miloush.net/michkap/archive/2005/04/19/409566.html">1258</A>. Well,&nbsp;with this post you will be able to add code page 864 to the list....</FONT></P>
<P><FONT face=Tahoma>Over in the microsoft.public.platformsdk.mslayerforunicode newsgroup, shanab asked:</FONT></P>
<BLOCKQUOTE dir=ltr style="MARGIN-RIGHT: 0px">
<P><FONT size=2>how i can encode from arabic(1256) to ibm(864) in c#.net?<BR><BR>i need help for this problem because i cannot encode and decode this.</FONT></P></BLOCKQUOTE>
<P><FONT face=Tahoma>Of course this question has nothing to do with MSLU, but it is common for people to see the word <STRONG>Unicode</STRONG> in the title and just post their question there. I think everyone is used to it. :-)</FONT></P>
<P><FONT face=Tahoma>Now in theory, since both code pages exist on Windows you could just pivot them through Unicode -- a simple <A href="http://msdn2.microsoft.com/en-us/library/system.text.encoding.aspx">Encoding</A>.<A href="http://msdn2.microsoft.com/en-us/library/wzsz3bk3.aspx">GetEncoding</A>(1256).<A href="http://msdn2.microsoft.com/en-us/library/744y86tc.aspx">GetString</A>() to go from&nbsp;<A href="http://www.microsoft.com/globaldev/reference/sbcs/1256.mspx">Windows code page 1256</A>&nbsp;to Unicode and a simple <A href="http://msdn2.microsoft.com/en-us/library/system.text.encoding.aspx">Encoding</A>.<A href="http://msdn2.microsoft.com/en-us/library/wzsz3bk3.aspx">GetEncoding</A>(864).<A href="http://msdn2.microsoft.com/en-us/library/ds4kkd55.aspx">GetBytes</A>() to go from Unicode to cp864.</FONT></P>
<P><FONT face=Tahoma>If we take a slightly modified version of the code from <A HREF="http://archives.miloush.net/michkap/archive/2006/01/20/515238.html">this post</A>&nbsp;and run it to get the list of characters in cp864, though (looking above 0x7f, of course!):</FONT></P>
<BLOCKQUOTE dir=ltr style="MARGIN-RIGHT: 0px">
<P><FONT face="Courier New" size=1>U+009b&nbsp; 0x9b<BR>U+009c&nbsp; 0x9c<BR>U+009f&nbsp; 0x9f<BR>U+00a0&nbsp; 0xa0<BR>U+00a2&nbsp; 0xc0<BR>U+00a3&nbsp; 0xa3<BR>U+00a4&nbsp; 0xa4<BR>U+00a6&nbsp; 0xdb<BR>U+00ab&nbsp; 0x97<BR>U+00ac&nbsp; 0xdc<BR>U+00ad&nbsp; 0xa1<BR>U+00b0&nbsp; 0x80<BR>U+00b1&nbsp; 0x93<BR>U+00b7&nbsp; 0x81<BR>U+00bb&nbsp; 0x98<BR>U+00bc&nbsp; 0x95<BR>U+00bd&nbsp; 0x94<BR>U+00d7&nbsp; 0xde<BR>U+00f7&nbsp; 0xdd<BR>U+03b2&nbsp; 0x90<BR>U+03c6&nbsp; 0x92<BR>U+060c&nbsp; 0xac<BR>U+061b&nbsp; 0xbb<BR>U+061f&nbsp; 0xbf<BR>U+0640&nbsp; 0xe0<BR>U+0651&nbsp; 0xf1<BR>U+0660&nbsp; 0xb0<BR>U+0661&nbsp; 0xb1<BR>U+0662&nbsp; 0xb2<BR>U+0663&nbsp; 0xb3<BR>U+0664&nbsp; 0xb4<BR>U+0665&nbsp; 0xb5<BR>U+0666&nbsp; 0xb6<BR>U+0667&nbsp; 0xb7<BR>U+0668&nbsp; 0xb8<BR>U+0669&nbsp; 0xb9<BR>U+2219&nbsp; 0x82<BR>U+221a&nbsp; 0x83<BR>U+221e&nbsp; 0x91<BR>U+2248&nbsp; 0x96<BR>U+2500&nbsp; 0x85<BR>U+2502&nbsp; 0x86<BR>U+250c&nbsp; 0x8d<BR>U+2510&nbsp; 0x8c<BR>U+2514&nbsp; 0x8e<BR>U+2518&nbsp; 0x8f<BR>U+251c&nbsp; 0x8a<BR>U+2524&nbsp; 0x88<BR>U+252c&nbsp; 0x89<BR>U+2534&nbsp; 0x8b<BR>U+253c&nbsp; 0x87<BR>U+2592&nbsp; 0x84<BR>U+25a0&nbsp; 0xfe<BR>U+f8be&nbsp; 0xa6<BR>U+f8bf&nbsp; 0xa7<BR>U+f8c0&nbsp; 0xff<BR>U+fe7d&nbsp; 0xf0<BR>U+fe80&nbsp; 0xc1<BR>U+fe81&nbsp; 0xc2<BR>U+fe82&nbsp; 0xa2<BR>U+fe83&nbsp; 0xc3<BR>U+fe84&nbsp; 0xa5<BR>U+fe85&nbsp; 0xc4<BR>U+fe8b&nbsp; 0xc6<BR>U+fe8d&nbsp; 0xc7<BR>U+fe8e&nbsp; 0xa8<BR>U+fe8f&nbsp; 0xa9<BR>U+fe91&nbsp; 0xc8<BR>U+fe93&nbsp; 0xc9<BR>U+fe95&nbsp; 0xaa<BR>U+fe97&nbsp; 0xca<BR>U+fe99&nbsp; 0xab<BR>U+fe9b&nbsp; 0xcb<BR>U+fe9d&nbsp; 0xad<BR>U+fe9f&nbsp; 0xcc<BR>U+fea1&nbsp; 0xae<BR>U+fea3&nbsp; 0xcd<BR>U+fea5&nbsp; 0xaf<BR>U+fea7&nbsp; 0xce<BR>U+fea9&nbsp; 0xcf<BR>U+feab&nbsp; 0xd0<BR>U+fead&nbsp; 0xd1<BR>U+feaf&nbsp; 0xd2<BR>U+feb1&nbsp; 0xbc<BR>U+feb3&nbsp; 0xd3<BR>U+feb5&nbsp; 0xbd<BR>U+feb7&nbsp; 0xd4<BR>U+feb9&nbsp; 0xbe<BR>U+febb&nbsp; 0xd5<BR>U+febd&nbsp; 0xeb<BR>U+febf&nbsp; 0xd6<BR>U+fec1&nbsp; 0xd7<BR>U+fec5&nbsp; 0xd8<BR>U+fec9&nbsp; 0xdf<BR>U+feca&nbsp; 0xc5<BR>U+fecb&nbsp; 0xd9<BR>U+fecc&nbsp; 0xec<BR>U+fecd&nbsp; 0xee<BR>U+fece&nbsp; 0xed<BR>U+fecf&nbsp; 0xda<BR>U+fed0&nbsp; 0xf7<BR>U+fed1&nbsp; 0xba<BR>U+fed3&nbsp; 0xe1<BR>U+fed5&nbsp; 0xf8<BR>U+fed7&nbsp; 0xe2<BR>U+fed9&nbsp; 0xfc<BR>U+fedb&nbsp; 0xe3<BR>U+fedd&nbsp; 0xfb<BR>U+fedf&nbsp; 0xe4<BR>U+fee1&nbsp; 0xef<BR>U+fee3&nbsp; 0xe5<BR>U+fee5&nbsp; 0xf2<BR>U+fee7&nbsp; 0xe6<BR>U+fee9&nbsp; 0xf3<BR>U+feeb&nbsp; 0xe7<BR>U+feec&nbsp; 0xf4<BR>U+feed&nbsp; 0xe8<BR>U+feef&nbsp; 0xe9<BR>U+fef0&nbsp; 0xf5<BR>U+fef1&nbsp; 0xfd<BR>U+fef2&nbsp; 0xf6<BR>U+fef3&nbsp; 0xea<BR>U+fef5&nbsp; 0xf9<BR>U+fef6&nbsp; 0xfa<BR>U+fef7&nbsp; 0x99<BR>U+fef8&nbsp; 0x9a<BR>U+fefb&nbsp; 0x9d<BR>U+fefc&nbsp; 0x9e</FONT></P></BLOCKQUOTE>
<P><FONT face=Tahoma>A quick glance of what cp864 supports explains why I talked about the ability to do this is something theoretical. :-)</FONT></P>
<P><FONT face=Tahoma>The only Unicode code points in the regular Arabic block in Unicode are the numbers, which are incidentally not in cp1256. Everything else in cp864 is from the Arabic Presentation Forms, which are not characters you want to be using if you can help it, as I point out in&nbsp;<STRONG><A HREF="http://archives.miloush.net/michkap/archive/2005/10/07/478127.html">It does not always pay to be compatible</A></STRONG>.</FONT></P>
<P><FONT face=Tahoma>Even worse, it does not support all four forms of even the basic Arabic characters (no fault of the code page, it is a fault of all code pages since there is not enough room!).</FONT></P>
<P><FONT face=Tahoma>So, the only real way to move between cp1256 and cp864 would be to write custom code to try to move into the presentation forms, and any time something is not supported I suppose just putting in the wrong form. Which would be a lot of work to support something that does not work very well anyway....</FONT></P>
<P><FONT face=Tahoma></FONT>&nbsp;</P>
<P><FONT face=Tahoma color=#ff1493><EM>This post brought to you by</EM> "ï»±" <EM>(<A href="http://www.fileformat.info/info/unicode/char/fef1">U+fef1</A>, a.k.a. ARABIC LETTER YEH ISOLATED FORM)</EM></FONT></P>
<hr/><p><a id="583215" href="#583215">#</a> <strong>Jhall5197</strong> on 25 Apr 2006 12:17 PM:</p><div style="margin-left: 1em">thanks for this article.<br><br>im trying to convert unicode to code page 864(the only code page the printer supports) for printing through serial ports, and i keep getting those darn question marks.<br><br>Any suggestions on what could be done?</div>
<p><a id="583312" href="#583312">#</a> <strong>Michael S. Kaplan</strong> on 25 Apr 2006 12:39 PM:</p><div style="margin-left: 1em">There is really not very much to be done here -- the code page is very inadequate at representing the language....</div>
<p><strong>Yuhong Bao</strong> on 18 Nov 2010 8:10 PM:</p><div style="margin-left: 1em"><p>If you really need to use an OEM codepage for Arabic, there is codepage 720.</p>
</div>
<p><strong>Yuhong Bao</strong> on 2 Nov 2012 2:25 AM:</p><div style="margin-left: 1em"><p>864 also maps the ASCII percent sign to U+066A, which is for example used as an escape characters in URLs, which is why Mozilla want to remove support for it from Firefox:</p>
<p><a rel="nofollow" target="_new" href="https://www.w3.org/Bugs/Public/show_bug.cgi?id=19250">www.w3.org/.../show_bug.cgi</a></p>
<p><a rel="nofollow" target="_new" href="https://bugzilla.mozilla.org/show_bug.cgi?id=797385">bugzilla.mozilla.org/show_bug.cgi</a></p>
</div>
<hr/><p><em>referenced by</em></p><div style="margin-left: 1em"><p>2008/09/14 <a href="http://archives.miloush.net/michkap/archive/2008/09/14/8950506.html">Johab to be kidding me!</a></p><p>2007/08/30 <a href="http://archives.miloush.net/michkap/archive/2007/08/30/4641553.html">The main criteria in determing whether a code page sucks? Suckage, of course!</a></p></div><p><em>go to <a id="newer" href="http://archives.miloush.net/michkap/archive/2006/04/22/581107.html" title="Getting all you can out of a keyboard layout, Part #10a">newer</a> or <a id="older" href="http://archives.miloush.net/michkap/archive/2006/04/21/580328.html" title="Every character has a story #20: U+210e (PLANCK CONSTANT)">older</a> post, or back to <a href="http://archives.miloush.net/michkap/archive/index.html">index</a> or <a href="http://archives.miloush.net/michkap/archive/index.html#2006-04">month</a> or <a href="http://archives.miloush.net/michkap/archive/index.html#2006-04-22">day</a></em></p></body>
<!-- Mirrored from archives.miloush.net/michkap/archive/2006/04/22/580636.html by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 25 May 2017 00:42:39 GMT -->
</html>