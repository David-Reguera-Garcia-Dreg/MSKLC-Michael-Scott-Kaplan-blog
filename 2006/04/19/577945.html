<html>
<!-- Mirrored from archives.miloush.net/michkap/archive/2006/04/19/577945.html by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 25 May 2017 00:42:40 GMT -->
<head><meta charset="utf-8" /><meta name="viewport" content="width=device-width" /><title>They called it the 'Surrogate IME'</title></head><body>
<h1>They called it the 'Surrogate IME'</h1>
<p><em>by Michael S. Kaplan, published on 2006/04/19 03:31 -04:00, original URI: http://blogs.msdn.com/b/michkap/archive/2006/04/19/577945.aspx</em></p>
<hr/> <!-- Archival Source: ProcessPostNew -->
<P><FONT face=Tahoma>A few years ago, the Chinese (PRC) and Chinese (Hong Kong) versions of Office XP shipped a new IME (Input Method Editor) that supported Unicode Extension A and Extension B, and a special version of the Simsun font that was expanded to support these characters, as well.</FONT></P>
<P><FONT face=Tahoma>It was pretty exciting, for those who found it, at least. :-)</FONT></P>
<P><FONT face=Tahoma>There was even a help file included, one that included information on how to use the IME and had code charts in various appendices.</FONT></P>
<P><FONT face=Tahoma>Unfortunately (for those don't know the language, at least), the help file was only in Chinese.</FONT></P>
<P><FONT face=Tahoma>At the time, a brave and daring vendor who was ruggedly handsome received permission to provide an English translation of the help file and decided to pay to have a localizer perform her magic on the file.</FONT></P>
<P><FONT face=Tahoma>In&nbsp;our hero's&nbsp;mind was the problem of trying to display all of the Extension A and B characters when most people would not have the font. I didn't want a bunch of NULL GLYPHS to show up, and I didn't want to us images to display them. What else could that brave/daring/handsome hero do?</FONT></P>
<P><FONT face=Tahoma><EM>(well, it was me, so odds are you can scratch the brave, daring, and handsome parts with a clear conscience...)</EM></FONT></P>
<P><FONT face=Tahoma>Luckily WEFT (the <A href="http://www.microsoft.com/typography/web/embedding/weft3/default.htm">Web Embedding Fonts Tool</A>) was around, and using a beta version of WEFT 3.1 provided to me by BorWare after I had provided info on the bugs I hit&nbsp;(the original 3.0 version had some '<A HREF="http://archives.miloush.net/michkap/archive/2006/02/06/525486.html">surrogates character</A>' bugs in it!), I was able to create .EOT files for the site, and to provide three versions of the charts:</FONT></P>
<UL>
<LI><FONT face=Tahoma>One with the Office XP font name specified;</FONT> 
<LI><FONT face=Tahoma>One with no font specified;</FONT> 
<LI><FONT face=Tahoma>One with the .EOT files specified.</FONT></LI></UL>
<P><FONT face=Tahoma>Later versions of WEFT (which presumably includes those bug fixes) is now available <A href="http://www.microsoft.com/typography/web/embedding/weft3/default.htm">here</A>, and that help file translation into English can be found <A href="http://i18nwithvb.com/surrogate_ime/"><STRONG>here</STRONG></A>.</FONT></P>
<P><FONT face=Tahoma>And in an upcoming post I'll talk about the (now publicly documented) embedding technology behind .EOT files. :-)</FONT></P>
<hr/><p><a id="580061" href="#580061">#</a> <strong>Maurits [MSFT]</strong> on 20 Apr 2006 2:35 PM:</p><div style="margin-left: 1em">The Netscape/Mozilla/Firefox analog of WEFT is Bitstream's &quot;truedoc&quot;<br><br><a rel="nofollow" target="_new" href="http://www.bitstream.com/font_rendering/products/truedoc/index.html">http://www.bitstream.com/font_rendering/products/truedoc/index.html</a><br><br>Basically you create a .pfr file instead of a .eof and link to it with the HTML &lt;link&gt; tag...<br><br>&lt;!-- This is how the font is downloaded in the truedoc method --&gt;<br>&lt;link rel=&quot;FONTDEF&quot; href=&quot;<a rel="nofollow" target="_new" href="http://www.truedoc.com/pfrs/snowcap.pfr">">http://www.truedoc.com/pfrs/snowcap.pfr&quot;&gt;</a><br><br>... and then you can use HTML &lt;font face=&quot;...&quot;&gt; or CSS font-family: ... at will.<br><br>Alas, nobody supports the standard CSS @font-face. :(<br><br>I'm looking at your translated docs from Windows 2000 and neither Firefox nor IE worked off the bat. &nbsp;I downloaded the SimSun font from here:<br><a rel="nofollow" target="_new" href="http://www.microsoft.com/downloads/details.aspx?FamilyID=fc02e2e3-14bb-46c1-afee-3732d6249647&amp;DisplayLang=en">http://www.microsoft.com/downloads/details.aspx?FamilyID=fc02e2e3-14bb-46c1-afee-3732d6249647&amp;DisplayLang=en</a><br><br>By tweaking Firefox's default font I was able to get some of the characters to display. &nbsp;I haven't gotten anything to display in IE but I'm still playing with the IE registry settings... not sure exactly what font name to use.</div>
<p><a id="580085" href="#580085">#</a> <strong>Maurits [MSFT]</strong> on 20 Apr 2006 3:34 PM:</p><div style="margin-left: 1em">EOT format is public now? Sweet. &nbsp;Maybe the world will at last see a cross-browser downloadable font solution.<br><br><a rel="nofollow" target="_new" href="http://channel9.msdn.com/ShowPost.aspx?PostID=65692">http://channel9.msdn.com/ShowPost.aspx?PostID=65692</a></div>
<p><a id="580110" href="#580110">#</a> <strong>Michael S. Kaplan</strong> on 20 Apr 2006 4:15 PM:</p><div style="margin-left: 1em">Of course, if something is not using EOT files (such as FireFox?), you must have a font installed that will support them, and choose the &quot;no fonts&quot; links.....<br><br>Everything should work in IE with the EOT versions, though.</div>
<hr/><p><em>referenced by</em></p><div style="margin-left: 1em"><p>2006/05/13 <a href="http://archives.miloush.net/michkap/archive/2006/05/13/596774.html">Font embedding -- the intro</a></p></div><p><em>go to <a id="newer" href="http://archives.miloush.net/michkap/archive/2006/04/19/578767.html" title="What do the latest episode of Love Monkey, Beth Orton, Kathleen Edwards, Luke Doucet, and Kristin Connell have in common?">newer</a> or <a id="older" href="http://archives.miloush.net/michkap/archive/2006/04/18/578557.html" title="There is a bug in Part #9b!">older</a> post, or back to <a href="http://archives.miloush.net/michkap/archive/index.html">index</a> or <a href="http://archives.miloush.net/michkap/archive/index.html#2006-04">month</a> or <a href="http://archives.miloush.net/michkap/archive/index.html#2006-04-19">day</a></em></p></body>
<!-- Mirrored from archives.miloush.net/michkap/archive/2006/04/19/577945.html by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 25 May 2017 00:42:40 GMT -->
</html>