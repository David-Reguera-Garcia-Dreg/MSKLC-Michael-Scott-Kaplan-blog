<html>
<!-- Mirrored from archives.miloush.net/michkap/archive/2006/01/12/511920.html by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 25 May 2017 00:42:40 GMT -->
<head><meta charset="utf-8" /><meta name="viewport" content="width=device-width" /><title>What is the name of that character?</title></head><body>
<h1>What is the name of that character?</h1>
<p><em>by Michael S. Kaplan, published on 2006/01/12 15:03 -05:00, original URI: http://blogs.msdn.com/b/michkap/archive/2006/01/12/511920.aspx</em></p>
<hr/> <!-- Archival Source: ProcessPostNew -->
<P><FONT face=Tahoma>To date, </FONT><FONT face=Tahoma>I haven't spent very much time in&nbsp;the MSDN Forums.</FONT></P>
<P><FONT face=Tahoma>Not that&nbsp;they are not cool or anything like that. I think that the work that <a href="http://blogs.msdn.com/jledgard/default.aspx">Josh Ledgard</A> and others have put into the setup and that so many community members&nbsp;have put into answering questions has been very cool</FONT></P>
<P><FONT face=Tahoma>It is just that there are so many hours in a day, and between my actual work and the limited time in which I allow myself to&nbsp;have an actual life,&nbsp;reading&nbsp;blogs and posting to this one&nbsp;takes up whatever time is left over. A whole new place to be looking is just a bit more than I can handle in my spare time.</FONT></P>
<P><FONT face=Tahoma>ButI think it&nbsp;is an awesome resource because of its differences. The truth is that some people will be comfortable with newsgroups, others with blogs, still others with PSS phone calls, and&nbsp;yes -- some with the MSDN Forums. And so on.&nbsp; Since the goal is to get the questions answered so&nbsp;that people are helped, giving multiple different means of&nbsp;providing assistance helps&nbsp;make sure more people can get what they need.</FONT></P>
<P><FONT face=Tahoma>Which is not to say I never make it to the MSDN Forums. Because from time to&nbsp;time, <a href="http://blogs.msdn.com/stfisher/default.aspx">Stephen Fisher</A> will notice an 'international' question that has not yet been&nbsp;answered&nbsp;and he'll have me take a look.... :-)</FONT></P>
<P><FONT face=Tahoma>Anyway, a few weeks ago, Carl M.&nbsp;asked the following question <A href="http://forums.microsoft.com/MSDN/ShowPost.aspx?PostID=175125&amp;SiteID=1">here</A>:</FONT></P>
<BLOCKQUOTE dir=ltr style="MARGIN-RIGHT: 0px">
<BLOCKQUOTE dir=ltr style="MARGIN-RIGHT: 0px">
<P><SPAN><FONT color=#000000 size=1>How can I get the descriptio(name)&nbsp;of a char in English?&nbsp;Assume&nbsp;the string it comes from is normalized.</FONT></P>
<P><FONT size=1><FONT color=#0000ff>public static string</FONT> GetDescription(<FONT color=#0000ff>char</FONT> c){<BR>&nbsp;&nbsp;<FONT color=#006400>&nbsp;</FONT></FONT><FONT color=#006400 size=1>//? how to return the description<BR></FONT><FONT size=1>}</FONT></P>
<P><FONT size=1>For example <FONT color=#000000>GetDescription(<FONT color=#a52a2a>'ñ'</FONT>)</FONT> should return <FONT color=#a52a2a>"Latin small letter n with a tilde"</FONT></FONT></P>
<P><FONT size=1>What about&nbsp;composite characters like most of the Hebrew letters?</FONT></P>
<P><FONT size=1>Thanks in advance</FONT></P>
<P><FONT size=1>Carl</FONT></P></BLOCKQUOTE></BLOCKQUOTE></SPAN>
<P><FONT face=Tahoma>Unfortunately, there is nothing in the&nbsp;.NET Framework that will return the Unicode character names. These are not produced algorithmically but&nbsp;are instead assigned when characters are added to Unicode.And although they usually seem to follow nice,&nbsp;neat rules there are plenty of them that are not intuitive or understandable.</FONT></P>
<P><FONT face=Tahoma>Occasionally there is a bug where the name is not&nbsp;even correct! </FONT><FONT face=Tahoma>But the rules are clearly laid out in #2 the <A href="http://www.unicode.org/standard/stability_policy.html">Stability Policy for the Unicode Standard</A>:</FONT></P><FONT face=Tahoma>
<BLOCKQUOTE dir=ltr style="MARGIN-RIGHT: 0px">
<BLOCKQUOTE dir=ltr style="MARGIN-RIGHT: 0px">
<P class=clauseName><B><A name=Name></A>2. Name Stability</B></P>
<P class=clauseApplicability><I><B><SPAN>Applicable Version: Unicode 2.0+</SPAN></B></I></P>
<P class=clauseStatement><B>Once a character is encoded, its character name will not be changed.</B></P>
<P>The character names are used to distinguish <I>between</I> characters, and do not always express the full meaning of each character. They are designed to be used programmatically, and thus must be stable.</P>
<P>In some cases the original name chosen to represent the character is inaccurate in one way or another. Any such inaccuracies are dealt with by adding annotations to the character name list (which is printed in the Unicode Standard and provided in a <A href="http://www.unicode.org/Public/UNIDATA/NamesList.html">machine-readable format</A>), or by adding descriptive text to the standard.</P>
<P><I><B>Note: </B>It is possible to produce translated names for the characters, to make the information conveyed by the name accessible to non-English speakers.</I> </P></BLOCKQUOTE></BLOCKQUOTE></FONT>
<P><FONT face=Tahoma>So for&nbsp;every character there is one and only one official name, and to get that name you have to be using something that is storing the&nbsp;actual name.</FONT></P>
<P><FONT face=Tahoma>Which the .NET Framework does not have. It is not something that is even very common as a functionality in Microsoft products (well, <A href="http://www.microsoft.com/globaldev/tools/msklc.mspx">MSKLC</A> has them and so does <A href="http://www.microsoft.com/windowsxp/homeusers/articles/5tips.mspx">Character Map</A> in Windows (both of them use a slightly friendlier proper cased&nbsp;name rather than the official ALL CAPS one). But there is no public function in the Win32 or .NET APIs to provide the info.</FONT></P>
<P><FONT face=Tahoma>Though of course it is always something that can be&nbsp;considered for a future version if the scenarios are compelling enough -- so if you have a requirement then feel free to explain your scenario here. :-)</FONT></P>
<P><FONT face=Tahoma>On the Unicode side, there are plans afoot to provide mechanisms to fix really awful mistakes without violating those stability guarantees, something that I will talk more about when it becomes a reality.</FONT></P>
<P><FONT face=Tahoma></FONT>&nbsp;</P>
<P><FONT face=Tahoma color=#ff1493><EM>This post brought to you by</EM> "<FONT face="Mongolian Baiti" size=6>ᢆ</FONT>" <EM>(<A href="http://www.fileformat.info/info/unicode/char/1886">U+1886</A>, a.k.a. MONGOLIAN LETTER ALI GALI THREE BALUDA)</EM></FONT></P>
<hr/><p><a id="512258" href="#512258">#</a> <strong>Dean Harding</strong> on 12 Jan 2006 6:14 PM:</p><div style="margin-left: 1em">It's not that hard to generate the database yourself. You can just download the NamesList.txt file from the unicode character database and parse it. When stored in a binary (and perhaps compressed as well) form, it shouldn't be that big (it's about 800KB uncompressed), and if it's something your app actually needs, then it's probably the &quot;best&quot; solution.<br><br>Here's the URL for the most up-to-date NamesList.txt:<br><a rel="nofollow" target="_new" href="http://www.unicode.org/Public/UNIDATA/NamesList.txt">http://www.unicode.org/Public/UNIDATA/NamesList.txt</a></div>
<p><a id="512323" href="#512323">#</a> <strong>Yosuke HASEGAWA</strong> on 12 Jan 2006 8:19 PM:</p><div style="margin-left: 1em">Unpublished API &quot;GetUName&quot; in GETUNAME.DLL provides that function. Of course,  this function is inadvisablethis.</div>
<p><a id="512328" href="#512328">#</a> <strong>Maurits [MSFT]</strong> on 12 Jan 2006 8:33 PM:</p><div style="margin-left: 1em">Perhaps a compiled version of the nameslist.txt file could be included in Windows?</div>
<p><a id="512330" href="#512330">#</a> <strong>Maurits [MSFT]</strong> on 12 Jan 2006 8:41 PM:</p><div style="margin-left: 1em">As to a use-case scenario... consider international URIs.  If a URL is blocked because it contains (for example) a CYRILLIC CAPITAL LETTER BYELORUSSIAN-UKRAINIAN I masquerading as a LATIN CAPITAL LETTER I, how are you going to communicate that to the user?<br><br>Wrong answer: Sorry user, but there was a &quot;І&quot; in the URL which looks very much like a &quot;I&quot;<br><br>Better: Sorry user, but there was a<br>CYRILLIC CAPITAL LETTER BYELORUSSIAN-UKRAINIAN I<br>which looks very much like a<br>LATIN CAPITAL LETTER I</div>
<p><a id="512331" href="#512331">#</a> <strong>Michael S. Kaplan</strong> on 12 Jan 2006 8:42 PM:</p><div style="margin-left: 1em">Right-o, Dean!<br><br>Yosuke is correct -- though it is not advised to use undocumented entry points....<br><br>Maurits -- this is where the scenarios come in. Getting in features is not about HOW or HOW EASY, its about WHY. :-)</div>
<p><a id="512332" href="#512332">#</a> <strong>Michael S. Kaplan</strong> on 12 Jan 2006 8:43 PM:</p><div style="margin-left: 1em">There you go! It's all about the WHY. :-)</div>
<p><a id="512342" href="#512342">#</a> <strong>Robert</strong> on 12 Jan 2006 9:03 PM:</p><div style="margin-left: 1em">It would be nice if GetUName would be made public. This is an extremely useful function, and I am using it in my app to let the user pick a symbol, but of course I would be happier if knew I am using the right buffer size, whether it will work in future versions of Windows, etc.</div>
<p><a id="512373" href="#512373">#</a> <strong>Michael S. Kaplan</strong> on 12 Jan 2006 11:12 PM:</p><div style="margin-left: 1em">Honestly, it is much safer to not call it, because where it sits is not the right place for an NLS API, if something ever were going to be done here.<br><br>Better to be safe....</div>
<p><a id="512396" href="#512396">#</a> <strong>Dean Harding</strong> on 13 Jan 2006 1:30 AM:</p><div style="margin-left: 1em">I wrote up a little program which downloads NamesList.txt and parses it, just for fun. Only 150 lines of C#, including comments!<br><br><a rel="nofollow" target="_new" href="http://www.codeka.com/blogs/index.php/dean/2006/01/13/getting_the_name_of_a_unicode_character">http://www.codeka.com/blogs/index.php/dean/2006/01/13/getting_the_name_of_a_unicode_character</a><br><br>:-)</div>
<p><a id="512406" href="#512406">#</a> <strong>Abhinaba Basu [MSFT]</strong> on 13 Jan 2006 2:30 AM:</p><div style="margin-left: 1em">I needed the exact same thing before I began working in Microsoft. Additional requirement was it needed to be cross-platform. So we wrote a script that just took the NameList.txt (from <a rel="nofollow" target="_new" href="http://www.unicode.org/Public/UNIDATA/NamesList.txt">http://www.unicode.org/Public/UNIDATA/NamesList.txt</a>) parsed it and directly created a C++ file out of it. This file was build with our system and hence the whole list was available as a C++ object. It was a bit heavy on memory but worked like a charm.....</div>
<p><a id="512410" href="#512410">#</a> <strong>Abhinaba Basu [MSFT]</strong> on 13 Jan 2006 2:37 AM:</p><div style="margin-left: 1em">You can take a look into IBM ICU library as well. AFAIK its free for use (even commercial use). It runs on Windows and gives you this functionaloty and more. Check out <a rel="nofollow" target="_new" href="http://www.ibm.com/software/globalization/icu/">http://www.ibm.com/software/globalization/icu/</a>. It has Doxygen commenting so you can directly peek into there header files to see the API reference. You can get the name of a character using u_charName <a rel="nofollow" target="_new" href="http://icu.sourceforge.net/apiref/icu4c/uchar_8h.html#a559">http://icu.sourceforge.net/apiref/icu4c/uchar_8h.html#a559</a> or do a reverse lookup and get the character with a given name.<br><br>The only issue I faced with this is that all of these API's uses UTF-32 and I had to keep jugling between UTF16 and UTF32</div>
<p><a id="512448" href="#512448">#</a> <strong>Richard Gadsden</strong> on 13 Jan 2006 5:46 AM:</p><div style="margin-left: 1em">Wouldn't a web service, which can be updated as the Unicode standard is updated, be a better solution than a Windows function?</div>
<p><a id="512678" href="#512678">#</a> <strong>Abhinaba Basu [MSFT]</strong> on 13 Jan 2006 3:13 PM:</p><div style="margin-left: 1em">Richard, in case Unicode does come up with such a web-service and I use it for my word-processing software, don't you think I'll have in place the world's slowest word-processor? <br><br>Unicode character lookup like whether to break a line at a given character happens for each character in a document, when text layout happens. So you are looking towards a million web-service calls each time you open the doc. Oh by the way there's another restriction that you can open the doc only when you are connected to the internet :)</div>
<p><a id="512695" href="#512695">#</a> <strong>Michael S. Kaplan</strong> on 13 Jan 2006 3:48 PM:</p><div style="margin-left: 1em">A better model would probably be the one MSKLC uses -- a menu option to download update unicode data files.</div>
<p><a id="514375" href="#514375">#</a> <strong>CarlMeis</strong> on 18 Jan 2006 12:41 PM:</p><div style="margin-left: 1em">Hi everybody. I am the one that started all this. <br><br>It's been a while since I posted it. It got zero mileage in two other forums and was unanswered in the MSDN one too. The alerts don't work too good. I didn't even know Michael Kaplan replied.<br><br>I am glad I got you thinking. I have since then parsed the html <a rel="nofollow" target="_new" href="http://www.unicode.org/Public/UNIDATA/NamesList.txt">http://www.unicode.org/Public/UNIDATA/NamesList.txt</a><br><br>I used a dataset so that in the future I(ar an admin) could subcategorize at will, not just official categories, and without digging into the code. Charmap.exe poorly categorizes.<br><br>A practical example is an algorithm that analyzes text and determines the language.<br><br>I have one that is based on spelling errors over a certain threshold. The algorithm is much more effective if first characters that are not from the same alphabet are cleaned out.<br><br>Operations that depend on string length are improved too if it is a known universe of double or single code points.<br><br>I needed the names to plug them into the error messages much like what Mauritz talks about with international URLs.<br><br>The utility is not effective as a anti-spam tool where char spoofing is intentional. It works well as a server validator that a user's input is not in French if a textbox is intended to be for &quot;fr&quot; input.<br><br>Another nice use is at the QA stage when translating resources. It can search through the resx files and identify untranslated data nodes if their inner text does not match the culture in the file name.<br><br><br><br><br>   <br><br><br><br><br><br> <br><br>I did since then parse the </div>
<p><a id="514380" href="#514380">#</a> <strong>Michael S. Kaplan</strong> on 18 Jan 2006 12:54 PM:</p><div style="margin-left: 1em">I would not really try to use character NAMES for that, tho -- better to use other Unicode props, all things considered....</div>
<p><a id="514412" href="#514412">#</a> <strong>CarlMeis</strong> on 18 Jan 2006 1:40 PM:</p><div style="margin-left: 1em">What could be more friendly to a non-technical user than the char name?<br><br>How do we use getuname.dll?<br><br></div>
<p><a id="514501" href="#514501">#</a> <strong>Michael S. Kaplan</strong> on 18 Jan 2006 4:02 PM:</p><div style="margin-left: 1em">If you have parsed nameslist.txt then you definitely would not be  considered a non-technical user. :-)<br><br>And of course calling a undocumented funtion in n undocumented library is also a bit more than a non-technical user would be able to do, either....<br><br>You can look at the names in CharMap, of you can actually parse the names and other info out of the UCD (the databaase where you got nameslist.txt from) to get all of the poperties....</div>
<p><a id="514886" href="#514886">#</a> <strong>CarlMeis</strong> on 19 Jan 2006 11:59 AM:</p><div style="margin-left: 1em">Michael,<br><br>I think we got some wires crossed here. I am not sure what you meant by &quot;I would not really try to use character NAMES for that&quot; Whatever &quot;THAT&quot; was. I shouldn't have replied to it if I was not sure.<br><br>By user I meant user of my code. That is whom I show my error messages identifying the char by name.<br><br>I am a geek for sure. So I guess I do qualify to play with matches. How do we use getuname.dll?<br><br>I would sure want to check it out and decide for myself. Appreciate a non-judgmental answer.<br><br></div>
<p><a id="514918" href="#514918">#</a> <strong>Michael S. Kaplan</strong> on 19 Jan 2006 12:45 PM:</p><div style="margin-left: 1em">It is neither documented nor supported to call it, and there is no guarantee that it will work the same it indeed work at all in a future version -- so you should not call it.<br><br>Will it reformat your hard drive, or physically harm the user who runs the code? Probably not. But if it crashes the application that tries to call it, then that is an application bug.<br><br>I am not being judgmental, but I am being realistic about using unsupported technologies.<br><br>But Unicode is an available standard and anybody can grab down files from the UCD and use them if they want to show the character names. Until/unless MS does something more here, that is the best MS can provide....</div>
<p><strong>Đonny</strong> on 24 Nov 2011 4:00 PM:</p><div style="margin-left: 1em"><p>Based on this:</p>
<p><a rel="nofollow" target="_new" href="http://code.google.com/p/reactos-mirror/source/browse/trunk/reactos/dll/win32/getuname/getuname.c?spec=svn36692&amp;r=36692">code.google.com/.../getuname.c</a></p>
<p>GetUName signature is:</p>
<p>int WINAPI GetUName(IN WORD wCharCode, OUT LPWSTR lpBuf);</p>
<p>Which chan be imported to VB like</p>
<p>Public Declare Function GetUName Lib &quot;getuname.dll&quot; (ByVal wCharCode As UShort, &lt;MarshalAs(UnmanagedType.LPWStr)&gt; ByVal lpbuf As System.Text.StringBuilder) As Integer</p>
<p>Return value seems to be number of characters written to lpBuf.</p>
<p>I use it like this:</p>
<p>Dim buff As New StringBuilder(1024)</p>
<p>Dim ret = API.Misc.GetUName(codePoint, buff)</p>
<p>If ret &lt;= 0 Then Return Nothing</p>
<p>Return buff.ToString</p>
<p>Than to <a rel="nofollow" target="_new" href="http://blogs.microsoft.co.il/blogs/sasha/archive/2008/01/12/p-invoke-signature-generator.aspx">blogs.microsoft.co.il/.../p-invoke-signature-generator.aspx</a>, I forgot that I can use StringBuilder for LPWSTR.</p>
</div>
<hr/><p><em>referenced by</em></p><div style="margin-left: 1em"><p>2008/05/31 <a href="http://archives.miloush.net/michkap/archive/2008/05/31/8565229.html">Character Map is being quite the [Ol ]Chiki monkey</a></p></div><p><em>go to <a id="newer" href="http://archives.miloush.net/michkap/archive/2006/01/12/512061.html" title="Suggest a Topic (January 12, 2006)">newer</a> or <a id="older" href="http://archives.miloush.net/michkap/archive/2006/01/12/511884.html" title="The creation of sort keys does not always make sense">older</a> post, or back to <a href="http://archives.miloush.net/michkap/archive/index.html">index</a> or <a href="http://archives.miloush.net/michkap/archive/index.html#2006-01">month</a> or <a href="http://archives.miloush.net/michkap/archive/index.html#2006-01-12">day</a></em></p></body>
<!-- Mirrored from archives.miloush.net/michkap/archive/2006/01/12/511920.html by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 25 May 2017 00:42:40 GMT -->
</html>