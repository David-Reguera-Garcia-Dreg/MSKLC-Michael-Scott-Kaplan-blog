<html>
<!-- Mirrored from archives.miloush.net/michkap/archive/2006/01/18/514171.html by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 25 May 2017 00:42:40 GMT -->
<head><meta charset="utf-8" /><meta name="viewport" content="width=device-width" /><title>Digits -- there is no substitute</title></head><body>
<h1>Digits -- there is no substitute</h1>
<p><em>by Michael S. Kaplan, published on 2006/01/18 03:01 -05:00, original URI: http://blogs.msdn.com/b/michkap/archive/2006/01/18/514171.aspx</em></p>
<hr/> <!-- Archival Source: ProcessPostNew -->
<P><FONT face=Tahoma>I have kind of talked about digit substitution now and again since I <A HREF="http://archives.miloush.net/michkap/archive/2005/04/24/411329.html"><STRONG>started</STRONG></A><STRONG> </STRONG><A HREF="http://archives.miloush.net/michkap/archive/2004/12/01/272864.html"><STRONG>with</STRONG></A><STRONG> </STRONG><A HREF="http://archives.miloush.net/michkap/archive/2005/09/09/462920.html"><STRONG>this</STRONG></A><STRONG> </STRONG><A HREF="http://archives.miloush.net/michkap/archive/2005/07/09/437071.html"><STRONG>blog</STRONG></A>.</FONT></P>
<P><FONT face=Tahoma>And&nbsp;I went on and on about the impressive model for the future in the <A HREF="http://archives.miloush.net/michkap/archive/2005/04/24/411329.html"><STRONG>Is Whidbey's international support finished?</STRONG></A> post, and after all the work was done in Whidbey to make sure that if you tried to make assignments to the new <A href="http://msdn2.microsoft.com/library/3081ex9k(en-us,vs.80).aspx">NumberFormatInfo.NativeDigits</A> property -- there had to be exactly ten, they had&nbsp; to all have the Nd general category with a value that matched the position the characters were in (so you could not turn 5 into 7 or whatever).</FONT></P>
<P><FONT face=Tahoma>Of course if I only knew then what I know now I may not have worked with people to have such functionality working so hard to validate the input!</FONT></P>
<P><FONT face=Tahoma>Why, you might ask?</FONT></P>
<P><FONT face=Tahoma>Well, i</FONT><FONT face=Tahoma>t turns out that the values are not used by either Windows or the .NET Framework, at least not in the way that you might think....</FONT></P>
<P><FONT face=Tahoma>You see, b</FONT><FONT face=Tahoma>oth GDI+ and Uniscribe have hardcoded lists of digits, and if you are going through one of them and you have your LOCALE_IDIGITSUBSTITUTION set to context or native and then digit substitution becomes appropiate</FONT><FONT face=Tahoma>,&nbsp;it will look at just one of the digits and then use its script characteristics to pick from the hardcoded list of digits.</FONT></P>
<P><FONT face=Tahoma>They arbitrarily decided to go with the DIGIT ONE value since at the time this work was initially done the </FONT><FONT face=Tahoma>Tamil script had no TAMIL DIGIT ZERO (it has since been added at U+0be6).</FONT></P>
<P><FONT face=Tahoma>So it really does not matter from the Microsoft point of view what is in <A href="http://msdn2.microsoft.com/library/3081ex9k(en-us,vs.80).aspx">NumberFormatInfo.NativeDigits</A>&nbsp;or LOCALE_SNATIVEDIGITS via <A href="http://msdn.microsoft.com/library/en-us/intl/nls_34rz.asp">GetLocaleInfo</A>, other that first digit -- and only then if they know about that digit.</FONT></P>
<P><FONT face=Tahoma>Here is definitely a&nbsp;limitation to be addressed for a future version....</FONT></P>
<P><FONT face=Tahoma>Though in the meantime it is data that is available in applications that want to use the data correctly. No one has to wait for MS to get around to using it right. :-)</FONT></P>
<P><FONT face=Tahoma></FONT>&nbsp;</P>
<P><FONT face=Tahoma color=#ff1493><EM>This post brought to you by</EM> <EM><A href="http://www.fileformat.info/info/unicode/char/0be6">U+0be6</A>, a.k.a. TAMIL DIGIT ZERO</EM></FONT></P>
<hr/><div style="margin-left: 1em"><em>no comments</em></div><hr/><p><em>referenced by</em></p><div style="margin-left: 1em"><p>2011/09/28 <a href="http://archives.miloush.net/michkap/archive/2011/09/28/10217550.html">Whodvethunk it'd be GDI+ injecting a little sanity into digit shenanigans?</a></p><p>2010/11/12 <a href="http://archives.miloush.net/michkap/archive/2010/11/12/10088056.html">Suddenly, in a bit more time than a blink of an eye, "standards support" becomes "less i18n support"</a></p><p>2010/01/18 <a href="http://archives.miloush.net/michkap/archive/2010/01/18/9949627.html">Yet another digit substitution[.Net] problem</a></p><p>2008/10/02 <a href="http://archives.miloush.net/michkap/archive/2008/10/02/8971896.html">When swimming in a sea of CONTEXT, applications can drown (and there is no lifeguard)</a></p><p>2008/04/21 <a href="http://archives.miloush.net/michkap/archive/2008/04/21/8413510.html">Windows doesn't let you choose the pinch hitter in digit substitution cases</a></p><p>2007/08/10 <a href="http://archives.miloush.net/michkap/archive/2007/08/10/4322536.html">I've been to the desert on a dead key with no name</a></p><p>2007/02/14 <a href="http://archives.miloush.net/michkap/archive/2007/02/14/1675303.html">Nothing seems to be parsing the crap out of *this* number</a></p><p>2006/06/18 <a href="http://archives.miloush.net/michkap/archive/2006/06/18/636180.html">The Phantom of the Digits</a></p><p>2006/04/26 <a href="http://archives.miloush.net/michkap/archive/2006/04/26/583390.html">How to NOT Parse Unicode Digits, or How to: Parse Unicode Digits... NOT!</a></p><p>2006/02/22 <a href="http://archives.miloush.net/michkap/archive/2006/02/22/536877.html">And the digits just keep on coming</a></p></div><p><em>go to <a id="newer" href="http://archives.miloush.net/michkap/archive/2006/01/18/514314.html" title="What do U+0223 and U+0657 have in common?">newer</a> or <a id="older" href="http://archives.miloush.net/michkap/archive/2006/01/17/513651.html" title="Getting the language of Office">older</a> post, or back to <a href="http://archives.miloush.net/michkap/archive/index.html">index</a> or <a href="http://archives.miloush.net/michkap/archive/index.html#2006-01">month</a> or <a href="http://archives.miloush.net/michkap/archive/index.html#2006-01-18">day</a></em></p></body>
<!-- Mirrored from archives.miloush.net/michkap/archive/2006/01/18/514171.html by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 25 May 2017 00:42:40 GMT -->
</html>