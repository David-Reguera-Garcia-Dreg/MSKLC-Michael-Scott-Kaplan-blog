<html>
<!-- Mirrored from archives.miloush.net/michkap/archive/2006/10/12/818619.html by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 25 May 2017 00:42:39 GMT -->
<head><meta charset="utf-8" /><meta name="viewport" content="width=device-width" /><title>It's LIFO (last-in, first-out) in Hebrew</title></head><body>
<h1>It's LIFO (last-in, first-out) in Hebrew</h1>
<p><em>by Michael S. Kaplan, published on 2006/10/12 03:56 -04:00, original URI: http://blogs.msdn.com/b/michkap/archive/2006/10/12/818619.aspx</em></p>
<hr/> <!-- Archival Source: ProcessPostNew -->
<P>You may remember when I posted this last March about <A href="http://archives.miloush.net/michkap/archive/2006/03/12/549951.html" mce_href="http://archives.miloush.net/michkap/archive/2006/03/12/549951.html"><STRONG>Traditional versus modern sorts</STRONG></A>, specifically talking about two different practices used for the sorting of Jamo -- one used in North Korea and the other in South Korea. And how both had a reasonable basis for their choices (even though they conflicted with each other). </P>
<P>And you may also remember just yesterday when I posted <A href="http://archives.miloush.net/michkap/archive/2006/10/11/817290.html" mce_href="http://archives.miloush.net/michkap/archive/2006/10/11/817290.html"><STRONG>You got your latins in my hebrew! No, you got your hebrew in my latins!</STRONG></A>, a post that was showing the Hebrew alphabet over and over again using different fonts. </P>
<P>Let's see if&nbsp;I can juxtapose some of the concepts together and perhaps add a new dimension at the same time. :-) </P>
<P>First we will look at the order of the letters again, as I posted them (remember it is right to left!):</P>
<P><FONT size=6>אבגדהוזחטיכךלמםנןסעפףצץקרשת</FONT></P>
<P>Now some of these letters are actually the 'final forms' and are only used at the end of a word. Marking them in <FONT color=#ff0000>red</FONT> here, with their non-final forms marked in <FONT color=#008000>green</FONT>.</P>
<P><FONT size=6>אבגדהוזחטי<FONT color=#008000>כ</FONT><FONT color=#ff0000>ך</FONT>ל<FONT color=#008000>מ</FONT><FONT color=#ff0000>ם</FONT><FONT color=#008000>נ</FONT><FONT color=#ff0000>ן</FONT>סע<FONT color=#008000>פ</FONT><FONT color=#ff0000>ף</FONT><FONT color=#008000>צ</FONT><FONT color=#ff0000>ץ</FONT>קרשת</FONT></P>
<P>This is the way that Hebrew is often taught (it is certainly the way I learned it). But there are other times it is&nbsp;shown in a slightly different way, with the final forms at the end:</P>
<P><FONT size=6>אבגדהוזחטי<FONT color=#008000>כ</FONT>ל<FONT color=#008000>מ</FONT><FONT color=#008000>נ</FONT>סע<FONT color=#008000>פ</FONT><FONT color=#008000>צ</FONT>קרשת<FONT color=#ff0000>ך</FONT><FONT color=#ff0000>ם</FONT><FONT color=#ff0000>ן</FONT><FONT color=#ff0000>ף</FONT><FONT color=#ff0000>ץ</FONT></FONT></P>
<P>Now as far as I know the text would never expect to be sorted this way, but in the system where Hebrew letters are given numerical values (<A href="http://en.wikipedia.org/wiki/Hebrew_alphabet#Numerical_value_and_pronunciation" mce_href="http://en.wikipedia.org/wiki/Hebrew_alphabet#Numerical_value_and_pronunciation">more info here</A>), the final forms are not given unique numbers, so this ordering can be useful since it means just one number per element, from א to ת.</P>
<P>Now if one were trying to guess which order was being used by Unicode, one might think that the first order would be preferred. </P>
<P>Then after I told you this is not what Unicode does, you might ask (bemused at this point, and assuming some numerological fiend was behind the original proposal) whether the first order was chosen. </P>
<P>Then I'd tell you this was not the order they used either. In Unicode, the order is as follows (from <A href="http://www.fileformat.info/info/unicode/char/05d0" mce_href="http://www.fileformat.info/info/unicode/char/05d0">U+05d0</A> for Alef to <A href="http://www.fileformat.info/info/unicode/char/05ea" mce_href="http://www.fileformat.info/info/unicode/char/05ea">U+05ea</A> for Tav):</P>
<P><FONT size=6>אבגדהוזחטי<FONT color=#ff0000>ך</FONT><FONT color=#008000>כ</FONT>ל<FONT color=#ff0000>ם</FONT><FONT color=#008000>מ</FONT><FONT color=#ff0000><FONT color=#ff0000>ן</FONT></FONT><FONT color=#008000>נ</FONT>סע<FONT color=#ff0000>ף</FONT><FONT color=#008000>פ</FONT><FONT color=#ff0000><FONT color=#ff0000>ץ</FONT></FONT><FONT color=#008000>צ</FONT>קרשת</FONT></P>
<P>Huh? Why the hell are the final forms listed before the non-final ones?</P>
<P>Well, it is not only that way in Unicode; you can see the same thing in <A href="http://www.microsoft.com/globaldev/reference/sbcs/1255.mspx" mce_href="http://www.microsoft.com/globaldev/reference/sbcs/1255.mspx">Windows code page 1255</A>, <A href="http://www.microsoft.com/globaldev/reference/oem/862.mspx" mce_href="http://www.microsoft.com/globaldev/reference/oem/862.mspx">OEM code page 862</A>, and <A href="http://www.microsoft.com/globaldev/reference/iso/28598.mspx" mce_href="http://www.microsoft.com/globaldev/reference/iso/28598.mspx">ISO code page 8859-8</A>.</P>
<P>Which is of course not an answer to the question, at all, now is it? :-)</P>
<P>The answer is pretty much&nbsp;a purely technical one with no real linguistic basis.&nbsp;You see,&nbsp;from a collation standpoint, <STRONG>abcd</STRONG> always comes before <STRONG>abcd_</STRONG> (where the blank is filled with any letter). And therefore in a language like Hebrew, when that letter <STRONG>d</STRONG> is a final form, it would always come before the <STRONG>d</STRONG> when it is not. And therefore a string comparison determining which string comes first will come to its result faster in this case. </P>
<P>Now as a technical solution I find this to be entirely unsatisfying and more than a little bit lame. Why couldn't things have been set up so that if the&nbsp;word ends with a <STRONG>מ</STRONG> (mem) then it automatically replaces it with a <STRONG>ם</STRONG> (mem sofit, a.k.a. final mem). </P>
<P>It is really (in my opinion) just as bad in its own way as the issue with Korean Jamo where the&nbsp;consonants are encoded twice (once for the initial form, once for the final form), a&nbsp;technique that really has nothing to do with language and is really grounded in a desire for a technical solution that does not take into account what any normal native language speaker recognizes as the truth.</P>
<P>In the Hebrew case in particular, I feel like we have let those native Hebrew speakers down for the encoding itself, in a small way. A way that makes anyone who looks in Character Map have to see this back-asswards ordering:</P>
<P><IMG src="http://trigeminal.fmsinc.com/images/hebrewCharmap.png" mce_src="http://trigeminal.fmsinc.com/images/hebrewCharmap.png"></P>
<P>This is an ordering that even a six year old knows is wrong!</P>
<P>On the other hand, making the six year old look at the grid from left to right is probably just as annoying; I wonder if the Hebrew localized version of Character Map mirrors the grid?</P>
<P>Now there is one bit of happy news in all this, though (in my opinion), and that is in collation. The final form in Hebrew is given an identical primary weight to the non-final form; there is only a tertiary difference (so passing NORM_IGNORECASE) will treat them as being equal which, in a wider sense, they are. </P>
<P>And it turns out the UCA does something analogous here with a tertiary weight, too. :-)</P>
<P>Because in the end any attempt to support collation in the order of the way the letters are encoded is going to be lame and/or stupid and/or wrong. They would have been better off making the language look better in the list than trying to get clever with the technical solutions....</P>
<P mce_keep="true">&nbsp;</P>
<P><FONT color=#ff0080><EM>This post brought to you by</EM> <STRONG><FONT size=7>ץ</FONT></STRONG> <EM>(<A href="http://www.fileformat.info/info/unicode/char/05e5" mce_href="http://www.fileformat.info/info/unicode/char/05e5">U+05e5</A>, a.k.a. HEBREW LETTER FINAL TSADI)</EM></FONT></P>
<hr/><p><a id="819412" href="#819412">#</a> <strong>Simon Montagu</strong> on 12 Oct 2006 8:23 AM:</p><div style="margin-left: 1em"><p>The Hebrew localized Character Map does mirror the grid (which of course makes the left-to-right alphabets and numerical ranges look pretty odd -- sometimes there are no right answers to Bidi UI questions).</p>
<p>The trouble with automatic replacing of final letters is that there are exceptions. There's a final mem in the middle of a word in Isaiah 9:6, and many words from foreign languages are spelled with a medial כ or פ at the end of the word, e.g. &quot;ג׳יפ&quot;, &quot;a jeep&quot;, or the name of the Egyptian president חוסני מובארכ. The rule here is simple if you know a little Hebrew grammar: when the last letter of the word is a בג״ד כפ״ת letter with a dagesh and with no following vowel (which can never occur in native Hebrew words), don't use the final form even if one exists.</p>
<p>If Hebrew were being encoded in Unicode today as a new script these problems could all be overcome by using zero-width joiners and non-joiners, but I'm not sure that those had been thought of back when the first Hebrew encodings were defined (I think by IBM in the 1950s).</p></div>
<p><a id="819767" href="#819767">#</a> <strong>Michael S. Kaplan</strong> on 12 Oct 2006 10:48 AM:</p><div style="margin-left: 1em"><p>Fair enough -- though how many native Hebrew speakers think that order looks right? :-)</p>
</div>
<p><a id="828178" href="#828178">#</a> <strong>Joel Spolsky</strong> on 15 Oct 2006 5:15 AM:</p><div style="margin-left: 1em"><p>A more common place you'll see non-final forms at the end of a word is in abbreviations... יבמ is IBM, for example, and they did the first encoding :)</p></div>
<hr/><p><em>referenced by</em></p><div style="margin-left: 1em"><p>2007/09/02 <a href="http://archives.miloush.net/michkap/archive/2007/09/02/4712047.html">Acronyms vs. initialisms, across languages</a></p></div><p><em>go to <a id="newer" href="http://archives.miloush.net/michkap/archive/2006/10/13/823105.html" title="Local experiences in Norway: the Nynorsk LIP!">newer</a> or <a id="older" href="http://archives.miloush.net/michkap/archive/2006/10/12/818619.html" title="It&#39;s LIFO (last-in, first-out) in Hebrew">older</a> post, or back to <a href="http://archives.miloush.net/michkap/archive/index.html">index</a> or <a href="http://archives.miloush.net/michkap/archive/index.html#2006-10">month</a> or <a href="http://archives.miloush.net/michkap/archive/index.html#2006-10-12">day</a></em></p></body>
<!-- Mirrored from archives.miloush.net/michkap/archive/2006/10/12/818619.html by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 25 May 2017 00:42:39 GMT -->
</html>