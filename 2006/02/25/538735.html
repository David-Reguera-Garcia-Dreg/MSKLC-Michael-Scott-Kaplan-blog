<html>
<!-- Mirrored from archives.miloush.net/michkap/archive/2006/02/25/538735.html by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 25 May 2017 00:42:40 GMT -->
<head><meta charset="utf-8" /><meta name="viewport" content="width=device-width" /><title>EM_SETCUEBANNER vs. international support in XP and Server 2003</title></head><body>
<h1>EM_SETCUEBANNER vs. international support in XP and Server 2003</h1>
<p><em>by Michael S. Kaplan, published on 2006/02/25 05:01 -05:00, original URI: http://blogs.msdn.com/b/michkap/archive/2006/02/25/538735.aspx</em></p>
<hr/> <!-- Archival Source: ProcessPostNew -->
<P><FONT face=Tahoma>Yesterday, s</FONT><FONT face=Tahoma>omeone named Mike asked me, via the <A href="http://archives.miloush.net/michkap/archive/2004/11/01/280092.html"><STRONG>Contacting Michael...</STRONG></A> link:</FONT></P>
<BLOCKQUOTE dir=ltr style="MARGIN-RIGHT: 0px">
<P><FONT face="Times New Roman" size=2>Hey there, I have a problem. I have a program that uses EM_SETCUEBANNER to add grey hint text to an edit control, something like "Enter search here".</FONT></P>
<P><FONT face="Times New Roman" size=2>After installing east asian language support however, this has stopped working. I'm doing a presentation in a week where I will need to specifically point out the cue banner, and show japanese text working...</FONT></P>
<P><FONT face="Times New Roman" size=2>Any help?</FONT></P>
<P><FONT face="Times New Roman" size=2>Thanks</FONT></P></BLOCKQUOTE>
<P><FONT face=Tahoma>Now as I point out in that contact link, I really am not Product Support, and I don't want people to think that they are going to get timely answers to support questions by using that link. If I posted stats on the number of them that I don't respond to you might think me heartless (unless you read them, in whuch case you would understand why I am not really going to be able to help people fix their Win98 installs or their wireless support).</FONT></P>
<P><FONT face=Tahoma>In this particular case, the fact that it is an&nbsp;issue that affects internationalization and may well be of <A href="http://www.grafxsoft.com/whatsnew27a.htm">general</A> <A href="http://vbnet.mvps.org/index.html?code/textapi/setcuebanner.htm">interest</A> to a whole bunch of people </FONT><FONT face=Tahoma>has kind of pushed me to make an exception....</FONT></P>
<P><FONT face=Tahoma>I&nbsp;built a small test application&nbsp;to&nbsp;confirm that the issue does indeed exist, and being the impatient sort who realized that in Vista when&nbsp;international support is&nbsp;always enabled that the complete loss of the <A href="http://msdn.microsoft.com/library/en-us/shellcc/platform/commctls/editcontrols/editcontrolreference/editcontrolmessages/em_setcuebanner.asp">EM_SETCUEBANNER message</A> would kind of suck, I took my small test application and ran it on Vista, a little bit scared....</FONT></P>
<P><FONT face=Tahoma>Luckily, </FONT><FONT face=Tahoma>the problem has been fixed in Vista.</FONT></P>
<P><FONT face=Tahoma>Unfortunately, there really is no workaround at the moment, in the shipping versions of Windows. The choice has to be explicitly made between language support and cue banners.</FONT></P>
<P><FONT face=Tahoma>Which kind of explains the other reason that I made an exception in this case -- that communal sense of guilt that Microsoft employees sometimes feel when well-intentioned features&nbsp;conflict and cause a quite unintentional bug. Even when it was caused, discovered, found, and fixed before it was even known to such an employee....</FONT></P>
<P><FONT face=Tahoma>Sorry about that, Mike. Even if something can be done here eventually, there is no way it can happen by next week. :-(</FONT></P>
<P><FONT face=Tahoma></FONT>&nbsp;</P>
<P><FONT face=Tahoma color=#ff1493><EM>This post brought to you by</EM> "<FONT face=Nyala size=6>ጯ</FONT>" <EM>(<A href="http://www.fileformat.info/info/unicode/char/132f">U+132f</A>, ETHIOPIC SYLLABLE CHWA)</EM></FONT></P>
<hr/><p><a id="539129" href="#539129">#</a> <strong>Björn</strong> on 25 Feb 2006 7:32 AM:</p><div style="margin-left: 1em">The completely aimless shot into the darK: Wouldn't a workaround be to subclass said edit control and draw the hint text on your own in WM_ERASEBKGND? As this is necessary for pre XP OSes anyway it might be even more than a workaround though.</div>
<p><a id="540065" href="#540065">#</a> <strong>Mike</strong> on 27 Feb 2006 2:34 PM:</p><div style="margin-left: 1em">I really appreciate the response, I'll just have to use a screenshot or something ;)<br><br>Thanks.</div>
<hr/><p><em>referenced by</em></p><div style="margin-left: 1em"><p>2006/07/24 <a href="http://archives.miloush.net/michkap/archive/2006/07/24/676072.html">Our highly internationalized OS uses DPI, aka Dots Per In-.... um, never mind!</a></p></div><p><em>go to <a id="newer" href="http://archives.miloush.net/michkap/archive/2006/02/28/540429.html" title="Some localized Regional and Language Options tags">newer</a> or <a id="older" href="http://archives.miloush.net/michkap/archive/2006/02/24/538496.html" title="Two guys walked into a bar, but the bar was broken">older</a> post, or back to <a href="http://archives.miloush.net/michkap/archive/index.html">index</a> or <a href="http://archives.miloush.net/michkap/archive/index.html#2006-02">month</a> or <a href="http://archives.miloush.net/michkap/archive/index.html#2006-02-25">day</a></em></p></body>
<!-- Mirrored from archives.miloush.net/michkap/archive/2006/02/25/538735.html by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 25 May 2017 00:42:40 GMT -->
</html>