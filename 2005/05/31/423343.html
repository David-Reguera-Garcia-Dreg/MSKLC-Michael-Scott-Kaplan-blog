<html>
<!-- Mirrored from archives.miloush.net/michkap/archive/2005/05/31/423343.html by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 25 May 2017 00:42:41 GMT -->
<head><meta charset="utf-8" /><meta name="viewport" content="width=device-width" /><title>When complex scripts are not too complex</title></head><body>
<h1>When complex scripts are not too complex</h1>
<p><em>by Michael S. Kaplan, published on 2005/05/31 03:46 -04:00, original URI: http://blogs.msdn.com/b/michkap/archive/2005/05/31/423343.aspx</em></p>
<hr/> <!-- Archival Source: ProcessPostNew -->
<P><FONT face=Tahoma><a href="http://blogs.msdn.com/oldnewthing/default.aspx">Raymond Chen</A> did a post yesterday entitled <STRONG><a href="http://blogs.msdn.com/oldnewthing/archive/2005/05/30/423202.aspx">You can't simulate keyboard input with PostMessage</A></STRONG>.</FONT></P>
<P><FONT face=Tahoma>He did touch on the complicated language issues, saying:</FONT></P>
<BLOCKQUOTE dir=ltr style="MARGIN-RIGHT: 0px">
<P><FONT face=Tahoma size=2><EM>First of all, keyboard input is a more complicated matter than those who imprinted on the English keyboard realize. Languages with accent marks have dead keys, Far East languages have a variety of Input Method Editors, and I have no idea how complex script languages handle input. There's more to typing a character than just pressing a key.</EM></FONT></P></BLOCKQUOTE>
<P><FONT face=Tahoma>This is a subject I have covered before a little bit. The fact is that these APIs in the USER subsystem (from <A href="http://msdn.microsoft.com/library/en-us/winui/winui/windowsuserinterface/userinput/keyboardinput/keyboardinputreference/keyboardinputfunctions/tounicode.asp">ToUnicode</A> to <A href="http://msdn.microsoft.com/library/en-us/winui/winui/windowsuserinterface/userinput/keyboardinput/keyboardinputreference/keyboardinputfunctions/sendinput.asp">SendInput</A> and so on) all keep a certain amount of state. not just the state of shift keys like Raymond mentioned, but state related to&nbsp;when you have typed a dead key (so that it knows when you type the next key whether the dead key table contains the combination you have just typed). There is actually even an MSDN topic that helps describe some of the complex process entitled <A href="http://msdn.microsoft.com/library/en-us/winui/winui/windowsuserinterface/userinput/keyboardinput/aboutkeyboardinput.asp">About Keyboard Input</A>.</FONT></P>
<P><FONT face=Tahoma>And once you get into IMEs, the complex rules related to state that the IME must keep really boggle the imagination. It is probably easier to use the Input Method Manager (IMM) APIs to try to get input through an IME than to try and fake keystrokes....</FONT></P>
<P><FONT face=Tahoma>Luckily, the one issue that is not really all that complex is complex scripts. Because the actual issuses that make it complex (bidirectional text, contextual shaping, line breaking, and illegal sequence checking) are all related to what happens to the text <EM>after</EM> you have typed the keystrokes -- the font linking and the rendering. </FONT></P>
<P><FONT face=Tahoma>Well, that and knowing what to type,&nbsp;of course! Being able to have words even look like they belong together in languages like Thai and Hindi and Tamil really requires either knowing the language or memorizing keystrokes. Which is the same as when dealing with IMEs (in my book I had a chapter that talked about keystroke combinations you could use to test IMEs, it was a lot of fun and I still get positive feedback, enough that I may start posting examples of stuff like that soon.</FONT></P>
<P><FONT face=Tahoma><EM>(Let me know if that sort of thing seems like it might be interesting -- I never know what people will find&nbsp;engaging here!)</EM></FONT></P>
<P><FONT face=Tahoma></FONT>&nbsp;</P>
<P><FONT face=Tahoma><FONT color=#ff0000><EM>This post brought to you by </EM>"<FONT size=1>à®‚</FONT>"<EM> (<A href="http://www.fileformat.info/info/unicode/char/0b82/index.htm">U+0b82</A>, a.k.a. TAMIL SIGN ANUSVARA)<BR><FONT size=1>(which is annotated in Unicode as "not used in Tamil" though several people who deal with Sanskrit in Tamil would beg to differ!)</FONT></EM></FONT></FONT></P>
<hr/><p><a id="423475" href="#423475">#</a> <strong>CN</strong> on 31 May 2005 11:47 AM:</p><div style="margin-left: 1em">This was interesting, it made me get around and test what happens if you press a dead-key + Alt-Tab + normal key in another window, or go back to your original window. Of course, this makes perfect sense if the state is kept in the same way as Shift. (BTW, that state, or worse, the Control state, getting out of sync isn't fun.)</div>
<p><a id="423590" href="#423590">#</a> <strong>Ambarish Sridharanarayanan</strong> on 31 May 2005 5:02 PM:</p><div style="margin-left: 1em">Michkap wrote:<br>&gt; (Let me know if that sort of thing seems like it might be interesting -- I never know what people will find engaging here!)<br><br>Oh, most certainly! Since I use Windows regularly to generate Devanagari and Tamil text, I'd love any dicsussion on this front. Topics I'd love to hear about include Indic languages IMEs shipping in Windows. The Tamil/Devanagari keyboard layouts Windows ships with are close to useless for someone using US keyboards, and <a rel="nofollow" target="_new" href="http://www.bhashaindia.com/Downloads/downloads.aspx">http://www.bhashaindia.com/Downloads/downloads.aspx</a> doesn't quite have enough polish, IMHO.</div>
<p><a id="425273" href="#425273">#</a> <strong>Suzanne McCarthy</strong> on 4 Jun 2005 7:04 PM:</p><div style="margin-left: 1em">I too find that I can't generate Tamil text from a Microsoft keyboard. This may not be surprising since I don't speak Tamil but I work with children who do. <br><br>I prefer to use Kuralsoft which offers visual order input or even better the online syllabic editor. Here is my school website and Tamil links for both.<br><br><a rel="nofollow" target="_new" href="http://livingstone.vsb.bc.ca/multiliteracy/languagelinks/tamillinks.htm">http://livingstone.vsb.bc.ca/multiliteracy/languagelinks/tamillinks.htm</a></div>
<p><a id="425558" href="#425558">#</a> <strong>Suzanne McCarthy</strong> on 6 Jun 2005 2:38 AM:</p><div style="margin-left: 1em">Hi, Just wanted to let you know that I have posted a couple of entries at <br><br><a rel="nofollow" target="_new" href="http://abecedaria.blogspot.com/">http://abecedaria.blogspot.com/</a><br><br>in reponse to yours since keyboard input for complex scripts and CKJ IME's are something I have been trying out with children for a couple of years.</div>
<hr/><p><em>go to <a id="newer" href="http://archives.miloush.net/michkap/archive/2005/05/31/423617.html" title="Not a Birds of a Feather, but something for TechEd 2005">newer</a> or <a id="older" href="http://archives.miloush.net/michkap/archive/2005/05/30/423290.html" title="The GrokTalk meme spreads">older</a> post, or back to <a href="http://archives.miloush.net/michkap/archive/index.html">index</a> or <a href="http://archives.miloush.net/michkap/archive/index.html#2005-05">month</a> or <a href="http://archives.miloush.net/michkap/archive/index.html#2005-05-31">day</a></em></p></body>
<!-- Mirrored from archives.miloush.net/michkap/archive/2005/05/31/423343.html by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 25 May 2017 00:42:41 GMT -->
</html>