<html>
<!-- Mirrored from archives.miloush.net/michkap/archive/2005/09/26/473738.html by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 25 May 2017 00:42:41 GMT -->
<head><meta charset="utf-8" /><meta name="viewport" content="width=device-width" /><title>The PUA? P.U. !</title></head><body>
<h1>The PUA? P.U. !</h1>
<p><em>by Michael S. Kaplan, published on 2005/09/26 03:01 -04:00, original URI: http://blogs.msdn.com/b/michkap/archive/2005/09/26/473738.aspx</em></p>
<hr/> <!-- Archival Source: ProcessPostNew -->
<P><FONT face=Tahoma>Not everything is in Unicode.</FONT></P>
<P><FONT face=Tahoma>I mean, it is close, but there are still lots of things that are not there. They fall into two categories:</FONT></P>
<UL>
<LI><FONT face=Tahoma>Items that are not appropriate for encoding within Unicode, such as already encoded characters, logos, and other such things;</FONT> 
<LI><FONT face=Tahoma>Items that make sense to encode but have not been encoded yet.</FONT></LI></UL>
<P><FONT face=Tahoma>There are some areas of the Unicode code space that have been set aside for supporting such situation. The title for them is the Private Use Area. From the <A href="http://www.unicode.org/glossary/">Unicode Glossary</A>:</FONT></P>
<UL>
<LI><EM><A name=private_use><STRONG><FONT size=2>Private Use</FONT></STRONG></A></EM><FONT size=2>. Refers to designated code points in the Unicode Standard or other character encoding standards whose interpretations are not specified in those standards and whose use may be determined by private agreement among cooperating users.</FONT> 
<LI><I><A name=private_use_code_point><STRONG><FONT size=2>Private-Use Code Point</FONT></STRONG></A></I><FONT size=2>. Code points in the ranges U+E000..U+F8FF, U+F0000..U+FFFFD, and U+100000..U+10FFFD. (See definition D12 in </FONT><A href="http://www.unicode.org/versions/Unicode4.0.0/ch03.pdf"><FONT size=2>Section 3.5, Properties</FONT></A><FONT size=2>.) These code points are designated in the Unicode Standard for private use.</FONT></LI></UL>
<P><FONT face=Tahoma>One the most important points is in that first definition: "<FONT face="Times New Roman" color=#ff0000><EM>whose use may be determined by private agreement among cooperating users</EM></FONT>"</FONT></P>
<P><FONT face=Tahoma>This would seem to be no better than&nbsp;the hack font solutions that often go with non-Unicode solutions out there. And to be honest, it is not really any better at all, being basically a shtetl (of if one prefers, ghetto)&nbsp;for characters that are not in Unicode at this time.</FONT></P>
<P><FONT face=Tahoma>Now that i think about it, I guess it is a little better than&nbsp;a font hack&nbsp;in that it does act like a shtetl and keeps the custom stuff&nbsp;out of pure character data that uses assigned Unicode code points.</FONT></P>
<P><FONT face=Tahoma>But it also means that none of the Unicode property data, or fonts/font linking, or shaping engines can be used on big operating systems since they do not know what the characters are. Without arguing or even attempting to argue the semantic content&nbsp;of a term like "private use" it is just plain common sense that if it is in Windows, then it is hardly private....</FONT></P>
<P><FONT face=Tahoma>And this is why (for example) the PUA is not considered "sortable" according to the <A href="http://msdn.microsoft.com/library/en-us/intl/nls_19ev.asp">IsNLSDefinedString</A> function or the <A href="http://msdn2.microsoft.com/en-us/library/ms143036">CompareInfo.IsSortable</A> method, even though they are (in fact) given weight.</FONT></P>
<P><FONT face=Tahoma>Web standards tend to think along the same lines, an the PUA is not considered acceptable for ideal use in identifiers in many contexts, such as XML. They are definitely second class citizens.</FONT></P>
<P><FONT face=Tahoma>With that said, they will work. You have to build your own font, and you cannot hope to have the shaping done for you by Uniscribe and you have to build your own keyboard with a tool like <A href="http://www.microsoft.com/globaldev/tools/msklc.mspx">MSKLC</A>, but if you do all of that and&nbsp;arrive with no unrealistic expectations (and of course if you distribute your fonts and keyboards and so on to users yourself!) then things should work well or you.</FONT></P>
<P><FONT face=Tahoma>But never forget that you are in the "do it yourself" or the "some assembly required" area of Unicode. The area where the only thing that is done for you is to give your characters a segregated space where they will not be mistaken for other, valid characters....</FONT></P>
<P><FONT face=Tahoma></FONT>&nbsp;</P>
<P><FONT face=Tahoma color=#800080><EM>This post brought to you by</EM> "<FONT size=6></FONT>" <EM>(<A href="http://www.fileformat.info/info/unicode/char/f8ff/index.htm">U+f8ff</A>, a.k.a. the last <A href="http://www.fileformat.info/info/unicode/block/private_use_area/index.htm">PUA</A> character on the Basic Multilingual Plane)</EM></FONT></P>
<hr/><p><a id="473886" href="#473886">#</a> <strong>Vorn</strong> on 26 Sep 2005 3:11 AM:</p><div style="margin-left: 1em">Linked image shows what I see on Safari.<br><br>I think it's kinda funny.<br><br>Vorn</div>
<p><a id="473979" href="#473979">#</a> <strong>Michael S. Kaplan</strong> on 26 Sep 2005 11:18 AM:</p><div style="margin-left: 1em">Hmmmm.... the PUA, taking a bite out of Apple? :-)<br><br>I wonder what font sticks *that* glyph into the PUA?</div>
<p><a id="474149" href="#474149">#</a> <strong>Mihai</strong> on 26 Sep 2005 5:40 PM:</p><div style="margin-left: 1em">&quot;I wonder what font sticks *that* glyph into the PUA?&quot;<br><br>I think all Apple fonts.<br>If you check the Apple Roman code page (<a rel="nofollow" target="_new" href="ftp://ftp.unicode.org/Public/MAPPINGS/VENDORS/APPLE/ROMAN.TXT">ftp://ftp.unicode.org/Public/MAPPINGS/VENDORS/APPLE/ROMAN.TXT</a>)<br>you will this comment:<br><br># The following corporate zone Unicode character is used in this mapping:<br>#     0xF8FF  Apple logo<br><br>and in the mapping table:<br>0xF0	0xF8FF	# Apple logo<br></div>
<p><a id="475237" href="#475237">#</a> <strong>Tom Van Hauwaert</strong> on 29 Sep 2005 4:29 AM:</p><div style="margin-left: 1em">I am computarising a symbol script that is used in dance. The script itself exists for many years, but users are still struggling with bitmaps and pen tablets when it comes down to using the symbols on a computer.<br><br>I agree that the PUA can be seen as the unicode version of hacked fonts. But the PUA helps me right now doing business as did the hacked fonts before unicode was supported.<br>Developers need some kind of sketch area. Since the unicode consortium is the only instance that can move private scripts out of the PUA and into another plane, I first need to prove them that the script is well defined, understood and agreed upon by the users community.<br><br>In the mean time I am stuck with the PUA. Not that I regret it, because the option of moving my script out of the BMP, will bring me lots of new problems. For example, font development. I did develop a font that supports my script and that also contains the basic Latin set. This allows users to open documents in notepad (single font for the whole document) and still see all (Latin) characters and symbols. When the symbols are moved out of the BMP, this will no longer be possible, because a true-type font is designed with only one plane in mind. The cmap table contains 0xffff elements and there is no way to tell the font that some glyphs are in plane 0 and other glyphs in plane 1. I am not sure whether open-type supports multiple planes, I didn't do much reading about it.<br><br>At first glance, the PUA was the perfect solution for me. Later, when I tried to input my PUA characters into Microsoft applications, I thought PUA? PU! Because nothing that works for normal characters works for PUA characters: ALT+NUM KEYS (automatic switch to simsun font), the Office international symbols add-in (no support for PUA and private fonts), charmap (because my symbols are too large to fit in the available space), etcetera.<br><br>Luckily, the keyboard layout creator doesn't complain about the PUA and works perfect. Unfortunatly, my script contains more then 1000 symbols and therefore I will end up with 10 keyboard layouts. Not the perfect solution, but it is a start and in the mean time I keep working on the TSF - which is so much harder to get working.</div>
<hr/><p><em>referenced by</em></p><div style="margin-left: 1em"><p>2007/05/21 <a href="http://archives.miloush.net/michkap/archive/2007/05/21/2782610.html">MS Word says PUA is EA/CJK? TISNF!</a></p><p>2007/01/19 <a href="http://archives.miloush.net/michkap/archive/2007/01/19/1492539.html">For HKSCS, Vista ≫ 2004, and 2004 ≫ 2001</a></p><p>2006/07/22 <a href="http://archives.miloush.net/michkap/archive/2006/07/22/675085.html">Behind the return of the Unicode IME</a></p><p>2006/07/10 <a href="http://archives.miloush.net/michkap/archive/2006/07/10/661427.html">The PUA isn't complex enough</a></p></div><p><em>go to <a id="newer" href="http://archives.miloush.net/michkap/archive/2005/09/27/474261.html" title="Acronyms do not become words that fast!">newer</a> or <a id="older" href="http://archives.miloush.net/michkap/archive/2005/09/25/473686.html" title="Extending collation support in SQL Server and Jet, Part 2.1 (is this on?)">older</a> post, or back to <a href="http://archives.miloush.net/michkap/archive/index.html">index</a> or <a href="http://archives.miloush.net/michkap/archive/index.html#2005-09">month</a> or <a href="http://archives.miloush.net/michkap/archive/index.html#2005-09-26">day</a></em></p></body>
<!-- Mirrored from archives.miloush.net/michkap/archive/2005/09/26/473738.html by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 25 May 2017 00:42:41 GMT -->
</html>