<html>
<!-- Mirrored from archives.miloush.net/michkap/archive/2005/12/05/499949.html by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 25 May 2017 00:42:40 GMT -->
<head><meta charset="utf-8" /><meta name="viewport" content="width=device-width" /><title>What's up with the language names?</title></head><body>
<h1>What's up with the language names?</h1>
<p><em>by Michael S. Kaplan, published on 2005/12/05 03:01 -05:00, original URI: http://blogs.msdn.com/b/michkap/archive/2005/12/05/499949.aspx</em></p>
<hr/> <!-- Archival Source: ProcessPostNew -->
<P><FONT face=Tahoma>Late last week,&nbsp;there was a bug in&nbsp;some builds of Vista where one of the language names in Regional and Language Options and the&nbsp;Input Languages dialogs were apparently being duplicated. I was working with my manager to fix a different issue and for a while we thought it might be related to the fix we were working on. After establishing it wasn't us, we decided a&nbsp;separate bug should probably just be reported....</FONT></P>
<P><FONT face=Tahoma>Then on Saturday I was doing a review for a bug fix someone else was doing for a separate bug, which happened to be the cause of the very duplicated name problem we had seen. It all came toegther.</FONT></P>
<P><FONT face=Tahoma>And then just yesterday, Serge Wautier asked me in the Suggestion Box:</FONT></P>
<BLOCKQUOTE dir=ltr style="MARGIN-RIGHT: 0px">
<P><FONT size=2><EM>Hi Michael, </EM></FONT></P>
<P><FONT size=2><EM>Why does GetLocaleInfo(...,LOCALE_SLANGUAGE,...) include the country name when the sublanguage is not unique ? After all, there is LOCALE_SCOUNTRY for the ones who want. </EM></FONT></P>
<P><FONT size=2><EM>Also, LOCALE_SENGLANGUAGE does not include the country name, apparently making it kind of inconsistent with its non-ENG pal. </EM></FONT></P>
<P><FONT size=2><EM>How do I retrieve the localized name of a language without the country ? </EM></FONT></P>
<P><FONT size=2><EM>Friendly, </EM></FONT></P>
<P><FONT size=2><EM>Serge. </EM></FONT></P></BLOCKQUOTE>
<P><FONT face=Tahoma>And yes, this is related!</FONT></P>
<P><FONT face=Tahoma>Let's take a look at all of the different language and country names here. First the managed:</FONT></P>
<UL>
<LI><FONT face=Tahoma><A href="http://msdn2.microsoft.com/en-us/library/system.globalization.cultureinfo.displayname.aspx">CultureInfo.DisplayName</A> - </FONT><FONT face="Times New Roman">Gets the culture name in the format "&lt;languagefull&gt; (&lt;country/regionfull&gt;)" in the language of the localized version of .NET Framework.</FONT> 
<LI><FONT face=Tahoma><A href="http://msdn2.microsoft.com/en-us/library/system.globalization.cultureinfo.englishname.aspx">CultureInfo.EnglishName</A> - </FONT><FONT face="Times New Roman">Gets the culture name in the format "&lt;languagefull&gt; (&lt;country/regionfull&gt;)" in English.</FONT> 
<LI><FONT face=Tahoma><A href="http://msdn2.microsoft.com/en-us/library/system.globalization.cultureinfo.nativename.aspx">CultureInfo.NativeName</A> - </FONT><FONT face="Times New Roman">Gets the culture name in the format "&lt;languagefull&gt; (&lt;country/regionfull&gt;)" in the language that the culture is set to display.</FONT> 
<LI><FONT face=Tahoma><A href="http://msdn2.microsoft.com/en-us/library/system.globalization.regioninfo.displayname.aspx">RegionInfo.DisplayName</A> -&nbsp;<FONT face="Times New Roman">Gets the full name of the country/region in the language of the localized version of .NET Framework.</FONT>&nbsp;</FONT> 
<LI><FONT face=Tahoma><A href="http://msdn2.microsoft.com/en-us/library/system.globalization.regioninfo.englishname.aspx">RegionInfo.EnglishName</A> - </FONT><FONT face="Times New Roman">Gets the full name of the country/region in English.</FONT> 
<LI><FONT face=Tahoma><A href="http://msdn2.microsoft.com/en-us/library/system.globalization.regioninfo.nativename.aspx">RegionInfo.NativeName</A> - </FONT><FONT face="Times New Roman">Gets the name of a region formatted in the native language of the region.</FONT></LI></UL>
<P><FONT face=Tahoma>And here is the unmanaged, all coming from <A href="http://msdn.microsoft.com/library/en-us/intl/nls_34rz.asp">GetLocaleInfo</A> and some of its <A href="http://msdn.microsoft.com/library/en-us/intl/nls_8rse.asp">LCType</A> values:</FONT></P>
<UL>
<LI><FONT face=Tahoma>LOCALE_SCOUNTRY - </FONT><FONT face="Times New Roman">Full localized name of the country/region. This is based on the localization of the product, thus it changes for each localized version.</FONT> 
<LI><FONT face=Tahoma>LOCALE_SENGCOUNTRY - </FONT><FONT face="Times New Roman">Full English name of the country/region. This is always restricted to characters that can be mapped into the ASCII 127-character subset. </FONT>
<LI><FONT face=Tahoma>LOCALE_SENGLANGUAGE - </FONT><FONT face="Times New Roman">Full English name of the language from the International Organization for Standardization (ISO) Standard 639. This is always restricted to characters that can be mapped into the ASCII 127-character subset. This is not always equivalent to the English version of LOCALE_SLANGUAGE. </FONT>
<LI><FONT face=Tahoma>LOCALE_SLANGUAGE - </FONT><FONT face="Times New Roman">Full localized name of the language. This name is based on the localization of the product, thus the value changes for each localized version. </FONT>
<LI><FONT face=Tahoma>LOCALE_SNATIVECTRYNAME - </FONT><FONT face="Times New Roman">Native name of the country/region. For example, for the Spanish (Spain) locale, the native country/region name would be España.</FONT> 
<LI><FONT face=Tahoma>LOCALE_SNATIVELANGNAME - </FONT><FONT face="Times New Roman">Native name of the language. For example, for the native language name of Armenian (Armenia) is <SPAN lang="" dir=ltr>Հայերեն</SPAN>.</FONT></LI></UL>
<P><FONT face=Tahoma>A&nbsp;few important conclusions that can be drawn from contrasting these two lists and adding some&nbsp;additional information:</FONT></P>
<OL>
<LI><FONT face=Tahoma>The .NET Framework names are clearly more consistent with each other across the various language names (English, Native, and localized name).</FONT> 
<LI><FONT face=Tahoma>In almost all cases, Windows keeps the language and country names separate.</FONT> 
<LI><FONT face=Tahoma>In the one case where it does not (LOCALE_SLANGUAGE), the string is used as the name in the list for both Regional and Language Opions and the Input Language selection dialog -- both of which have the requirement of not including the country/region name unless it is needed to distinguish between multiple locales with the same language name.</FONT></LI></OL>
<P><FONT face=Tahoma>As in most cases, the needs of a particular customer scenario outweight the need to be consistent at the potential cost to usability, thus this long standing difference in LOCALE_SLANGUAGE has been there for quite some time.</FONT></P>
<P><FONT face=Tahoma>For the .NET Framework, the separate language name without region can of course be found by using the neutral CultureInfo object rather than the specific one, an option that Windows has never had....</FONT></P>
<P><FONT face=Tahoma>In an odd way, this difference reveals something about the nature of how the two functionality was created on the two platforms. The Windows platform had that locale information added item by item, as it was required for other functionality in NLS or other parts of Windows -- sometimes consistent and sometimes not (for both the names of the various constants and what they return).</FONT></P>
<P><FONT face=Tahoma>The .NET Framework, on the other hand, had the advantage of being able to look at the over 200 data items and build up a consistent model for the bulk of them. So it has a very cool advantage in that respect....</FONT></P>
<P><FONT face=Tahoma>I suspect over time as items are added to the .NET Framework based on customer requests that it may lose some of that advantage -- once the scenarios start to overtake all of that careful planning.</FONT></P>
<P><FONT face=Tahoma>That bug? It was a case where a new locale was added and both LOCALE_SLANGUAGE values were the same since the regions were not there. But the bug has been fixed and Serge's question has been answered and all is well. :-)</FONT></P>
<P><FONT face=Tahoma></FONT>&nbsp;</P>
<P><FONT face=Tahoma color=#ff1493><EM>This post brought to you by</EM> "<FONT size=6>ޗ</FONT>" <EM>(<A href="http://www.fileformat.info/info/unicode/char/0797">U+0797</A>, THAANA LETTER CHAVIYANI)</EM></FONT></P>
<hr/><p><a id="500210" href="#500210">#</a> <strong>Serge Wautier</strong> on 5 Dec 2005 3:02 PM:</p><div style="margin-left: 1em">When the title of this post appeared in my reader, I couldn't believe you addressed my request/suggestion in only slightly more than 12 hours.<br><br>Wow !!! You rock !<br><br>&gt; and Serge's question has been answered and all is well.<br><br>Er... I'll assume the reply to my last question (How do I retrieve the localized name of a language without the country ?) - in unmanaged contexts - is then either &quot;you don't&quot; or &quot;you have a wrong requirement&quot;. I believe the requirement is not wrong especially if using MAKELANGID(PrimaryLangId, SUBLANG_NEUTRAL). So I'm left with &quot;you don't&quot;, which was unfortunately what I feared :-(<br><br>Thanks anyway. As always, your explanation/clarification would be worth adding to the docs ! (For the ones who still do not consider this blog as being the reference itself ;-)</div>
<p><a id="500236" href="#500236">#</a> <strong>Michael S. Kaplan</strong> on 5 Dec 2005 4:07 PM:</p><div style="margin-left: 1em">It is in fact as you indicate -- there is no methodology to get only the locazlized language, without country and script (other thanj using the .NET Framework).</div>
<p><a id="500321" href="#500321">#</a> <strong>Maurits [MSFT]</strong> on 5 Dec 2005 7:37 PM:</p><div style="margin-left: 1em">As a workaround, does the following extract the language name?  (Forgive the pseudo-Perl...)<br><br># get the locale slanguage<br>$language = get_locale_slanguage();<br><br># $language is now &quot;Espa&#241;ol (Espa&#241;a)&quot;<br><br># strip out the &quot; (Espa&#241;a)&quot; part<br># or anything of the form &quot; (...)&quot;<br>$language =~ s/ \(.*\)$//; # ew, regular expressions<br><br># $language is now &quot;Espa&#241;ol&quot;</div>
<p><a id="500347" href="#500347">#</a> <strong>Michael S. Kaplan</strong> on 5 Dec 2005 9:43 PM:</p><div style="margin-left: 1em">I don't think that every version of Windows universally used language and then everything else (region and script) always in parentheses 100% of the time.<br><br>Plus there is no way to say what a localizer may do here with the string once it is in their reach....</div>
<hr/><p><em>referenced by</em></p><div style="margin-left: 1em"><p>2012/06/19 <a href="http://archives.miloush.net/michkap/archive/2012/06/19/10321621.html">Maybe they're just showing off their fancy fonts? ;-)</a></p><p>2007/06/11 <a href="http://archives.miloush.net/michkap/archive/2007/06/11/3221177.html">LCID vs. Powerman and the Locale-name-go-round</a></p><p>2007/03/11 <a href="http://archives.miloush.net/michkap/archive/2007/03/11/1857176.html">Yesterday's 'justified design' is tomorrow's 'bug we fixed'</a></p><p>2005/12/09 <a href="http://archives.miloush.net/michkap/archive/2005/12/09/502054.html">And they sort that list HOW, exactly?</a></p><p>2005/12/06 <a href="http://archives.miloush.net/michkap/archive/2005/12/06/500475.html">Questions about the unit and record separators</a></p></div><p><em>go to <a id="newer" href="http://archives.miloush.net/michkap/archive/2005/12/06/500475.html" title="Questions about the unit and record separators">newer</a> or <a id="older" href="http://archives.miloush.net/michkap/archive/2005/12/04/499798.html" title="Maybe it&#39;s a freedom tree?">older</a> post, or back to <a href="http://archives.miloush.net/michkap/archive/index.html">index</a> or <a href="http://archives.miloush.net/michkap/archive/index.html#2005-12">month</a> or <a href="http://archives.miloush.net/michkap/archive/index.html#2005-12-05">day</a></em></p></body>
<!-- Mirrored from archives.miloush.net/michkap/archive/2005/12/05/499949.html by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 25 May 2017 00:42:40 GMT -->
</html>