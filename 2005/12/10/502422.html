<html>
<!-- Mirrored from archives.miloush.net/michkap/archive/2005/12/10/502422.html by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 25 May 2017 00:42:40 GMT -->
<head><meta charset="utf-8" /><meta name="viewport" content="width=device-width" /><title>We're damned if we do, and damned if we don't</title></head><body>
<h1>We're damned if we do, and damned if we don't</h1>
<p><em>by Michael S. Kaplan, published on 2005/12/10 21:31 -05:00, original URI: http://blogs.msdn.com/b/michkap/archive/2005/12/10/502422.aspx</em></p>
<hr/> <!-- Archival Source: ProcessPostNew -->
<P><FONT face=Tahoma>Some time the week before last I was asked via the contact link:</FONT></P><FONT face=Tahoma><FONT size=2>
<BLOCKQUOTE dir=ltr style="MARGIN-RIGHT: 0px">
<P><EM><FONT face="Times New Roman">Sorry to post a question in this section..</FONT></EM></P>
<P><EM><FONT face="Times New Roman">Well it was pretty urgent from my side.. I guess you will be able to help me out..</FONT></EM></P>
<P><EM><FONT face="Times New Roman">In our software we have a validation phase in which we validate the incoming XML file at runtime..</FONT></EM></P>
<P><EM><FONT face="Times New Roman">So there is one character 0x19 which is coming in XML file and our validation fails as XMLTextReader is not able to read it..</FONT></EM></P>
<P><EM><FONT face="Times New Roman">Now in our case we use UTF-8 Character encoding to read that file..</FONT></EM></P>
<P><EM><FONT face="Times New Roman">This file is opening in IE that means that its a valid XML file so what I need to know from your side how can I suppress this character by using appropriate Character Encoding..</FONT></EM></P>
<P><EM><FONT face="Times New Roman">I am using C# .NET 2003..</FONT></EM></P></BLOCKQUOTE></FONT></FONT>
<P><FONT face=Tahoma>(By the way, please read the info under 'Contacting Me' in regard to instant answering -- <A href="http://support.microsoft.com/">MS Product Support</A> is the way to go if you need someone who can answer quickly!)</FONT></P>
<P><FONT face=Tahoma>If you look at the XML standard itself as defined by the W3C, the use of control characters is illegal. The fact that it opens in Internet Explorer is actually the sort of problem that standards folks use to argue that IE is not a good browser, though I suppose this means that they might like the less forgiving <A href="http://msdn.microsoft.com/library/en-us/cpref/html/frlrfsystemxmlxmltextreaderclasstopic.asp">XMLTextReader</A>. Though of course the people who prefer the forgiving behavior can argue that it is not a good class.</FONT></P>
<P><FONT face=Tahoma>Now you can look to the W3C directly for an answer. In their FAQs they directly answer the question <STRONG><A href="http://www.w3.org/International/questions/qa-controls">How do I handle control codes (ie. the 'C0' U+0000-U+001F and 'C1' U+007F-U+009F ranges) in XML, XHTML and HTML?</A></STRONG></FONT></P>
<P><FONT face=Tahoma>The question of how Microsoft (or any company) can win when a standard is less flexible than some users believe they require is a complicated one. It is pretty much a religious battle at this point and to be honest I have found that the more strongly a person feels about the issue, the more likely they are to be full of crap. The whole internet could benefit from locking both sides in a room and letting them beat easch other up so those of us who need to get actual work done can avoid the religious fervor. :-)</FONT></P>
<P><FONT face=Tahoma>But in the case of <A href="http://msdn.microsoft.com/library/en-us/cpref/html/frlrfsystemxmlxmltextreaderclasstopic.asp">XMLTextReader</A>&nbsp;I am inclined to cut Microsoft some slack -- if you don't like the behavior than you can send complaints to the W3C. And&nbsp;for the IE behavior I am also inclined to cut Microsoft some slack since the number of people who don't give a fig about standards who just want use the&nbsp;internet really outnumber the standards-conformant folks. And if no one creates such a page than the ability to not fail to read it won't ever be seen, anyway -- so the IE behavior prefers the reality of a world where not everyone follows the rules....</FONT></P>
<P><FONT face=Tahoma>So Microsoft, by trying to be forgiving on end user read but unforgiving on developer write has (in my opinion) struck the right balance between these two extreme views.</FONT></P>
<P><FONT face=Tahoma>If you disagree then feel free to comment, but try not to look like one of those people we would lock in that "fervor" room I was talking about. :-)</FONT></P>
<P><FONT face=Tahoma></FONT>&nbsp;</P>
<P><FONT face=Tahoma color=#ff1493><EM>This post brought to you by</EM> "<FONT size=6>‡∏è</FONT>" <EM>(<A href="http://www.fileformat.info/info/unicode/char/0e0f">U+0e0f</A>, a.k.a. THAI CHARACTER TO PATEK)</EM></FONT></P>
<hr/><p><a id="502470" href="#502470">#</a> <strong>Stuart Ballard</strong> on 10 Dec 2005 9:56 PM:</p><div style="margin-left: 1em">Just a datapoint on the side of &quot;IE shouldn't be forgiving of bad data&quot; - as demonstrated by this poster, a lot of people think that if IE opens something it's valid. If the creators of the file are using the &quot;IE-litmus-test&quot; for validity, then bad files get out into the wild (and people complain when other tools follow the standards). If IE had refused to read the file too, the poster would have placed the blame where it belongs: on the creator of the bogus XML file, rather than on XmlTextReader.<br><br>Not trying to be religious about this ;) but in a world where IE is so widely used, it's inevitable that some people won't test in anything else. And then tools that *do* attempt to follow the standards suffer, or are forced to try to emulate the (unspecified, undocumented, and usually inconsistent) IE behavior for these non-conformant files.<br><br>Perhaps if IE would display the files but give a big warning or error message that the file is non-conformant and may not work with other tools, it would be a good compromise...</div>
<p><a id="502472" href="#502472">#</a> <strong>Michael S. Kaplan</strong> on 10 Dec 2005 10:00 PM:</p><div style="margin-left: 1em">That is actually an incredibky good compromise, and a great way to be all things to all people. :-)<br><br>Though I am faily certain you are incorrect about where people woukd place the blame -- if it does not open in IE, they will blame IE....</div>
<p><a id="502490" href="#502490">#</a> <strong>Andy</strong> on 11 Dec 2005 1:08 AM:</p><div style="margin-left: 1em">Your RSS feed is currently broken presumably because it includes a character that is illegal in xml :-)</div>
<p><a id="502500" href="#502500">#</a> <strong>Michael S. Kaplan</strong> on 11 Dec 2005 2:54 AM:</p><div style="margin-left: 1em">I must be missing the joke here -- my RSS feed has no problems?</div>
<p><a id="502505" href="#502505">#</a> <strong>Bj&#246;rn Graf</strong> on 11 Dec 2005 3:45 AM:</p><div style="margin-left: 1em">It is not the feed per se that has the problem but RSSBandit fails to display this entries item with the nice error: &quot;Refresh feed '' failed with error: hexadecimal value 0x19, is an invalid character. Line 10, position 68.&quot; The feed validator errors on the &amp;#x19; too :]</div>
<p><a id="502508" href="#502508">#</a> <strong>Michael S. Kaplan</strong> on 11 Dec 2005 4:06 AM:</p><div style="margin-left: 1em">Ok, I took it out (it was from the question text I was sent)....</div>
<p><a id="502509" href="#502509">#</a> <strong>MSDNArchive</strong> on 11 Dec 2005 4:08 AM:</p><div style="margin-left: 1em">If your argument is about whether IE should go beyond the standard in terms of features, for the user's convenience, I agree, since standards really cannot keep up with the rate of development of new technology. Infact going beyond the standard might be the best way to push the standard forward. <br><br>However, it's a different issue to support a file that is clearly incorrectly formatted. A simple &quot;Unexpected character found at line X, blah blah&quot; would go a long way in fixing these problems and keeping religion out of the whole discussion. </div>
<p><a id="502515" href="#502515">#</a> <strong>CornedBee</strong> on 11 Dec 2005 4:51 AM:</p><div style="margin-left: 1em">&gt; So Microsoft, by trying to be forgiving on end user read but unforgiving on developer write has (in my opinion) struck the right balance between these two extreme views.<br><br>But is it forgiving on the users? It's actually forgiving on the developers in both cases, even if in the former, said developers might be some guy playing with FrontPage and without a clue what he's doing. If IE  (and Netscape) hadn't accepted invalid pages ten years ago, web page developers would have learned to write them properly and the issue wouldn't come up.<br>It's not like the end user asks for invalid code.<br><br>Besides, if you try to open a page, and IE says, &quot;I can't open this page because it makes absolutely no sense - whoever wrote it must have been very drunk,&quot; do you really think people would blame IE? Disregarding the current situation where browsers are expected to handle tag soup, I mean.<br><br>Nowadays, I think MS does the best it can with the given behaviour. But it was a great mistake in the past to make browsers so forgiving.</div>
<p><a id="502517" href="#502517">#</a> <strong>Michael S. Kaplan</strong> on 11 Dec 2005 4:54 AM:</p><div style="margin-left: 1em">If we go into the past, a lot of the forgiving behavior in IE was for Netscape compatibility. But no one seems to blame them for their contribution to the problem? :-)</div>
<p><a id="502549" href="#502549">#</a> <strong>CornedBee</strong> on 11 Dec 2005 9:55 AM:</p><div style="margin-left: 1em">Oh, I do. That's why I said &quot;browsers&quot;, and why I mentioned Netscape.<br><br>But Netscape not really around to blame anymore. Gecko is forgiving in compatibility to IE, and in true XHTML mode not really forgiving at all: anything that's not well-formed doesn't get displayed.<br><br>Of course, there's one situation where I do blame IE, but that was because of a real bug in the XML parser - its failure to correctly parse the XHTML 1.1 DTDs.</div>
<p><a id="502558" href="#502558">#</a> <strong>Serge Wautier</strong> on 11 Dec 2005 10:50 AM:</p><div style="margin-left: 1em">CornedBee, that's interesting: What about a setting in the already long list of Internet Options/Advanced :<br><br>o Reject invalid XML.<br><br>Can this behaviour be enforced simply by using a DTD ?<br><br>BTW, IE accepting loose HTML/XML makes me think of the superb user experience when you turn on the Debug Script options to debug your own scripts. Of course you don't turn it off right after. And let the show begin : Loads of 'A Runtime Error has occured. Do you want to debug ?' message boxes in most sites you usually read, making you wonder if these sites are tested/debugged at all at what features you're missing due to these errors that usually go unnoticed. But this is probably another story.</div>
<hr/><p><em>go to <a id="newer" href="http://archives.miloush.net/michkap/archive/2005/12/11/502449.html" title="More limitations with percentage support">newer</a> or <a id="older" href="http://archives.miloush.net/michkap/archive/2005/12/10/502415.html" title="CurrentRegion is not based on the GEOID">older</a> post, or back to <a href="http://archives.miloush.net/michkap/archive/index.html">index</a> or <a href="http://archives.miloush.net/michkap/archive/index.html#2005-12">month</a> or <a href="http://archives.miloush.net/michkap/archive/index.html#2005-12-10">day</a></em></p></body>
<!-- Mirrored from archives.miloush.net/michkap/archive/2005/12/10/502422.html by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 25 May 2017 00:42:40 GMT -->
</html>