<html>
<!-- Mirrored from archives.miloush.net/michkap/archive/2005/12/18/505141.html by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 25 May 2017 00:42:40 GMT -->
<head><meta charset="utf-8" /><meta name="viewport" content="width=device-width" /><title>Customizing the SHORT time format?</title></head><body>
<h1>Customizing the SHORT time format?</h1>
<p><em>by Michael S. Kaplan, published on 2005/12/18 03:01 -05:00, original URI: http://blogs.msdn.com/b/michkap/archive/2005/12/18/505141.aspx</em></p>
<hr/> <!-- Archival Source: ProcessPostNew -->
<P><FONT face=Tahoma>Long time reader of this blog Ivan Petrov asked in the Suggestion Box:</FONT></P>
<BLOCKQUOTE dir=ltr style="MARGIN-RIGHT: 0px">
<P><FONT size=2><EM>Hi Michael. </EM></FONT></P>
<P><FONT size=2><EM>From where can I customize the Short Time Format? </EM></FONT></P>
<P><FONT size=2><EM>The Long Time Format can be Customized from Regional and Language Options &gt; Customize (button)=&gt;Customize Regional Options &gt; Time (tab), but the Short one? </EM></FONT></P>
<P><FONT size=2><EM>Regards, <BR>Ivan. </EM></FONT></P></BLOCKQUOTE>
<P><FONT face=Tahoma>Ivan has an excellent point. The .NET Framework has its <A href="http://msdn.microsoft.com/library/en-us/cpref/html/frlrfsystemglobalizationdatetimeformatinfoclasstopic.asp">DateTimeFormatInfo class</A> with its <A href="http://msdn.microsoft.com/library/en-us/cpref/html/frlrfsystemglobalizationdatetimeformatinfoclasslongtimepatterntopic.asp">LongTimePattern</A> and <A href="http://msdn.microsoft.com/library/en-us/cpref/html/frlrfsystemglobalizationdatetimeformatinfoclassshorttimepatterntopic.asp">ShortTimePattern</A>, but Regional Options does not have anything like it.</FONT></P><FONT face=Tahoma>
<P><FONT face=Tahoma>So where is the short time pattern, and why is it not in Regional Options?</FONT></P>
<P>Well, to start, Regional Options has the job of supporting all of the fields in the Win32 locales that can be overridden. And functions like&nbsp;Win32's <A href="http://msdn.microsoft.com/library/en-us/intl/nls_34rz.asp">GetLocaleInfo</A> only has a LOCALE_STIME, which matches the data in the .NET <A href="http://msdn.microsoft.com/library/en-us/cpref/html/frlrfsystemglobalizationdatetimeformatinfoclasslongtimepatterntopic.asp">LongTimePattern</A>. </FONT><FONT face=Tahoma>Win32 has never had such a concept.</FONT></P>
<P><FONT face=Tahoma>Which of course leads us to wonder where .NET got the idea from.</FONT></P>
<P><FONT face=Tahoma>The important thing to remember is that while to many .NET is the successor to Win32, it is more accurate to consider .NET to be the successor to COM and the VB/VBA world. Now VBA supports a <A href="http://msdn.microsoft.com/library/en-us/vbenlr98/html/vafctformatdatetime.asp">FormatDateTime function</A> that accepts a vbShortTime, but that has never been a Win32 locale functionality.</FONT></P>
<P><FONT face=Tahoma>There are probably people who will be reminded of the limitations in percent functionality I have discussed <a href="http://archives.miloush.net/michkap/archive/2005/12/11/502455.html">previously</A>, and indeed the issue is similar -- the need to be compatible with a feature that was written by somebody else and for which there has not been a real push to understand the globalization scenarios is never going to get the same kind of support as one that has.</FONT></P>
<P><FONT face=Tahoma>With that said, the .NET&nbsp;<A href="http://msdn.microsoft.com/library/en-us/cpref/html/frlrfsystemglobalizationdatetimeformatinfoclassshorttimepatterntopic.asp">ShortTimePattern</A>&nbsp;is a settable property, so one could always override it. And obviously one could even cleverly remove the AM/PM indicator if it exists in the long time format if one needed to.</FONT></P>
<P><FONT face=Tahoma>As an interesting&nbsp;data point, often when customers have mentioned this issue in the past, they expect that the time pattern in Regional Options would affect both the long and short time patterns in the .NET Framework, which is a fascinating idea (though if it were up to me I would add a LOCALE_SSHORTTIME before I'd put Win32 or Regional Options&nbsp;into the string parsing game). And since it has come up as a point of confusion when people compare/contrast the managed and unmanaged worlds, it is probably on people's radar at this point.</FONT></P>
<P><FONT face=Tahoma>But for now, the short time is something that is only in the COM and .NET worlds, while traditional Win32 only has the long time, which it simply calls <STRONG>the time</STRONG>.</FONT></P>
<P><FONT face=Tahoma></FONT>&nbsp;</P>
<P><FONT face=Tahoma color=#ff1493><EM>This post brought to you by</EM> "<FONT size=6>ùÑµ</FONT>" <EM>(<A href="http://www.fileformat.info/info/unicode/char/1d135">U+1d135</A>, a.k.a. MUSICAL SYMBOL CUT TIME)</EM></FONT></P>
<hr/><p><a id="506081" href="#506081">#</a> <strong>Ivan Petrov</strong> on 20 Dec 2005 3:46 PM:</p><div style="margin-left: 1em">Hi Michael.<br><br>Thank You for the professional answer.<br><br>I'm just curious, would some day/is somebody planning to be added a drop-down box on the Time tab in <br><br>Customize Regional Options, for customizing the SHORT time format? ... because if we take for example the <br><br>Date tab, there we can customize both the Short date and the Long date format! I think that it's logically <br><br>in the Time tab the things to be the same! ...<br>... Another interesting idea is to be added a tab named (for instance) 'Calendar', in which the user can <br><br>customize the Short and Long names of the Months and/or the Weekdays, the Calendar type ...<br>... Also there're some other elements from a Locale, which can be added to the existing tabs in Customize <br><br>Regional Options to be customizible, like: in the Currency tab - the Native currency name, the English <br><br>currency name, the International currency symbol and so on ... ; I think that Customize Regional Options <br><br>must be revised from that viewpoint - the viewpoint as many things as possible to be customized! I think the <br><br>users would like it ;-) ...<br>... And here is a very interesting idea of mine ;-). Yesterday, I have opened the Customize Regional Options <br><br>window and was looking it as always and then in my mind comes the following idea:<br>Custom Regional Options SCHEMES (profiles): That means that the user can save/load Custom Regional Options <br><br>in/from files. I think that this is idea with great potential!<br><br>Regards,<br>Ivan.</div>
<p><a id="506090" href="#506090">#</a> <strong>Michael S. Kaplan</strong> on 20 Dec 2005 4:08 PM:</p><div style="margin-left: 1em">Hello Ivan,<br><br>Actually, you will want to be looking into custom cultures (which become custom locales n Vista) to have that level of customization, as it is not really feasible to expand Regional Options in the way you are indicating....</div>
<p><a id="506108" href="#506108">#</a> <strong>Ivan Petrov</strong> on 20 Dec 2005 4:56 PM:</p><div style="margin-left: 1em">Ok Michael, but I really think that the user must have the possibility to customize the SHORT time format through Customize Regional Options window!<br>So would some day/is somebody planning to be added that future?<br><br>Regards,<br>Ivan.<br><br></div>
<p><a id="506125" href="#506125">#</a> <strong>Michael S. Kaplan</strong> on 20 Dec 2005 5:28 PM:</p><div style="margin-left: 1em">I can forward on the feedback. Like I said, we are not really invested as heavily in these things that other people did since it usually did not involve the same amount of homework that we do on features....<br><br>Since most applications will not use it (more unmanaged than managed) and thus most users will never see the results of the change, it might be more confusing to add it.<br><br>Most importantly, since the majority of users never even lunch our UI at all (let alone the customization UI), the number if people who actually meet all the criteria for this to be useful would likely all fit in the same minivan (with room left over for a cooler to hold the beer!).</div>
<p><a id="506131" href="#506131">#</a> <strong>Ivan Petrov</strong> on 20 Dec 2005 5:49 PM:</p><div style="margin-left: 1em">Ok, but I think I'm right and I'm writing you about this 'SHORT time format' issue, because I think that this future must be in Customize Regional Options and because I think everybody in Microsoft think that Vista must be better than every released Windows version! As I know, there is great enthusiasm inside Microsoft this thing to happen! ;-)<br><br>Regards,<br>Ivan.</div>
<p><a id="507261" href="#507261">#</a> <strong>Ivan Petrov</strong> on 24 Dec 2005 1:42 PM:</p><div style="margin-left: 1em">Hi Michael.<br><br>Merry Christmas!<br><br>My question was inspired by this:<br><br>If we open an instance of Windows Explorer, and then we choose Details from the Views menu, then we see Name, Size, Type and Date Modified columns. The 'Date Modified' column displays the Date (in SHORT Date format) and the Time (in SHORT Time format) when the Folder or the File was Modified. So, my wish is to Customize SHORT Time format in that manner to be displayed like I want in the 'Date Modified' column in Windows Explorer, or if you want - the Time in the system tray (which is again in SHORT Time format).<br><br>Regards,<br>Ivan.</div>
<p><a id="507270" href="#507270">#</a> <strong>Michael S. Kaplan</strong> on 24 Dec 2005 3:06 PM:</p><div style="margin-left: 1em">Hello Ivan,<br><br>Merry Christmas to you, and happy holidays and so on....<br><br>You are mistaken on both points -- both use the LONG TIME, or as we knoe it in Windows, THE TIME. The Short Time you see has absolutely nothing to do with anything in Windows. If you want to customize times in Windows, then it is STIMEFORMAT that you mudt modify.<br><br>Sorry, but the only argument in your favor on this one is the one you already mentioned. :-)</div>
<p><a id="507274" href="#507274">#</a> <strong>Ivan Petrov</strong> on 24 Dec 2005 4:20 PM:</p><div style="margin-left: 1em">Hello Michael.<br><br>Thank you for the quick answer.<br><br>It seems you're right again ;-)<br><br>I want to explain you a little bit more about what I want to do and what bothers me:<br><br>Thne main idea is to customize the Windows time format in conformity with Bulgarian national standard fo time formating. So I make the following steps:<br>Regional and Language Options &gt; Customize (button)=&gt;Customize Regional Options &gt; Time (tab),<br>then in the time format dropdown box I'm typing the following:<br><br>HH:mm:ss '—á.'<br><br>where &quot;—á.&quot; is abbreviation from '—á–∞—Å–∞' which means 'hour', which is near by sense the English &quot;o'clock&quot;. Anyway, to this point everything goes ok!After clicking 2 time OK we have the new user defined Time format. And it's working! For example if I right click on a file in Windows Explorer and choose 'Properties' from the shortcut menu, then in the General tab in the Properties window all the times (Created, Modified, Accessed) are displayed correctly, exactly I want! For example:<br><br>25 –ù–æ–µ–º–≤—Ä–∏ 2005 –≥., 22:12:04 —á.<br><br>But, in Windows Explorer with Details switchen on from the Views menu, in the 'Date Modified' column for the same file we can see the following:<br><br>25 –ù–æ–µ–º–≤—Ä–∏ 2005 –≥., 22:12<br><br>And here is the problem. I want to see this '—á.' after the time, but I can't ;-(<br>I expect to see the following:<br><br>25 –ù–æ–µ–º–≤—Ä–∏ 2005 –≥., 22:12 —á.<br><br>Please, provide some guidelines what to do to make this happen!<br><br>Best wishes,<br>Ivan.</div>
<p><a id="507276" href="#507276">#</a> <strong>Michael S. Kaplan</strong> on 24 Dec 2005 4:48 PM:</p><div style="margin-left: 1em">In Windows and the .NET Framework both, the application always has the last say in what will show up. In this case it looks like Explorer is making a choice that is based more on the fact that there are no AP/PM markers than the literal format.<br><br>So what happens if you put that '—á.' in for the AM/PM markers and a 't' in the long time format? When I do that, I think I get exactly what you are looking for here....</div>
<p><a id="507279" href="#507279">#</a> <strong>Ivan Petrov</strong> on 24 Dec 2005 5:12 PM:</p><div style="margin-left: 1em">Ahaaaa, thank you Michael.<br>Milion thanks!<br><br>This is my Christmas gift from GIFT (I mean you Michael ;-) )<br><br>I'm very happy now ;-)<br><br>See you.<br><br>Regards,<br>Ivan.</div>
<hr/><p><em>referenced by</em></p><div style="margin-left: 1em"><p>2010/01/27 <a href="http://archives.miloush.net/michkap/archive/2010/01/27/9953946.html">We do seem to be short on time... (Windows 7 edition)</a></p><p>2008/10/19 <a href="http://archives.miloush.net/michkap/archive/2008/10/19/9006393.html">I see LONG TIME and SHORT TIME; where are SHORTER TIME and SHORTEST TIME?</a></p><p>2007/11/02 <a href="http://archives.miloush.net/michkap/archive/2007/11/02/5808539.html">Predictably (in retrospect), aka Where Wild^H^H^Hindows-Only Things Are, aka SHORT [on ]TIME for a LONG TIME</a></p><p>2006/10/15 <a href="http://archives.miloush.net/michkap/archive/2006/10/15/829978.html">Compatibility is inconsistent; consistency is not compatible...</a></p><p>2006/07/21 <a href="http://archives.miloush.net/michkap/archive/2006/07/21/673813.html">We do seem to be short on time...</a></p></div><p><em>go to <a id="newer" href="http://archives.miloush.net/michkap/archive/2005/12/18/505145.html" title="More on the Unicode 5.0 beta">newer</a> or <a id="older" href="http://archives.miloush.net/michkap/archive/2005/12/17/505062.html" title="Sometimes, tech companies cannot take sides">older</a> post, or back to <a href="http://archives.miloush.net/michkap/archive/index.html">index</a> or <a href="http://archives.miloush.net/michkap/archive/index.html#2005-12">month</a> or <a href="http://archives.miloush.net/michkap/archive/index.html#2005-12-18">day</a></em></p></body>
<!-- Mirrored from archives.miloush.net/michkap/archive/2005/12/18/505141.html by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 25 May 2017 00:42:40 GMT -->
</html>