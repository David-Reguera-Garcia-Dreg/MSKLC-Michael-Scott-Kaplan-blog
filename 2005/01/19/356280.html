<html>
<!-- Mirrored from archives.miloush.net/michkap/archive/2005/01/19/356280.html by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 25 May 2017 00:42:42 GMT -->
<head><meta charset="utf-8" /><meta name="viewport" content="width=device-width" /><title>Not all characters are created equal: take SYMBOLS, for example</title></head><body>
<h1>Not all characters are created equal: take SYMBOLS, for example</h1>
<p><em>by Michael S. Kaplan, published on 2005/01/19 14:02 -05:00, original URI: http://blogs.msdn.com/b/michkap/archive/2005/01/19/356280.aspx</em></p>
<hr/> <!-- Archival Source: ProcessPostNew -->
<P>Although collation on Windows gives a weight to every single code point<SUP>1</SUP>, there are times that this does not really have an intuitive meaning.</P>
<P>What I mean to say is that there are times that the question "<EM>does string1 equal string2?</EM>" <STRONG>may</STRONG> have meaning but <EM>"does string1 come before string2?</EM>" really does not. Sometimes the order is entirely arbitrary and has no meaning other than the fact that the architcture requires it.</P>
<P>When it comes to symbols, for example. Like the <A href="http://www.unicode.org/charts/PDF/U2600.pdf">Miscellaneous Symbols</A>&nbsp;block in Unicode. I mean, in the greater scheme of things does it really matter if <A href="http://www.fileformat.info/info/unicode/char/2601/index.htm">U+2601</A> (CLOUD) comes before or after <A href="http://www.fileformat.info/info/unicode/char/2602/index.htm">U+2602</A>&nbsp;(UMBRELLA). One could say that we are planners (so we have the umbrella in case it rains one day, so the umbrella comes first) or spontaneous (so when we see the clouds we put on our best Christopher Robin voice and say 'tut tut, looks like rain' and go to buy the umbrella, meaning clouds come first). </P>
<P>Or maybe I should take <A href="http://www.fileformat.info/info/unicode/char/2620/index.htm">U+2620</A>, <A href="http://www.fileformat.info/info/unicode/char/2621/index.htm">U+2621</A>, <A href="http://www.fileformat.info/info/unicode/char/2622/index.htm">U+2622</A>, and <A href="http://www.fileformat.info/info/unicode/char/2623/index.htm">U+2623</A>&nbsp;and call it the Coldplay block in honor of their song <EM>Warning Sign</EM> (which is one of the two Coldplay songs I am willing to play until my ears bleed, and no, the other song is <STRONG>not</STRONG> <EM>Yellow, thank you very much</EM>!).</P>
<P>Or if I am sane (no promise about me!) I realize that trying to do this when there are so many of these characters to handle that I just say "screw it". It really does not matter, the key is that clouds are not rain. And that SKULL AND CROSSBONES may not be CAUTION SIGN and is probably not RADIOACTIVE SIGN or BIOHAZARD SIGN. So they are put in code point order and the dreams of silly easter eggs like the Coldplay block stay unrealized (except unintentionally when they happen to be in that order in Unicode). </P>
<P>Because the order really does not matter.</P>
<P>Of course that is not always true of <STRONG>all</STRONG> symbols. If you are using <A title=CompareString href="http://msdn.microsoft.com/library/en-us/winui/winui/windowsuserinterface/resources/strings/stringreference/stringfunctions/comparestring.asp" target=_blank>CompareString</A>, <A title=LCMapString href="http://msdn.microsoft.com/library/en-us/intl/nls_5s2v.asp" target=_blank>LCMapString</A>, or comparisons with the <A title=CompareInfo href="http://msdn.microsoft.com/library/en-us/cpref/html/frlrfsystemglobalizationcompareinfoclasstopic.asp" target=_blank>CompareInfo</A> class, you have a choice about string sorting vs. word sorting. This is documented nowhere more clearly than in The Platform SDK in winnls.h:</P>
<BLOCKQUOTE dir=ltr>
<P><FONT face="Courier New" size=2>//<BR>//&nbsp; Sorting Flags.<BR>//<BR>//&nbsp;&nbsp;&nbsp; WORD Sort:&nbsp;&nbsp;&nbsp; culturally correct sort<BR>//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; hyphen and apostrophe are special cased<BR>//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; example: "coop" and "co-op" will sort together in a list<BR>//<BR>//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; co_op&nbsp;&nbsp;&nbsp;&nbsp; &lt;-------&nbsp; underscore (symbol)<BR>//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; coat<BR>//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; comb<BR>//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; coop<BR>//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; co-op&nbsp;&nbsp;&nbsp;&nbsp; &lt;-------&nbsp; hyphen (punctuation)<BR>//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; cork<BR>//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; went<BR>//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; were<BR>//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; we're&nbsp;&nbsp;&nbsp;&nbsp; &lt;-------&nbsp; apostrophe (punctuation)<BR>//<BR>//<BR>//&nbsp;&nbsp;&nbsp; STRING Sort:&nbsp; hyphen and apostrophe will sort with all other symbols<BR>//<BR>//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; co-op&nbsp;&nbsp;&nbsp;&nbsp; &lt;-------&nbsp; hyphen (punctuation)<BR>//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; co_op&nbsp;&nbsp;&nbsp;&nbsp; &lt;-------&nbsp; underscore (symbol)<BR>//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; coat<BR>//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; comb<BR>//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; coop<BR>//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; cork<BR>//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; we're&nbsp;&nbsp;&nbsp;&nbsp; &lt;-------&nbsp; apostrophe (punctuation)<BR>//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; went<BR>//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; were<BR>//<BR>#define SORT_STRINGSORT&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 0x00001000&nbsp; // use string sort method</FONT></P></BLOCKQUOTE>
<P>So you could think of SORT_STRINGSORT or <A title=CompareOptions href="http://msdn.microsoft.com/library/en-us/cpref/html/frlrfsystemglobalizationcompareoptionsclasstopic.asp" target=_blank>CompareOptions</A>.StringSort as the "treat hyphen and apostrophe like the other symbols" flag. SORT_STRINGSORT may not be very descriptive but SORT_HYPHENANDAPOSTROPHEAREACTUALLYSYMBOLSDAMMIT is too much of a pain to type. And there is no SORT_WORDSORT or CompareOptions.WordSort, since that is the default anyway if you do not pass such a flag there.</P>
<P>But if you pass the NOM_IGNORESYMBOLS or the CompareOptions.IgnoreSymbols flags to their respective APIs they get ignored with all of the other symbols. So I guess they were not too special after all. Whether they are <A href="http://www.fileformat.info/info/unicode/char/002d/index.htm">U+002d</A> or <A href="http://www.fileformat.info/info/unicode/char/ff0c/index.htm">U+ff0c</A> or <A href="http://www.fileformat.info/info/unicode/char/0027/index.htm">U+0027</A> or whatever, they are&nbsp;all symbols. All easily ignorable.</P>
<P>Almost all search engines do something like this, though of course most are smart enough to include the index of the plus sign for "C++" and there was a huge rush to index the pound sign when "C#" suddenly became something to search for. But heaven help those who try to search for the backslash like RTF tags -- thank goodness most of them are pretty unique anyway,&nbsp;so we can&nbsp;find most of them without the special indexing of the symbols. :-)</P>
<P>But one thing is definitely true -- there is&nbsp;a serious LETTER bias around these parts. If character types could be considered a protected class under anti-discrimination law, I think symbols would have a pretty compelling case against a lot of companies with deep pockets....</P>
<P>&nbsp;</P>
<P><EM><FONT size=1>1 - Well, ignoring the stuff i pointed out in my '</FONT></EM><A id=_ed356e4b6b3a8d0d_HomePageDays_DaysList__ctl1_DayItem_DayList__ctl0_TitleUrl href="http://archives.miloush.net/michkap/archive/2005/01/18/355210.html"><EM><FONT size=1>The jury will give this string no weight</FONT></EM></A><EM><FONT size=1>' post, of course!</FONT></EM></P>
<P>&nbsp;</P>
<P><FONT color=#800080><EM>This post sponsored by</EM> "ï¼Œ" <EM>(</EM></FONT><A href="http://www.fileformat.info/info/unicode/char/ff0c/index.htm"><EM><FONT color=#800080>U+ff0c</FONT></EM></A><EM><FONT color=#800080>, FULLWIDTH COMMA)<BR><FONT size=1>A character whose class action appeal to be considered punctuation for sorting purposes (commas v. Microsoft) will be heard&nbsp;13th Circuit&nbsp; court of appeals on the 12th of Never.</FONT></FONT></EM></P>
<hr/><div style="margin-left: 1em"><em>no comments</em></div><hr/><p><em>referenced by</em></p><div style="margin-left: 1em"><p>2007/08/12 <a href="http://archives.miloush.net/michkap/archive/2007/08/12/4352905.html">Hello Madda, Hello Father (Iranian style)</a></p><p>2006/05/24 <a href="http://archives.miloush.net/michkap/archive/2006/05/24/605603.html">Is it punctuation, symbol, or diacritic?</a></p><p>2006/05/04 <a href="http://archives.miloush.net/michkap/archive/2006/05/04/589656.html">Sort the words, sort the strings</a></p><p>2006/03/25 <a href="http://archives.miloush.net/michkap/archive/2006/03/25/560416.html">I need my SPACE, symbolically speaking</a></p></div><p><em>go to <a id="newer" href="http://archives.miloush.net/michkap/archive/2005/01/20/357025.html" title="The West Wing last night (19 January 2005)">newer</a> or <a id="older" href="http://archives.miloush.net/michkap/archive/2005/01/19/355870.html" title="He&#39;s dead [keys], Jim.">older</a> post, or back to <a href="http://archives.miloush.net/michkap/archive/index.html">index</a> or <a href="http://archives.miloush.net/michkap/archive/index.html#2005-01">month</a> or <a href="http://archives.miloush.net/michkap/archive/index.html#2005-01-19">day</a></em></p></body>
<!-- Mirrored from archives.miloush.net/michkap/archive/2005/01/19/356280.html by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 25 May 2017 00:42:42 GMT -->
</html>