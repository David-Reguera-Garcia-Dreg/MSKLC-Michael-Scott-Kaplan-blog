<html>
<!-- Mirrored from archives.miloush.net/michkap/archive/2005/11/10/491187.html by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 25 May 2017 00:42:40 GMT -->
<head><meta charset="utf-8" /><meta name="viewport" content="width=device-width" /><title>Genitive dates, revisited</title></head><body>
<h1>Genitive dates, revisited</h1>
<p><em>by Michael S. Kaplan, published on 2005/11/10 03:01 -05:00, original URI: http://blogs.msdn.com/b/michkap/archive/2005/11/10/491187.aspx</em></p>
<hr/> <!-- Archival Source: ProcessPostNew -->
<P><FONT face=Tahoma>It was almost a year ago that I answered the question "<a href="http://archives.miloush.net/michkap/archive/2004/12/25/332259.html"><STRONG>What the %$#! are genitive dates?</STRONG></FONT></A><FONT face=Tahoma>" on this blog.</FONT></P>
<P><FONT face=Tahoma>And then today for some reason, the issue kept coming up again and again!</FONT></P>
<P><FONT face=Tahoma>The day started with an international PM from Office asking for information about the Russian date formats in&nbsp;the .NET Framework 2.0 to look into a reported bug. I looked at the bugs assigned to her and found the information:</FONT></P>
<P><FONT face=Tahoma><EM>(I will leave out the steps since they relate to a product that I think it still in Beta)</EM></FONT></P>
<BLOCKQUOTE dir=ltr style="MARGIN-RIGHT: 0px">
<P><FONT size=2><EM><STRONG>Result</STRONG>:&nbsp; Grammar for month strings like "June" is incorrect when they are preceded with a day number and are broken in the views in Step 3.&nbsp; (See attached gif for details)</EM></FONT></P>
<P><FONT face=Tahoma><EM><FONT face="Times New Roman" size=2><STRONG>Expected</STRONG>:&nbsp; Grammar should be correct for all views.</FONT></EM></FONT></P></BLOCKQUOTE>
<DIR dir=ltr><FONT size=1>
<P><FONT size=2><EM>Check this out:</EM></FONT></P>
<P></FONT><FONT size=2><EM>Still shows: 25 </EM></FONT><FONT face="MS Shell Dlg" size=1><FONT face="Times New Roman" size=2><EM>Октябрь 2005 г. .</EM></FONT></P>
<P><FONT face="Times New Roman" size=2><EM>Should be : 25 Октября 2005 г. - has one letter difference.</EM></FONT></P>
<P><FONT face="Times New Roman" size=2><EM>I don't know what version of URT(.Net framework) Explorer shows you , but code is using Whidbey v2.0.50727.42 </EM></FONT></P></DIR></FONT>
<P><FONT face=Tahoma>I will admit that for a moment I panicked -- what if the functionality had somehow been broken? I immediately wrote some code to check it out:</FONT></P>
<BLOCKQUOTE dir=ltr style="MARGIN-RIGHT: 0px">
<P><STRONG><FONT face="Courier New" size=2>using System;<BR>using System.Globalization;</FONT></STRONG></P>
<P><STRONG><FONT face="Courier New" size=2>namespace Testing<BR>{<BR>&nbsp;&nbsp;&nbsp; class Testing<BR>&nbsp;&nbsp;&nbsp; {</FONT></STRONG></P>
<P><STRONG><FONT face="Courier New" size=2>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; [STAThread]<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; static void Main(string[] args)<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; CultureInfo ci = new CultureInfo("ru-RU");<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; DateTimeFormatInfo dtfi = ci.DateTimeFormat;</FONT></STRONG></P>
<P><STRONG><FONT face="Courier New" size=2>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; for(int m = 0; m &lt; 12; m++) {<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; DateTime dt = new DateTime(2005, m + 1, 1);</FONT></STRONG></P>
<P><STRONG><FONT face="Courier New" size=2>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Console.Write(dtfi.MonthNames[m]);<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Console.Write('\t');<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Console.Write(dtfi.MonthGenitiveNames[m]);<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Console.Write('\t');<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Console.Write(dt.ToString("D", dtfi));<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Console.WriteLine();<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }</FONT></STRONG></P>
<P><STRONG><FONT face="Courier New" size=2>&nbsp;&nbsp;&nbsp; }<BR>}</FONT></STRONG></P></BLOCKQUOTE>
<P><FONT face=Tahoma>This code will create a nice list of months, genitive months, and a formatted date that would be expected to show the genitive month name rather than the nominative month name if it were there. I would check them all out but pay special attention to October since that was the one that was reported to be broken.</FONT></P>
<P><FONT face=Tahoma>Then in the SDK Command Prompt, I compiled the code, changed the code page to 1251 (Cyrillic), and ran the program:</FONT></P>
<BLOCKQUOTE dir=ltr style="MARGIN-RIGHT: 0px">
<P><FONT face="Courier New"><STRONG>E:\test&gt;csc BUG.cs<BR>Microsoft (R) Visual C# 2005 Compiler version 8.00.50727.42<BR>for Microsoft (R) Windows (R) 2005 Framework version 2.0.50727<BR>Copyright (C) Microsoft Corporation 2001-2005. All rights reserved.</STRONG></FONT></P>
<P><BR><FONT face="Courier New"><STRONG>E:\test&gt;chcp 1251<BR>Active code page: 1251</STRONG></FONT></P>
<P><FONT face="Courier New"><STRONG>E:\test&gt;BUG.exe<BR>Январь&nbsp; <FONT color=#ff0000>января</FONT>&nbsp; 1 <FONT color=#ff0000>января</FONT> 2005 г.<BR>Февраль <FONT color=#ff0000>февраля</FONT> 1 <FONT color=#ff0000>февраля</FONT> 2005 г.<BR>Март&nbsp;&nbsp;&nbsp; <FONT color=#ff0000>марта</FONT>&nbsp;&nbsp; 1 <FONT color=#ff0000>марта</FONT> 2005 г.<BR>Апрель&nbsp; <FONT color=#ff0000>апреля</FONT>&nbsp; 1 <FONT color=#ff0000>апреля</FONT> 2005 г.<BR>Май&nbsp;&nbsp;&nbsp;&nbsp; <FONT color=#ff0000>мая</FONT>&nbsp;&nbsp;&nbsp;&nbsp; 1 <FONT color=#ff0000>мая</FONT> 2005 г.<BR>Июнь&nbsp;&nbsp;&nbsp; <FONT color=#ff0000>июня</FONT>&nbsp;&nbsp;&nbsp; 1 <FONT color=#ff0000>июня</FONT> 2005 г.<BR>Июль&nbsp;&nbsp;&nbsp; <FONT color=#ff0000>июля</FONT>&nbsp;&nbsp;&nbsp; 1 <FONT color=#ff0000>июля</FONT> 2005 г.<BR>Август&nbsp; <FONT color=#ff0000>августа</FONT> 1 <FONT color=#ff0000>августа</FONT> 2005 г.<BR>Сентябрь&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <FONT color=#ff0000>сентября</FONT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 1 <FONT color=#ff0000>сентября</FONT> 2005 г.<BR>Октябр<FONT color=#ff0000>ь</FONT> <FONT color=#ff0000>октября</FONT> 1 <FONT color=#ff0000>октября</FONT> 2005 г.<BR>Ноябрь&nbsp; <FONT color=#ff0000>ноября</FONT>&nbsp; 1 <FONT color=#ff0000>ноября</FONT> 2005 г.<BR>Декабрь <FONT color=#ff0000>декабря</FONT> 1 <FONT color=#ff0000>декабря</FONT> 2005 г.</STRONG></FONT></P>
<P><FONT face="Courier New"><STRONG>E:\test&gt;</STRONG></FONT></P></BLOCKQUOTE>
<P><FONT face=Tahoma>And there you have it -- the .NET Framework was behaving properly. This program must have code in it that is doing some custom date formatting rather than letting the .NET Framework's built-in support do the right thing.</FONT></P>
<P><FONT face=Tahoma>There is a lesson in there -- you can't make&nbsp;effective use of the globalization support in Windows or the .NET Framework if you don't try to use it fully....</FONT></P>
<P><FONT face=Tahoma></FONT>&nbsp;</P>
<P><FONT face=Tahoma color=#ff1493><EM>This post brought to you by</EM> "<FONT size=6>ь</FONT>" <EM>(<A href="http://www.fileformat.info/info/unicode/char/044c">U+044c</A>, a.k.a. CYRILLIC SMALL LETTER SOFT SIGN)</EM></FONT></P>
<hr/><p><a id="491220" href="#491220">#</a> <strong>Mihai</strong> on 10 Nov 2005 4:19 AM:</p><div style="margin-left: 1em">Because you mention Office and .NET 2.0, I assume it is about Office 12.<br><br>But Office always got this wrong. Office 2003 still does it wrong, after I don't know how many versions.<br></div>
<p><a id="491282" href="#491282">#</a> <strong>Michael S. Kaplan</strong> on 10 Nov 2005 9:04 AM:</p><div style="margin-left: 1em">Hi Mihai --<br><br>I don't think all of Office gets it wrong, though I could imagine some of it probably does!</div>
<hr/><p><em>referenced by</em></p><div style="margin-left: 1em"><p>2010/09/09 <a href="http://archives.miloush.net/michkap/archive/2010/09/09/10059644.html">Latvian. Genitive. Oops.</a></p><p>2008/05/14 <a href="http://archives.miloush.net/michkap/archive/2008/05/14/8502723.html">Windows is too busy being consistent with the user to be consistent with itself!</a></p><p>2007/08/04 <a href="http://archives.miloush.net/michkap/archive/2007/08/04/4218583.html">A re-genitive post</a></p><p>2006/03/20 <a href="http://archives.miloush.net/michkap/archive/2006/03/20/555288.html">Practical Uses for Replacement Cultures/Locales</a></p><p>2005/11/12 <a href="http://archives.miloush.net/michkap/archive/2005/11/12/491274.html">One last post about genitive dates</a></p><p>2005/11/11 <a href="http://archives.miloush.net/michkap/archive/2005/11/11/491211.html">Any Sami speakers reading this blog? :-)</a></p><p>2005/11/10 <a href="http://archives.miloush.net/michkap/archive/2005/11/10/491199.html">Do genitive dates always work properly for Greek?</a></p></div><p><em>go to <a id="newer" href="http://archives.miloush.net/michkap/archive/2005/11/10/491199.html" title="Do genitive dates always work properly for Greek?">newer</a> or <a id="older" href="http://archives.miloush.net/michkap/archive/2005/11/09/490792.html" title="Shrinking URLs down">older</a> post, or back to <a href="http://archives.miloush.net/michkap/archive/index.html">index</a> or <a href="http://archives.miloush.net/michkap/archive/index.html#2005-11">month</a> or <a href="http://archives.miloush.net/michkap/archive/index.html#2005-11-10">day</a></em></p></body>
<!-- Mirrored from archives.miloush.net/michkap/archive/2005/11/10/491187.html by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 25 May 2017 00:42:40 GMT -->
</html>