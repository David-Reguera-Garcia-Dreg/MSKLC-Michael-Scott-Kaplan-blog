<html>
<!-- Mirrored from archives.miloush.net/michkap/archive/2005/11/11/491349.html by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 25 May 2017 00:42:40 GMT -->
<head><meta charset="utf-8" /><meta name="viewport" content="width=device-width" /><title>What to do with the Vietnamese keyboard on Windows?</title></head><body>
<h1>What to do with the Vietnamese keyboard on Windows?</h1>
<p><em>by Michael S. Kaplan, published on 2005/11/11 04:01 -05:00, original URI: http://blogs.msdn.com/b/michkap/archive/2005/11/11/491349.aspx</em></p>
<hr/> <!-- Archival Source: ProcessPostNew -->
<P><FONT face=Tahoma size=4><EM>By the way, I am not implying we&nbsp;must do anything at all. It is probably important to start with that disclaimer. :-)</EM></FONT></P>
<P><FONT face=Tahoma>If you think back to previous posts I have done on Vietnamese (</FONT><a href="http://archives.miloush.net/michkap/archive/2005/08/27/457224.html"><FONT face=Tahoma>here</FONT></A><FONT face=Tahoma> and especially </FONT><a href="http://archives.miloush.net/michkap/archive/2005/04/19/409566.html"><FONT face=Tahoma>here</FONT></A><FONT face=Tahoma>), it is clear that the implementation has been inspired largely and maybe originally guided by </FONT><A href="http://www.microsoft.com/globaldev/reference/sbcs/1258.mspx"><FONT face=Tahoma>Windows code page 1258</FONT></A><FONT face=Tahoma>.</FONT></P>
<P><FONT face=Tahoma>And although</FONT></P>
<UL>
<LI><FONT face=Tahoma>the issues with some characters not sorting properly&nbsp;is/will be&nbsp;resolved in Vista;</FONT></LI>
<LI><FONT face=Tahoma>using Unicode instead of the code page will take care of the rest of the limitations</FONT></LI></UL>
<P><FONT face=Tahoma>There&nbsp;is still the problem of the keyboard.</FONT></P>
<P><FONT face=Tahoma>We'll&nbsp;start by looking at it. Here is the base state:</FONT></P>
<P><FONT face=Tahoma><IMG src="http://trigeminal.fmsinc.com/images/VietBase.jpg"></FONT></P>
<P><FONT face=Tahoma>and here is the shifted state:</FONT></P>
<P><FONT face=Tahoma><IMG src="http://trigeminal.fmsinc.com/images/VietShift.jpg"></FONT></P>
<P><FONT face=Tahoma>If you look at the top row, it contains five combining characters. It is not&nbsp;a coincidence that those five characters are the same ones as are in code page 1258:</FONT></P>
<P><FONT face="Lucida Console" size=2>VK_5&nbsp;&nbsp;&nbsp; CC = U+0300 : COMBINING GRAVE ACCENT<BR>VK_6&nbsp;&nbsp;&nbsp; D2 = U+0309 : COMBINING HOOK ABOVE<BR>VK_7&nbsp;&nbsp;&nbsp; DE = U+0303 : COMBINING TILDE<BR>VK_8&nbsp;&nbsp;&nbsp; EC = U+0301 : COMBINING ACUTE ACCENT<BR>VK_9&nbsp;&nbsp;&nbsp; F2 = U+0323 : COMBINING DOT BELOW</FONT></P>
<P><FONT face=Tahoma>Okay, so the model here is (on this keyboard) to allow and encourage text that is not really in any particular <a href="http://archives.miloush.net/michkap/archive/2005/01/31/363701.html">Unicode normalization form</A>. Instead, it makes extensive use of <a href="http://archives.miloush.net/michkap/archive/2005/07/09/437063.html">intermediate forms</A> that are neither Form C or Form D (most of the keyboards that Microsoft ships are in Form C).</FONT></P>
<P><FONT face=Tahoma>Vista does/will fix the issue with the various equivalent forms, so it will be less noticeable. But it does make things a little odd for any time the data is being transferred around, or if the Win32 NLS API is not used to get comparisons done.</FONT></P>
<P><FONT face=Tahoma>Of course it does nothing for the fact that not all of the characters that&nbsp;have been&nbsp;<a href="http://archives.miloush.net/michkap/archive/2005/08/27/457224.html">added to the sorting table for Vietnamese</A> can be typed in with the Vietnamese keyboard.</FONT></P>
<P><FONT face=Tahoma>And it does not allow for a more&nbsp;sophisticated model that supports chained dead keys so that one could type the two dead keys and the letter to get the various precomposed characters used in Vietnamese.</FONT></P>
<P><FONT face=Tahoma>Such a&nbsp;keyboard would not be as useful in legacy non-Unicode applications due to all the problems in and lack of compatibility&nbsp;with&nbsp;code page 1258, but it would be better for Unicode support, for the language, and for consistency with the other keyboards on Windows.</FONT></P>
<P><FONT face=Tahoma>With all that said, I have fallen into the trap of coming up with a whole plan for a technical solution without knowing whether there are actual users who are running into problems with the existing support. If there are any native speakers of Vietnamese who have thoughts here, it would help prioritize this issue as opposed to other features that future versions might include. Including features like support for chained dead keys in MSKLC to make creating such keyboards easier!</FONT></P>
<P><FONT face=Tahoma>What would people who need to type Vietnamese like to see?</FONT></P>
<P><FONT face=Tahoma></FONT>&nbsp;</P>
<P><FONT face=Tahoma color=#ff1493><EM>This post brought to you by</EM> "<FONT size=6>ệ</FONT>" <EM>(<A href="http://www.fileformat.info/info/unicode/char/1ec7">U+1ec7</A>, a.k.a. LATIN SMALL LETTER E WITH CIRCUMFLEX AND DOT BELOW)</EM></FONT></P>
<hr/><p><a id="491834" href="#491834">#</a> <strong>Mihai</strong> on 11 Nov 2005 12:24 PM:</p><div style="margin-left: 1em">I could query some Vietnamese translators.<br><br>We constantly get from them MS Word files with NFC form (and then we have problems saving in 1258 :-), although the standard keyboard does not allow to input them.<br><br>I suspect they use a 3rd party program or modified keyboard (maybe even with MSKLC :-)<br>Since a translator would probably not care if a character is NFC or intermediate form, I guess that application/keyboard has some other attractive features.<br></div>
<p><a id="491944" href="#491944">#</a> <strong>Michael S. Kaplan</strong> on 11 Nov 2005 5:40 PM:</p><div style="margin-left: 1em">That would be cool. I'd love to know more about what we need to do. :-)</div>
<p><a id="491975" href="#491975">#</a> <strong>Suzanne McCarthy</strong> on 11 Nov 2005 7:48 PM:</p><div style="margin-left: 1em">Hi Mike,<br><br>As usual I have no idea what I am doing. However, I am taking an other attempt at explaining why I gave up on the MS Vietnamese keyboard. Not enough google hits to fill a thimble. <br><br><a rel="nofollow" target="_new" href="http://abecedaria.blogspot.com/2005/11/vietnamese-revisited.html">http://abecedaria.blogspot.com/2005/11/vietnamese-revisited.html</a><br><br>Suz</div>
<p><a id="491987" href="#491987">#</a> <strong>Michael S. Kaplan</strong> on 11 Nov 2005 8:20 PM:</p><div style="margin-left: 1em">Hi Suzanne,<br><br>Well, it is not your fault if the combination of a bad keyboard and lots of bad user data is out there -- it is a no-win situation....</div>
<p><a id="491996" href="#491996">#</a> <strong>Suzanne McCarthy</strong> on 11 Nov 2005 9:24 PM:</p><div style="margin-left: 1em">Surely the user data from the VietDic dictionary is from another aand more acceptable encoding standard. Why doesn't the MS keyboard enable one to keyboard this encoding? Obviously VietDic is the one with the most hits and MS keyboard encoding has the fewest hits. It indicates to me that the MS keyboard is not being used much because it doesn't match the standard encoding. So why not change the keyboard to match the standard?  Have I missed something? I find the MS Vietnemese keyboard unusable. I know it is not my fault - why would it be?</div>
<p><a id="492024" href="#492024">#</a> <strong>Michael S. Kaplan</strong> on 12 Nov 2005 12:00 AM:</p><div style="margin-left: 1em">I was referring to where you talked about not knowing what you are doing.... When we talk about encodings, anything short of Unicode will be inadequate at representing text fully. That includes *all* of the other possible options, and cp1258, too. But in any case, individual standards that cannot represent other languages are an evolutionary blind alley -- as is deciding the best encoding for a language by measuring google hits! :-)</div>
<p><a id="492031" href="#492031">#</a> <strong>Suzanne McCarthy</strong> on 12 Nov 2005 12:39 AM:</p><div style="margin-left: 1em">Mike, <br><br>These are *all* unicode - what do you mean by 'short of Unicode'? What else would I be using? <br><br>The main difference for example 1 and 2 is this. <br><br>1. uses one character for the 'e' - U+1EC3 : LATIN SMALL LETTER E WITH CIRCUMFLEX AND HOOK ABOVE <br><br>2. uses two characters in sequence - U+00EA : LATIN SMALL LETTER E WITH CIRCUMFLEX and U+0309 : COMBINING HOOK ABOVE<br><br>Aren't they both unicode? The other options are visibly different so they don't really count except to show the complexity involved. <br><br>Is there supposed to be one standard and who would decide that? The google hits are just to show that they are different really - I have no idea which encoding is best, just wondering if there is a process or entity which deals with this discrepancy? <br></div>
<p><a id="492041" href="#492041">#</a> <strong>Mihai</strong> on 12 Nov 2005 1:43 AM:</p><div style="margin-left: 1em">Ok, got it!<br><br>Sounds like something serious. The thing is available free from the &quot;Vietnamese Professionals Society&quot; (<a rel="nofollow" target="_new" href="http://www.vps.org/">http://www.vps.org</a>)<br><br>Click DOWNLOADS, the software is VPSKeys 4.3.<br>You should click on &quot;(latest version)&quot;, if you click on the software title nothing happens.<br><br>The description is &quot;Vietnamese Keyboard Driver for Win95-98, ME, NT4, Win2000 and Win XP&quot; (impressive coverage), and and English manual is available (great, because the UI is Vietnamese :-)<br></div>
<p><a id="492054" href="#492054">#</a> <strong>Andrew Cunningham</strong> on 12 Nov 2005 3:44 AM:</p><div style="margin-left: 1em">Hi Michael,<br><br>In theory, applications and web services should normalize their data. The problem of the character sequences generated by the Windows Vietnamese layout vs third party solutions is more related to this lack of normalization. The users end up in a mess.<br><br>examples: <br>1) using a third party IME in MS Word (and using precomposed characters) and having the Vietnamese proffing tools installed ... spell checking doesn't work, the dic assumes the character sequences the Windows layout uses.<br><br>2) searching Google. Google doesn't normalize.  Search results using Microsoft's keyboard will yield different results than a third party solution.<br><br>3) Searching BBC's Vietnamese site with the Windows layout will find more recent articles, and using a third party solution will find older articles. Assuming they haven't updated/fixed that since my last search.<br><br>Third party solutions tend to be more flexible about the location of teh diacrtic. Some  softwrae allows you to either type the diacritics after the base vowel or at the end of the word, dpeending on your preferences. (seems to mimic handwrighting styles in this sense).<br><br>A similar problem is beginning to surface with African languages, as more keyboard layouts are generated using MSKLC. There have been a number of dicussions in various fora regarding Nigerian languages when typing tones. <br><br>The ability to create keyboard layouts, using MSKLC, that generate NFC or NFD character sequences would be useful.<br><br>But in the long run, normalization issues aren't particularly a keyboard layout issue.<br><br>If this makes sense?<br><br>Andrew</div>
<p><a id="492059" href="#492059">#</a> <strong>Gabe</strong> on 12 Nov 2005 4:25 AM:</p><div style="margin-left: 1em">I don't know much about Vietnamese, so maybe I'm wrong to be surprised here. But why on earth could they possibly use backslash often enough to warrant two keys for it on opposite sides of the keyboard?</div>
<p><a id="492082" href="#492082">#</a> <strong>Michael S. Kaplan</strong> on 12 Nov 2005 9:06 AM:</p><div style="margin-left: 1em">Hi Gabe --<br><br>That one way over on the left is the VK_OEM102 key, which is not present on 101-key keyboards and is thus by convention usually duplicated elsewhere.<br><br>MSKLC even issues a warning in the validation phase if you do not have an assignment there duplicated elsewhere, for that very reason....</div>
<p><a id="492084" href="#492084">#</a> <strong>Michael S. Kaplan</strong> on 12 Nov 2005 9:10 AM:</p><div style="margin-left: 1em">Hi Andrew --<br><br>Yep, makes sense. One of the changes in Vista is to pick up the different normalization forms (and all of the 'intermediate forms', as well) which will at least make comparison technologies make use of them.<br><br>Over time, this may well improve search for MSN, though probably it will not do much for Google's search. :-)</div>
<p><a id="492085" href="#492085">#</a> <strong>Michael S. Kaplan</strong> on 12 Nov 2005 9:12 AM:</p><div style="margin-left: 1em">Suzanne --<br><br>This is a terminology difference between us -- Unicode is a single encoding. When you talk about encodings, I assume you are talking about the endlerss attempts at 8-bit encodings for Vietnamese, from cp1258 to all of the VNI code pages, and so on.</div>
<p><a id="492086" href="#492086">#</a> <strong>Michael S. Kaplan</strong> on 12 Nov 2005 9:23 AM:</p><div style="margin-left: 1em">Hi Mihai -- <br><br>Thanks for the link, though it does look like they are hosting the Windows core fonts for download. :-(<br><br>But the Online help looks interesting, and it does seem to support many of the different 8-bit encodings as well as Unicode...</div>
<p><a id="492154" href="#492154">#</a> <strong>Suz</strong> on 12 Nov 2005 3:56 PM:</p><div style="margin-left: 1em">Hi Mike,<br><br>Sorry about my terminology. I have learned something about how to view, identify, and display characters since last June but not talk about them properly. Just so you know, I have never knowingly used or talked about anything other than Unicode. Anyhow - lots of interesting ideas from this. </div>
<p><a id="492158" href="#492158">#</a> <strong>Michael S. Kaplan</strong> on 12 Nov 2005 4:37 PM:</p><div style="margin-left: 1em">No worries, Suzanne -- note that I did not say you were wrong, I just said there is a terminology difference. I was just pointing out why I misunderstood your words, that's all. :-)<br><br>If you look at that link Mihai posted, the tool supports many of those different encoding systems....<br><br>In the end, I do agree with Andrew -- search enginees need to normalize away the differences between these methods. And not only for theoretical comformance to Unicode and its principles of canonical equivalence, but also for the practicalz need to unite asll of these different forms of text, especially in languages like Vietnamese where it is such a factor in existing text!</div>
<p><a id="493673" href="#493673">#</a> <strong>Andrew</strong> on 16 Nov 2005 8:11 PM:</p><div style="margin-left: 1em">Hi Michael,<br><br>is there any documentation available at this stage on language and internationalization features in Vista?</div>
<p><a id="493868" href="#493868">#</a> <strong>Michael S. Kaplan</strong> on 17 Nov 2005 8:34 AM:</p><div style="margin-left: 1em">Hi Andrew,<br><br>There is some on this blog (more after Beta 2 is out!), and plenty in the Beta 1 Vista SDK docs (more in Beta 2 for thst, also)....</div>
<p><strong>THANH TIN BUI</strong> on 20 Feb 2009 1:22 PM:</p><div style="margin-left: 1em"><p> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Kinh Ong ,</p>
<p> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Toi muon xu dung chu viet cac thu tu . Xin Ong vui long giup do cho . Xin cam on Ong ,</p>
<p> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Tran trong</p>
<p> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Thanh Tin Bui</p></div>
<p><strong>TT</strong> on 29 Aug 2009 7:34 AM:</p><div style="margin-left: 1em"><p>I prefer the VPS keyboard...</p>
<p>@____@</p></div>
<p><strong>Nancy</strong> on 20 Sep 2010 10:27 PM:</p><div style="margin-left: 1em"><p>i underst0nd but it any way i can see vietnamese key board on the screen</p>
</div>
<p><strong>Michael S. Kaplan</strong> on 20 Sep 2010 11:50 PM:</p><div style="margin-left: 1em"><p>The on-screen keyboard, perhaps?</p>
</div>
<p><strong>kieulien</strong> on 7 Sep 2012 10:13 AM:</p><div style="margin-left: 1em"><p>How to type the number on vietnamese keyboard?</p>
</div>
<p><strong>Vy</strong> on 6 Oct 2012 10:25 PM:</p><div style="margin-left: 1em"><p>I recently added the vietnamese keyboard to my computer but the issue im having is that i can&#39;t get the u and o letters with the comma on the top corner to show? can you show me how i can get it to appear? thank you.</p>
</div>
<hr/><p><em>referenced by</em></p><div style="margin-left: 1em"><p>2012/02/29 <a href="http://archives.miloush.net/michkap/archive/2012/02/29/10274340.html">What's the difference between Tiếng Việt, Tiếng Việt, and Tiếng Việt? (other than the obvious, I mean)</a></p><p>2011/04/16 <a href="http://archives.miloush.net/michkap/archive/2011/04/16/10154700.html">Chain Chain Chain, Chain of Dead Keys</a></p><p>2007/10/29 <a href="http://archives.miloush.net/michkap/archive/2007/10/29/5756924.html">Microsoft is a Form 'C' shop, Part 1</a></p><p>2007/01/31 <a href="http://archives.miloush.net/michkap/archive/2007/01/31/1564299.html">A year later, and the Vietnamese keyboard isn't any better</a></p><p>2006/04/10 <a href="http://archives.miloush.net/michkap/archive/2006/04/10/570570.html">Getting all you can out of a keyboard layout, Part #8</a></p><p>2006/03/28 <a href="http://archives.miloush.net/michkap/archive/2006/03/28/561725.html">Only ONE WCHAR per dead key</a></p><p>2005/11/15 <a href="http://archives.miloush.net/michkap/archive/2005/11/15/492301.html">SIAO to Search engines -- would you please normalize, already?</a></p><p>2005/11/15 <a href="http://archives.miloush.net/michkap/archive/2005/11/15/492200.html">It is not easy to chain dead keys on Windows</a></p></div><p><em>go to <a id="newer" href="http://archives.miloush.net/michkap/archive/2005/11/12/491274.html" title="One last post about genitive dates">newer</a> or <a id="older" href="http://archives.miloush.net/michkap/archive/2005/11/11/491211.html" title="Any Sami speakers reading this blog? :-)">older</a> post, or back to <a href="http://archives.miloush.net/michkap/archive/index.html">index</a> or <a href="http://archives.miloush.net/michkap/archive/index.html#2005-11">month</a> or <a href="http://archives.miloush.net/michkap/archive/index.html#2005-11-11">day</a></em></p></body>
<!-- Mirrored from archives.miloush.net/michkap/archive/2005/11/11/491349.html by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 25 May 2017 00:42:40 GMT -->
</html>