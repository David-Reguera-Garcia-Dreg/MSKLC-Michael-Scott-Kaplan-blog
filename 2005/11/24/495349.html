<html>
<!-- Mirrored from archives.miloush.net/michkap/archive/2005/11/24/495349.html by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 25 May 2017 00:42:40 GMT -->
<head><meta charset="utf-8" /><meta name="viewport" content="width=device-width" /><title>And you can't set all of the properties all of the time...</title></head><body>
<h1>And you can't set all of the properties all of the time...</h1>
<p><em>by Michael S. Kaplan, published on 2005/11/24 04:01 -05:00, original URI: http://blogs.msdn.com/b/michkap/archive/2005/11/24/495349.aspx</em></p>
<hr/> <!-- Archival Source: ProcessPostNew -->
<P><FONT face=Tahoma>There is some sort of implicit belief that if a locale property is settable that it should be set.</FONT></P>
<P><FONT face=Tahoma>Up to and including the .NET Framework 2.0, there are a few of the properties that violate that belief in the <A href="http://msdn.microsoft.com/library/en-us/cpref/html/frlrfsystemglobalizationnumberformatinfoclasstopic.asp">NumberFormatInfo class</A>&nbsp;and that should not be set:</FONT></P>
<UL>
<LI><FONT face=Tahoma><A href="http://msdn.microsoft.com/library/en-us/cpref/html/frlrfsystemglobalizationnumberformatinfoclasspercentgroupsizestopic.asp">NumberFormatInfo.PercentGroupSizes</A></FONT> 
<LI><FONT face=Tahoma><A href="http://msdn.microsoft.com/library/en-us/cpref/html/frlrfsystemglobalizationnumberformatinfoclasspercentdecimaldigitstopic.asp">NumberFormatInfo.PercentDecimalDigits</A></FONT> 
<LI><FONT face=Tahoma><A href="http://msdn.microsoft.com/library/en-us/cpref/html/frlrfsystemglobalizationnumberformatinfoclasspercentgroupseparatortopic.asp">NumberFormatInfo.PercentGroupSeparator</A></FONT> 
<LI><FONT face=Tahoma><A href="http://msdn.microsoft.com/library/en-us/cpref/html/frlrfsystemglobalizationnumberformatinfoclasspermillesymboltopic.asp">NumberFormatInfo.PerMilleSymbol</A></FONT></LI></UL>
<P><FONT face=Tahoma>I should probably back up a second and explain <STRONG>when</STRONG> they are meant to be set, and more importantly when setting them will not actually accomplish anything.</FONT></P>
<P><FONT face=Tahoma>These four properties can be set any time you are using a NumberFormatInfo object to do work. The first three will affect percent formatting and parsing, while the last one will do very little at all.</FONT></P>
<P><FONT face=Tahoma>These four properties should not be set on the <A href="http://msdn2.microsoft.com/en-us/library/system.globalization.cultureandregioninfobuilder.numberformat.aspx">NumberFormat</A> hanging off the&nbsp;<A href="http://msdn2.microsoft.com/en-us/library/system.globalization.cultureandregioninfobuilder.aspx">CultureAndRegionInfoBuilder</A> class.</FONT></P>
<P><FONT face=Tahoma>Well, you can set them if you want. But the values you set will not be persisted in the custom culture. So setting them&nbsp;when you are creating&nbsp;a custom culture will not actually accomplish anything. So why spend the time?</FONT></P>
<P><FONT face=Tahoma>The rules whereby the values are set vary for each property:</FONT></P><FONT face=Tahoma>
<LI><FONT face=Tahoma><A href="http://msdn.microsoft.com/library/en-us/cpref/html/frlrfsystemglobalizationnumberformatinfoclasspercentgroupsizestopic.asp">PercentGroupSizes</A>&nbsp;-- takes the value from <A href="http://msdn.microsoft.com/library/en-us/cpref/html/frlrfsystemglobalizationnumberformatinfoclassnumbergroupsizestopic.asp">NumberGroupSizes</A></FONT> 
<LI><FONT face=Tahoma><A href="http://msdn.microsoft.com/library/en-us/cpref/html/frlrfsystemglobalizationnumberformatinfoclasspercentdecimaldigitstopic.asp">PercentDecimalDigits</A>&nbsp;-- takes the value from <A href="http://msdn.microsoft.com/library/en-us/cpref/html/frlrfsystemglobalizationnumberformatinfoclasspercentnumberdigitstopic.asp">NumberDecimalDigits</A></FONT> 
<LI><FONT face=Tahoma><A href="http://msdn.microsoft.com/library/en-us/cpref/html/frlrfsystemglobalizationnumberformatinfoclasspercentgroupseparatortopic.asp">PercentGroupSeparator</A>&nbsp;-- takes the value from <A href="http://msdn.microsoft.com/library/en-us/cpref/html/frlrfsystemglobalizationnumberformatinfoclassnumbergroupseparatortopic.asp">NumberGroupSeparator</A></FONT> 
<LI><FONT face=Tahoma><A href="http://msdn.microsoft.com/library/en-us/cpref/html/frlrfsystemglobalizationnumberformatinfoclasspermillesymboltopic.asp">PerMilleSymbol</A>&nbsp;-- always starts as U+2030</FONT></FONT> 
<P><FONT face=Tahoma>The reasons? Well, I am not sure who uses the PerMilleSymbol so I do not know for sure, but I would guess that the reason is the same as the other three properties: that there is no locale/culture that we know of that reports a different value for these properties.</FONT></P>
<P><FONT face=Tahoma>Until/unless that changes, these are four properties that you should not try to set in your custom cultures....</FONT></P>
<P><FONT face=Tahoma></FONT>&nbsp;</P>
<P><FONT face=Tahoma color=#ff1493><EM>This post brought to you by</EM> "â€°" <EM>(U+2030, a.k.a. PER MILLE SIGN)</EM></FONT></P></LI>
<hr/><p><a id="496918" href="#496918">#</a> <strong>Mihai</strong> on 25 Nov 2005 6:32 AM:</p><div style="margin-left: 1em">&quot;there is no locale/culture that we know of that reports a different value for these properties&quot;<br><br>Isn't this the whole idea or custom locales, to add support for locales that you don't know of?<br><br>Because you have never seen a locale with different values for those properties, nobody should be able to create one.<br><br>I am not sure this is such a good idea.<br></div>
<p><a id="496965" href="#496965">#</a> <strong>Michael S. Kaplan</strong> on 25 Nov 2005 10:30 AM:</p><div style="margin-left: 1em">A very excellent point, Mihai....<br><br>Truth be told I am not even 100% sure that the information we have that it is never different for our current locales is 100% accurate, either. :-)<br><br>I am reasonably sure that this will change in the future, though it may need the report of the culture that does this to actually have that happen....</div>
<hr/><p><em>referenced by</em></p><div style="margin-left: 1em"><p>2010/08/30 <a href="http://archives.miloush.net/michkap/archive/2010/08/30/10055550.html">A difference that makes no difference shouldn't make a difference, but...</a></p><p>2005/12/11 <a href="http://archives.miloush.net/michkap/archive/2005/12/11/502455.html">Why does the percent stuff have so many restrictions?</a></p><p>2005/12/11 <a href="http://archives.miloush.net/michkap/archive/2005/12/11/502449.html">More limitations with percentage support</a></p></div><p><em>go to <a id="newer" href="http://archives.miloush.net/michkap/archive/2005/11/24/496528.html" title="CultureInfo thoughts">newer</a> or <a id="older" href="http://archives.miloush.net/michkap/archive/2005/11/23/495193.html" title="100% roundtrip ASCII? 100% roundtrip ANSI?">older</a> post, or back to <a href="http://archives.miloush.net/michkap/archive/index.html">index</a> or <a href="http://archives.miloush.net/michkap/archive/index.html#2005-11">month</a> or <a href="http://archives.miloush.net/michkap/archive/index.html#2005-11-24">day</a></em></p></body>
<!-- Mirrored from archives.miloush.net/michkap/archive/2005/11/24/495349.html by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 25 May 2017 00:42:40 GMT -->
</html>