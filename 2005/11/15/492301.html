<html>
<!-- Mirrored from archives.miloush.net/michkap/archive/2005/11/15/492301.html by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 25 May 2017 00:42:40 GMT -->
<head><meta charset="utf-8" /><meta name="viewport" content="width=device-width" /><title>SIAO to Search engines -- would you please normalize, already?</title></head><body>
<h1>SIAO to Search engines -- would you please normalize, already?</h1>
<p><em>by Michael S. Kaplan, published on 2005/11/15 03:01 -05:00, original URI: http://blogs.msdn.com/b/michkap/archive/2005/11/15/492301.aspx</em></p>
<hr/> <!-- Archival Source: ProcessPostNew -->
<P><FONT face=Tahoma><A href="http://abecedaria.blogspot.com/">Suzanne</A> has been riffing on me <A href="http://abecedaria.blogspot.com/2005/11/vietnamese-revisited.html">in relation to Vietnamese</A> and then she&nbsp;shifted over to talk about <A href="http://abecedaria.blogspot.com/2005/11/google.html">Google and other languages</A>, so I thought I would riff off of her a bit. :-)</FONT></P>
<P><FONT face=Tahoma><EM>By the way Suzanne -- I did not find your terminology to be inaccurate; it was just different. I was explaining why I was confused!</EM></FONT></P>
<P><FONT face=Tahoma>I am going to take her string </FONT><FONT face=Tahoma><STRONG>bãi biển</STRONG> from that first article and run it through various search engines in various forms, trying to look for some patterns. I am not using Suzanne's test (using Google Image) looking for pictures of beaches) since not all of the search engines have a comparable service. it is pretty easy to tell from the text excerpts if the search has found Vietnamese sights or not without too much trouble....</FONT></P>
<P><FONT face=Tahoma>First, the engines:</FONT></P>
<OL class=dontfuckwithme type=A>
<LI><FONT face=Tahoma><A href="http://www.google.com/">google.com</A></FONT> 
<LI><FONT face=Tahoma><A href="http://search.msn.com/">search.msn.com</A></FONT> 
<LI><FONT face=Tahoma><A href="http://www.start.com/">start.com</A></FONT> 
<LI><FONT face=Tahoma><A href="http://www.live.com/">live.com</A></FONT> 
<LI><FONT face=Tahoma><A href="http://www.altavista.com/">altavista.com</A></FONT> 
<LI><FONT face=Tahoma><A href="http://ask.com/">ask.com</A></FONT> 
<LI><FONT face=Tahoma><A href="http://www.excite.com/">excite.com</A></FONT> 
<LI><FONT face=Tahoma><A href="http://www.yahoo.com/">yahoo.com</A></FONT></LI></OL>
<P><FONT face=Tahoma>Second, the&nbsp;strings to test:</FONT></P>
<OL class=dontfuckwithme>
<LI><FONT face="Courier New">Normalization Form C: <STRONG>bãi biển</STRONG> (0062 00e3&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 0069 0020 0062 0069 1ec3&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 006e)</FONT> 
<LI><FONT face="Courier New">Intermediate form&nbsp;&nbsp; : <STRONG>bãi biển</STRONG> (0062 0061 0303 0069 0020 0062 0069 00ea 0309&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 006e)</FONT> 
<LI><FONT face="Courier New">&nbsp;" "&nbsp; " w/o accents : <STRONG>bai biên</STRONG> (0062 0061&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 0069 0020 0062 0069 00ea&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 006e)</FONT> 
<LI><FONT face="Courier New">Normalization Form D: <STRONG>bãi biển</STRONG> (0062 0061 0303 0069 0020 0062 0069 0065 0302 0309 006e)</FONT> 
<LI><FONT face="Courier New">&nbsp;" "&nbsp; " w/o accents : <STRONG>bai bien</STRONG> (0062 0061&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 0069 0020 0062 0069 0065&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 006e)</FONT></LI></OL>
<P><FONT face=Tahoma>Now if you look at these five strings being tested #1, #2, and #4 are all canonically equivalent and thus should give identical results in search engines that&nbsp;conform to&nbsp;Unicode and its principles of canonical equivalence.</FONT></P>
<P><FONT face=Tahoma>I will put the strings in double quotes for all search engines.</FONT></P>
<P><FONT face=Tahoma>And here are the comparison results:</FONT></P>
<TABLE class=dontfuckwithdat border=1>
<TBODY>
<TR class=dontfuckwithdat vAlign=top>
<TH class=dontfuckwithdat align=left width="16%">Engine</TH>
<TH class=dontfuckwithdat align=left width="16%">
<P>#1</P>
<P><FONT face="Courier New">bãi biển</FONT></P></TH>
<TH class=dontfuckwithdat align=left width="16%">
<P>#2</P>
<P><FONT face="Courier New">bãi biển</FONT></P></TH>
<TH class=dontfuckwithdat align=left width="16%">
<P>#3</P>
<P><FONT face="Courier New">bai biên</FONT></P></TH>
<TH class=dontfuckwithdat align=left width="16%">
<P>#4</P>
<P><FONT face="Courier New">bãi biển</FONT></P></TH>
<TH class=dontfuckwithdat align=left width="16%">
<P>#5</P>
<P><FONT face="Courier New">bai bien</FONT></P></TH></TR>
<TR vAlign=top>
<TD>google</TD>
<TD><A href="http://www.google.com/search?hl=en&amp;q=%22b%C3%A3i+bi%E1%BB%83n%22">76,200</A></TD>
<TD><A href="http://www.google.com/search?hl=en&amp;q=%22ba%CC%83i+bi%C3%AA%CC%89n%22">1,830</A></TD>
<TD><A href="http://www.google.com/search?hl=en&amp;q=%22bai+bi%C3%AAn%22">2,360</A></TD>
<TD><A href="http://www.google.com/search?hl=en&amp;q=%22ba%CC%83i+bie%CC%82%CC%89n%22">1,390</A></TD>
<TD><A href="http://www.google.com/search?hl=en&amp;q=%22bai+bien%22">1,380</A></TD></TR>
<TR vAlign=top>
<TD>msn</TD>
<TD><A href="http://search.msn.com/results.aspx?q=%22b%C3%A3i+bi%E1%BB%83n%22&amp;FORM=QBHP">14,702</A></TD>
<TD><A href="http://search.msn.com/results.aspx?q=%22ba%CC%83i+bi%C3%AA%CC%89n%22&amp;FORM=QBHP">190</A></TD>
<TD><A href="http://search.msn.com/results.aspx?q=%22bai+bi%C3%AAn%22&amp;FORM=QBHP">678</A></TD>
<TD><A href="http://search.msn.com/results.aspx?q=%22ba%CC%83i+bie%CC%82%CC%89n%22&amp;FORM=QBHP">0</A></TD>
<TD><A href="http://search.msn.com/results.aspx?q=%22bai+bien%22&amp;FORM=QBHP">678</A></TD></TR>
<TR vAlign=top>
<TD>start</TD>
<TD>14,703</TD>
<TD>191</TD>
<TD>679</TD>
<TD>0</TD>
<TD>679</TD></TR>
<TR vAlign=top>
<TD>live</TD>
<TD>14,702</TD>
<TD>190</TD>
<TD>678</TD>
<TD>0</TD>
<TD>678</TD></TR>
<TR vAlign=top>
<TD>altavista</TD>
<TD><A href="http://www.altavista.com/web/results?itag=ody&amp;q=%22b%C3%A3i+bi%E1%BB%83n%22&amp;kgs=1&amp;kls=0">59,700</A></TD>
<TD><A href="http://www.altavista.com/web/results?itag=ody&amp;q=%22ba%CC%83i+bi%C3%AA%CC%89n%22&amp;kgs=1&amp;kls=0">59,700</A></TD>
<TD><A href="http://www.altavista.com/web/results?itag=ody&amp;q=%22bai+bi%C3%AAn%22&amp;kgs=1&amp;kls=0">509</A></TD>
<TD><A href="http://www.altavista.com/web/results?itag=ody&amp;q=%22ba%CC%83i+bie%CC%82%CC%89n%22&amp;kgs=1&amp;kls=0">59,700</A></TD>
<TD><A href="http://www.altavista.com/web/results?itag=ody&amp;q=%22bai+bien%22&amp;kgs=1&amp;kls=0">1,040</A></TD></TR>
<TR vAlign=top>
<TD>ask</TD>
<TD><A href="http://web.ask.com/web?q=%22b%C3%A3i+bi%E1%BB%83n%22&amp;qsrc=0&amp;o=0">98</A></TD>
<TD><A href="http://web.ask.com/web?q=%22ba%CC%83i+bi%C3%AA%CC%89n%22&amp;qsrc=0&amp;o=0">23</A></TD>
<TD><A href="http://web.ask.com/web?q=%22bai+bi%C3%AAn%22&amp;qsrc=0&amp;o=0">1</A></TD>
<TD><A href="http://web.ask.com/web?q=%22ba%CC%83i+bie%CC%82%CC%89n%22&amp;qsrc=0&amp;o=0">631</A></TD>
<TD><A href="http://web.ask.com/web?q=%22bai+bien%22&amp;qsrc=0&amp;o=0">354</A></TD></TR>
<TR vAlign=top>
<TD>excite</TD>
<TD>42/<A href="http://msxml.excite.com/info.xcite/search/redir.htm?r_fcid=417&amp;r_fcp=top&amp;advanced=1&amp;top=1&amp;nde=1&amp;qcat=web&amp;q_all=&amp;q_phrase=b%E3i+bi%26%237875%3Bn&amp;q_any=&amp;q_not=&amp;Submit1=Search&amp;lang=&amp;dpcollation=1&amp;qk=20&amp;qafterm=01&amp;qafterd=01&amp;qaftery=1990&amp;qbeforem=11&amp;qbefored=13&amp;qbeforey=2005&amp;domaint=&amp;familyfilter=0">18</A></TD>
<TD><A href="http://msxml.excite.com/info.xcite/search/web/%2522ba%25DEi+bi%25EA%25D2n%2522">3</A>/<A href="http://msxml.excite.com/info.xcite/search/redir.htm?r_fcid=417&amp;r_fcp=top&amp;advanced=1&amp;top=1&amp;nde=1&amp;qcat=web&amp;q_all=&amp;q_phrase=ba%DEi+bi%EA%D2n&amp;q_any=&amp;q_not=&amp;Submit1=Search&amp;lang=&amp;dpcollation=1&amp;qk=20&amp;qafterm=01&amp;qafterd=01&amp;qaftery=1990&amp;qbeforem=11&amp;qbefored=13&amp;qbeforey=2005&amp;domaint=&amp;familyfilter=0">3</A></TD>
<TD><A href="http://msxml.excite.com/info.xcite/search/web/%2522bai+bi%25EAn%2522">55</A>/0</TD>
<TD><A href="http://msxml.excite.com/info.xcite/search/web/%2522ba%25DEi+bie">3</A>/0</TD>
<TD><A href="http://msxml.excite.com/info.xcite/search/web/%2522bai+bien%2522">64</A>/<A href="http://msxml.excite.com/info.xcite/search/redir.htm?r_fcid=417&amp;r_fcp=top&amp;advanced=1&amp;top=1&amp;nde=1&amp;qcat=web&amp;q_all=&amp;q_phrase=bai+bien&amp;q_any=&amp;q_not=&amp;Submit1=Search&amp;lang=&amp;dpcollation=1&amp;qk=20&amp;qafterm=01&amp;qafterd=01&amp;qaftery=1990&amp;qbeforem=11&amp;qbefored=13&amp;qbeforey=2005&amp;domaint=&amp;familyfilter=0">64</A></TD></TR>
<TR vAlign=top>
<TD>yahoo</TD>
<TD><A href="http://search.yahoo.com/search?p=%22b%C3%A3i+bi%E1%BB%83n%22&amp;fr=FP-tab-web-t&amp;toggle=1&amp;cop=&amp;ei=UTF-8">57,600</A></TD>
<TD><A href="http://search.yahoo.com/search?p=%22ba%CC%83i+bi%C3%AA%CC%89n%22&amp;fr=FP-tab-web-t&amp;toggle=1&amp;cop=&amp;ei=UTF-8">57,600</A></TD>
<TD><A href="http://search.yahoo.com/search?p=%22bai+bi%C3%AAn%22&amp;fr=FP-tab-web-t&amp;toggle=1&amp;cop=&amp;ei=UTF-8">493</A></TD>
<TD><A href="http://search.yahoo.com/search?p=%22ba%CC%83i+bie%CC%82%CC%89n%22&amp;fr=FP-tab-web-t&amp;toggle=1&amp;cop=&amp;ei=UTF-8">57,600</A></TD>
<TD><A href="http://search.yahoo.com/search?p=%22bai+bien%22&amp;fr=FP-tab-web-t&amp;toggle=1&amp;cop=&amp;ei=UTF-8">1,030</A></TD></TR></TBODY></TABLE>
<P><FONT face=Tahoma>Conclusions:</FONT></P>
<UL>
<LI><FONT face=Tahoma>Excite (using the default settings) does not understand Unicode from UNICEF, and the only reason it had 42 hits from Form C was that it munged that second word into "bi" and linked to inappropriate sights that I would never really be interested in looking at, even if they were in Vietnamese. This is (by the way) why the link is not live. :-)</FONT> 
<LI><FONT face=Tahoma>Excite (using advanced search, which defaults to all languages) fared a little better, with Suzanne's post high up on the list for #2 and #5.</FONT> 
<LI><FONT face=Tahoma><A href="http://www.lycos.com/">Lycos</A> (which I did not put in the table) returned reults that were practically identical to ask.com.</FONT> 
<LI><FONT face=Tahoma>That one link on ask.com and lycos.com for #3 is to Suzanne's post, which I think is pretty funny. :-)</FONT> 
<LI><FONT face=Tahoma>Both altavista and yahoo appear to be using Unicode normalization, returning identical results for all canonically equivalent forms.</FONT> 
<LI><FONT face=Tahoma>Google appears to be stripping combining characters out of either its seasrch strings, its indexes, or both.</FONT> 
<LI><FONT face=Tahoma><STRONG><FONT color=#ff0000>Any</FONT></STRONG>&nbsp;claim that Google is normalizing&nbsp;appears to be&nbsp;crap -- at least insofar as one considers Unicode normalization. They are doing their own thing rather than the standard. But then they are only Associate members of Unicode, so I guess they aren't in all the way just yet....</FONT> 
<LI><FONT face=Tahoma>Microsoft (msn, start, and live) have a whole bunch of work to do and I am having trouble fathoming what precisely they are doing.</FONT> 
<LI><FONT face=Tahoma>Not enough of the Search community is taking the important of canonical equivalence seriously, to the detriment of many language communites, <STRONG>including Vietnamese</STRONG>.</FONT> 
<LI><FONT face=Tahoma>Until that time, <a href="http://archives.miloush.net/michkap/archive/2005/11/11/491349.html">a better keyboard solution for Vietnamesse</A> in particular suddenly seems&nbsp;more and more&nbsp;compelling.</FONT></LI></UL>
<P><FONT face=Tahoma></FONT>&nbsp;</P>
<P><FONT face=Tahoma color=#ff1493><EM>This post brought to you by</EM> "<FONT size=6>ổ</FONT>" <EM>(U+1ed5, a.k.a. LATIN SMALL LETTER O WITH CIRCUMFLEX AND HOOK ABOVE)</EM></FONT></P>
<hr/><p><a id="492869" href="#492869">#</a> <strong>Andrew West</strong> on 15 Nov 2005 5:01 AM:</p><div style="margin-left: 1em">&quot;Andrew West's claim that Google is normalizing appears to be crap&quot;<br><br>NOT ME! &quot;Andrew C.&quot; is someone else ... I don't mnake crap claims ;)<br><br>... and anyway he claimed that Google was *not* normalizing.<br></div>
<p><a id="492881" href="#492881">#</a> <strong>Michael S. Kaplan</strong> on 15 Nov 2005 6:17 AM:</p><div style="margin-left: 1em">Sincerest aplogies, Andrew -- I have removed the bogus reference to you. It was Simon who was trying to make the claim (I am not sure who Simon is here).<br><br>Correction made, and again I am very sorry.</div>
<p><a id="493173" href="#493173">#</a> <strong>Suzanne McCarthy</strong> on 15 Nov 2005 7:02 PM:</p><div style="margin-left: 1em">Isn't Simon's claim abaout Greek correct? Normalization is happening for some sequnces but not others. I get the same results in French and German with and without the precomposed 'vowels plus diacritics'.</div>
<p><a id="493175" href="#493175">#</a> <strong>Suzanne McCarthy</strong> on 15 Nov 2005 7:09 PM:</p><div style="margin-left: 1em">BTW I forgot to add that I really appreciate this little experiment that you created here. Thank you, Mike.</div>
<p><a id="493180" href="#493180">#</a> <strong>Michael S. Kaplan</strong> on 15 Nov 2005 7:30 PM:</p><div style="margin-left: 1em">If I had to guess, I would say they are not using Unicode normalization at all -- they are building their own homegrown system that happens to work in some cases but not others....</div>
<p><a id="493192" href="#493192">#</a> <strong>Michael S. Kaplan</strong> on 15 Nov 2005 8:19 PM:</p><div style="margin-left: 1em">You are very welcome, Suzanne. It was fun. :-)<br><br></div>
<p><a id="493830" href="#493830">#</a> <strong>Jim</strong> on 17 Nov 2005 5:44 AM:</p><div style="margin-left: 1em">Ahem, a microsoft employee rubbishing google through speculation...</div>
<p><a id="493866" href="#493866">#</a> <strong>Michael S. Kaplan</strong> on 17 Nov 2005 8:31 AM:</p><div style="margin-left: 1em">Hi Jim,<br><br>This is not rubbish -- tet yourself. Canonically equivalent Unicode forms do not find the same pages.<br><br>If I were trying to diss just Google I would not have pointed out that Microsoft is also guilty though, obviously. Both of them need to do this.</div>
<p><a id="494196" href="#494196">#</a> <strong>Mike</strong> on 17 Nov 2005 7:46 PM:</p><div style="margin-left: 1em">Very good info - hopefully this will be a big wakeup call for the big 2.  I hope those that have the power to do something about this have been &quot;educated&quot; now.</div>
<hr/><p><em>referenced by</em></p><div style="margin-left: 1em"><p>2007/07/16 <a href="http://archives.miloush.net/michkap/archive/2007/07/16/3890259.html">SIAO is still underwhelmed by search engines (all of them)</a></p><p>2007/02/26 <a href="http://archives.miloush.net/michkap/archive/2007/02/26/1761051.html">The search for someone who does Search correctly</a></p><p>2006/05/14 <a href="http://archives.miloush.net/michkap/archive/2006/05/14/597198.html">Harder intermediate forms of characters</a></p><p>2006/02/02 <a href="http://archives.miloush.net/michkap/archive/2006/02/02/522919.html">What is equal to some may not be equal to others</a></p><p>2005/12/31 <a href="http://archives.miloush.net/michkap/archive/2005/12/31/508290.html">Popularity hurts objectivity</a></p><p>2005/12/03 <a href="http://archives.miloush.net/michkap/archive/2005/12/03/499419.html">When even the bugs seem cool</a></p></div><p><em>go to <a id="newer" href="http://archives.miloush.net/michkap/archive/2005/11/16/492276.html" title="My thoughts on the scare quotes issue">newer</a> or <a id="older" href="http://archives.miloush.net/michkap/archive/2005/11/15/492200.html" title="It is not easy to chain dead keys on Windows">older</a> post, or back to <a href="http://archives.miloush.net/michkap/archive/index.html">index</a> or <a href="http://archives.miloush.net/michkap/archive/index.html#2005-11">month</a> or <a href="http://archives.miloush.net/michkap/archive/index.html#2005-11-15">day</a></em></p></body>
<!-- Mirrored from archives.miloush.net/michkap/archive/2005/11/15/492301.html by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 25 May 2017 00:42:40 GMT -->
</html>