<html>
<!-- Mirrored from archives.miloush.net/michkap/archive/2005/10/06/477930.html by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 25 May 2017 00:42:41 GMT -->
<head><meta charset="utf-8" /><meta name="viewport" content="width=device-width" /><title>I will stipulate that 64-bit is the future</title></head><body>
<h1>I will stipulate that 64-bit is the future</h1>
<p><em>by Michael S. Kaplan, published on 2005/10/06 15:01 -04:00, original URI: http://blogs.msdn.com/b/michkap/archive/2005/10/06/477930.aspx</em></p>
<hr/> <!-- Archival Source: ProcessPostNew -->
<P><FONT face=Tahoma>In the past week, I have had three different people ask me about MSKLC and x64 support, the most recent from a colleague just down the hall from me. I figured it might be time to explain a bit further than I did in <a href="http://archives.miloush.net/michkap/archive/2005/06/17/430391.html">this post</A>. So here goes....</FONT></P>
<P><FONT face=Tahoma>Let us stipulate for a moment that 64-bit computing is indeed where we are all heading, generally.</FONT></P>
<P><FONT face=Tahoma>(I am not disagreeing with the idea, I am just trying to house my argument in correct legal language!)</FONT></P>
<P><FONT face=Tahoma>So what is&nbsp;up with MSKLC?</FONT></P>
<P><FONT face=Tahoma>Well, currently is does not support either IA64 or X64 processors. A fact that has more to do with some unrelated factors about the core purpose of MSKLC when it was conceived, which was t</FONT><FONT face=Tahoma>o "open it all up" and "get out of the way" when it came to language enablement on Windows.</FONT></P>
<P><FONT face=Tahoma>Although being able to create new keyboards for accessibility reasons (for example) was made possible, that is merely a side effect of the two&nbsp;disciplines&nbsp;having overlapping requirements.&nbsp;The similarities were not enough for the accessibility team to create an On-Screen Keyboard that would fit all of the languages we have built in, or enough for the accessibility problems in MSKLC that <a href="http://blogs.msdn.com/SaraFord">Sara Ford</A> pointed out to me to have been fixed before we shipped (don't worry, I am on them for next version!).</FONT></P>
<P><FONT face=Tahoma>In summary, you end up with differences.</FONT></P>
<P><FONT face=Tahoma>At the time that MSKLC came out, AMD64 compilers were just getting usable, nobody even had the term x64, and even though there was an IA64 client space, it was already squarely aimed at the server space as its main target. Were there people with vision? Of course! But that vision was not as broadly spread to everyone just yet. So when you look at our core MSKLC purpose, it just did not mesh <U>at that time</U>.</FONT></P>
<P><FONT face=Tahoma>Of course, times change, and the landscpe for x64 is very different now than it was a few years ago. Which makes the wider scenario more potentially interesting.</FONT></P>
<P><FONT face=Tahoma>Now what goes into the change? </FONT><FONT face=Tahoma>Pretty much two things:</FONT></P>
<OL>
<LI><FONT face=Tahoma>A 64-bit keyboard to go into the %WINDIR%\System32 directory</FONT> 
<LI><FONT face=Tahoma>A special 32-bit keyboard to go into the %WINDIR%\SysWOW64 directory</FONT></LI></OL>
<P><FONT face=Tahoma>"What is so special about #2?" some may ask, especially when that directory has over 1,000 files in it on an x64 machine. But the truth is that there are only about 174 files (in the x64 Windows that just shipped) that are built differently than the regular x86 files, and of those 174 files, 123 of them are keyboard layout DLLs. The problem has to do with the info I started discussing in <a href="http://archives.miloush.net/michkap/archive/2004/12/22/329657.html">this post</A> and never got back to, the fact that most keyboard layouts export one function and that function returns the raw data about the layout. On a 64-bit platform, the pointers must be wider than reular 32-bit pointers, so just like core files (kernel32.dll, user32.dll, etc.) special versions of the keyboard layout DLLs are needed. Therefore, for IA64 and x64 to be supported by MSKLC, jt must build both files and put them into the build.</FONT></P>
<hr/><div style="margin-left: 1em"><em>no comments</em></div><hr/><p><em>referenced by</em></p><div style="margin-left: 1em"><p>2006/11/17 <a href="http://archives.miloush.net/michkap/archive/2006/11/17/1097666.html">What happened on Thursday morning?</a></p><p>2006/09/28 <a href="http://archives.miloush.net/michkap/archive/2006/09/28/774957.html">If you just don't think you can hold it (64-bit style!)</a></p><p>2006/09/13 <a href="http://archives.miloush.net/michkap/archive/2006/09/13/752086.html">MSKLC and Vista? MSKLC and 64-bit? Darn, we're 0 for 2....</a></p><p>2006/06/17 <a href="http://archives.miloush.net/michkap/archive/2006/06/17/634936.html">64-bit thoughts, and an apology</a></p><p>2006/01/26 <a href="http://archives.miloush.net/michkap/archive/2006/01/26/517728.html">MSKLC and 64-bit</a></p></div><p><em>go to <a id="newer" href="http://archives.miloush.net/michkap/archive/2005/10/07/478127.html" title="It does not always pay to be compatible">newer</a> or <a id="older" href="http://archives.miloush.net/michkap/archive/2005/10/06/477786.html" title="I ask the cat-goddess Bubastis...">older</a> post, or back to <a href="http://archives.miloush.net/michkap/archive/index.html">index</a> or <a href="http://archives.miloush.net/michkap/archive/index.html#2005-10">month</a> or <a href="http://archives.miloush.net/michkap/archive/index.html#2005-10-06">day</a></em></p></body>
<!-- Mirrored from archives.miloush.net/michkap/archive/2005/10/06/477930.html by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 25 May 2017 00:42:41 GMT -->
</html>