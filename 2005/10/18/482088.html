<html>
<!-- Mirrored from archives.miloush.net/michkap/archive/2005/10/18/482088.html by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 25 May 2017 00:42:40 GMT -->
<head><meta charset="utf-8" /><meta name="viewport" content="width=device-width" /><title>How best to alter case</title></head><body>
<h1>How best to alter case</h1>
<p><em>by Michael S. Kaplan, published on 2005/10/18 03:01 -04:00, original URI: http://blogs.msdn.com/b/michkap/archive/2005/10/18/482088.aspx</em></p>
<hr/> <!-- Archival Source: ProcessPostNew -->
<P><FONT face=Tahoma>Yesterday when I talked about <a href="http://archives.miloush.net/michkap/archive/2005/10/17/481600.html">Comparing Unicode file names the right way</A>, Mike Dunn asked the following question:</FONT></P>
<BLOCKQUOTE dir=ltr style="MARGIN-RIGHT: 0px">
<P><FONT size=2><EM>When using LCMapString to do the uppercasing, what's the right LCID to use? LOCALE_INVARIANT?</EM></FONT></P>
<P><FONT size=2><EM>The CharUpperBuff docs say it "uses the language driver for the current language selected by the user at setup or by using Control Panel" which sounds to me like a language-sensitive operation that would have the same problems as using LCMAP_LINGUISTIC_CASING.</EM></FONT></P></BLOCKQUOTE>
<P><FONT face=Tahoma>Yep, if you look at the various functions they all have text like that.</FONT></P>
<P><FONT face=Tahoma>But I will tell you a secret -- that bit of text is utter nonsense, slated for removal in the updated versions&nbsp;of&nbsp;<A title=CharUpper href="http://msdn.microsoft.com/library/en-us/winui/winui/windowsuserinterface/resources/strings/stringreference/stringfunctions/charupper.asp" target=_blank>CharUpper</A>, <A title=CharLower href="http://msdn.microsoft.com/library/en-us/winui/winui/windowsuserinterface/resources/strings/stringreference/stringfunctions/charlower.asp" target=_blank>CharLower</A>, <A title=CharUpperBuff href="http://msdn.microsoft.com/library/en-us/winui/winui/windowsuserinterface/resources/strings/stringreference/stringfunctions/charupperbuff.asp" target=_blank>CharUpperBuff</A>, and <A title=CharLowerBuff href="http://msdn.microsoft.com/library/en-us/winui/winui/windowsuserinterface/resources/strings/stringreference/stringfunctions/charlowerbuff.asp" target=_blank>CharLowerBuff</A>&nbsp;(if you doubt me, you can look up early versions of the new&nbsp;text at <A href="http://windowssdk.msdn.microsoft.com/library/en-us/Winui/winui/windowsuserinterface/resources/strings/stringreference/stringfunctions/charupper.asp">CharUpper</A>, <A href="http://windowssdk.msdn.microsoft.com/library/en-us/Winui/winui/windowsuserinterface/resources/strings/stringreference/stringfunctions/charlower.asp">CharLower</A>, <A href="http://windowssdk.msdn.microsoft.com/library/en-us/Winui/winui/windowsuserinterface/resources/strings/stringreference/stringfunctions/charupperbuff.asp">CharUpperBuff</A>, and <A href="http://windowssdk.msdn.microsoft.com/library/en-us/Winui/winui/windowsuserinterface/resources/strings/stringreference/stringfunctions/charlowerbuff.asp">CharLowerBuff</A>).&nbsp;&nbsp; :-)</FONT></P>
<P><FONT face=Tahoma>I sort of explained it when I asked <a href="http://archives.miloush.net/michkap/archive/2004/12/11/279942.html">what linguistic casing means</A>, but only in a very roundabout way. The thing is that unless you pass that LCMAP_LINGUISTIC_CASING flag, there is absolutely no locale-specific behavior whatsoever, irregardless of what LCID you pass.</FONT></P>
<P><FONT face=Tahoma>(<EM>Well technically, we still do validate that the LCID is one we recognize, but we do not do anything with the locale; this would suggest that for performance reasons you should try to pass the LCID representing the default user locale so that you do not have load a new locale or anything</EM>.)</P>
<P><FONT face=Tahoma>So, the answer to the question is that it does not matter what LCID you pass -- at all. But only if you do not pass LCMAP_LINGUISTIC_CASING.</FONT></P>
<P><STRONG>Note: all of the above applies to unmanaged code only.</STRONG></P>
<P>For managed code, the managed equivalent of LCMAP_LINGUISTIC_CASING in passed internally for every single culture <EM>except</EM> for the invariant one. So there you probably <EM>do</EM> want to use the <A href="http://msdn.microsoft.com/library/en-us/cpref/html/frlrfsystemglobalizationcultureinfoclassinvariantculturetopic.asp">InvariantCulture</A> to do your casing when you are dealing with managed code.</P>
<P>&nbsp;</P>
<P><FONT color=#ff1493><EM>This post brought to you by</EM> "<FONT size=6>Å¿</FONT>" <EM>(<A href="http://www.fileformat.info/info/unicode/char/017f">U+017f</A>, LATIN SMALL LETTER LONG S)</EM></FONT></P></FONT>
<hr/><p><a id="482208" href="#482208">#</a> <strong>David</strong> on 18 Oct 2005 8:40 AM:</p><div style="margin-left: 1em">Argh! Please...Just Say No to &quot;irregardless&quot;! Other than that, thanks for the info ;).</div>
<p><a id="482254" href="#482254">#</a> <strong>Michael S. Kaplan</strong> on 18 Oct 2005 10:50 AM:</p><div style="margin-left: 1em">Hi David,<br><br>Well, technically it *is* a word, though some people truly don't like it. :-)</div>
<p><a id="482296" href="#482296">#</a> <strong>Michael Dunn_</strong> on 18 Oct 2005 12:28 PM:</p><div style="margin-left: 1em">Cool, thanks for the quick answer.<br> <br>David, I'll take &quot;irregardless&quot; over &quot;performant&quot; any day.</div>
<p><a id="482507" href="#482507">#</a> <strong>David</strong> on 18 Oct 2005 11:15 PM:</p><div style="margin-left: 1em">&gt; David, I'll take &quot;irregardless&quot; over &quot;performant&quot; any day.<br><br>At least &quot;performant&quot; has a reason for living...it replaces &quot;performs well&quot; or &quot;has high performance&quot; with a single word. &quot;Irregardless&quot; takes a word that means exactly the same thing, and tacks two letters on the front :P.</div>
<p><a id="482650" href="#482650">#</a> <strong>Maurits [MSFT]</strong> on 19 Oct 2005 11:23 AM:</p><div style="margin-left: 1em">(insert tongue into cheek)<br><br>regard-less: &quot;without regard&quot;<br>irregardless: &quot;not without regard&quot; ???<br><br>How about &quot;irregardful&quot;?</div>
<p><a id="482655" href="#482655">#</a> <strong>Michael S. Kaplan</strong> on 19 Oct 2005 11:32 AM:</p><div style="margin-left: 1em">Hmmmm. According to dictionary.com:<br><br>regardless: In spite of everything; anyway<br><br>irregardless: regardless; a combination of irrespective and regardless sometimes used humorously<br><br>I am a humorous kind of guy, irregardless of what some of you may think.... :-)</div>
<p><a id="482718" href="#482718">#</a> <strong>Maurits [MSFT]</strong> on 19 Oct 2005 1:50 PM:</p><div style="margin-left: 1em">You conveniently left out the other definition :)<br><br><a rel="nofollow" target="_new" href="http://dictionary.reference.com/search?q=irregardless">http://dictionary.reference.com/search?q=irregardless</a><br><br>I'm not a fan of the American Heritage dictionary -- it's very snooty -- and this link is a perfect example.</div>
<p><a id="482723" href="#482723">#</a> <strong>Michael S. Kaplan</strong> on 19 Oct 2005 1:58 PM:</p><div style="margin-left: 1em">Of course in explaining why *I* choose to use a word, I use the definitions that *I* believe to be correct....</div>
<hr/><p><em>referenced by</em></p><div style="margin-left: 1em"><p>2008/06/25 <a href="http://archives.miloush.net/michkap/archive/2008/06/25/8652525.html">Seeing the tears, my heart went out to her as I asked her "Why the Long S?"</a></p></div><p><em>go to <a id="newer" href="http://archives.miloush.net/michkap/archive/2005/10/19/481635.html" title="Locales should be stable but should never stand still">newer</a> or <a id="older" href="http://archives.miloush.net/michkap/archive/2005/10/18/481654.html" title="Font Linking vs. Font Fallback, #2">older</a> post, or back to <a href="http://archives.miloush.net/michkap/archive/index.html">index</a> or <a href="http://archives.miloush.net/michkap/archive/index.html#2005-10">month</a> or <a href="http://archives.miloush.net/michkap/archive/index.html#2005-10-18">day</a></em></p></body>
<!-- Mirrored from archives.miloush.net/michkap/archive/2005/10/18/482088.html by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 25 May 2017 00:42:40 GMT -->
</html>