<html>
<!-- Mirrored from archives.miloush.net/michkap/archive/2005/10/29/486617.html by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 25 May 2017 00:42:40 GMT -->
<head><meta charset="utf-8" /><meta name="viewport" content="width=device-width" /><title>Why an 8-hour day seems to take forever</title></head><body>
<h1>Why an 8-hour day seems to take forever</h1>
<p><em>by Michael S. Kaplan, published on 2005/10/29 03:01 -04:00, original URI: http://blogs.msdn.com/b/michkap/archive/2005/10/29/486617.aspx</em></p>
<hr/> <!-- Archival Source: ProcessPostNew -->
<P><FONT face=Tahoma><A title="Yoshihiro kawabata" href="http://blogs.sqlpassj.org/yoshihirokawabata/">Yoshihiro kawabata</A> asked the suggestion box:</FONT></P>
<BLOCKQUOTE dir=ltr style="MARGIN-RIGHT: 0px">
<P><FONT size=2>Hello, Michael. <BR><BR>About U+221E. <BR>I test this code in SQL Server 2005. <BR><BR>select convert(varchar, nchar(0x221E)) <BR><BR>Result: <BR>'8' Collation(Latin1_General_CI_AS). <BR>'∞' Collation(Japanese_CI_AS). <BR><BR>Why U+221E is convert to 8 in Latin1_General_CI_AS ? </FONT></P></BLOCKQUOTE>
<P><FONT face=Tahoma>The answer can be found in prior posts such as <a href="http://archives.miloush.net/michkap/archive/2005/02/13/371895.html"><STRONG>If the shoe [best-]fits....</STRONG></A> and <a href="http://archives.miloush.net/michkap/archive/2005/02/15/373713.html"><STRONG><STRIKE>Best</STRIKE>Better than nothing fit mappings, unleashed, #1</STRONG></A>. In fact, if you look at that second post you will see that I marked this particular mapping as my favorite one.</FONT></P>
<P><FONT face=Tahoma>What is clear is that SQL Server is simply calling <A href="http://msdn.microsoft.com/library/en-us/intl/unicode_2bj9.asp">WideCharToMultiByte</A>&nbsp;without passing&nbsp;the <STRONG>WC_NO_BEST_FIT_CHARS</STRONG> flag. So any of the best fit mappings that exist in the code page are picked up.</FONT></P>
<P><FONT face=Tahoma>At least now you know why a full eight-hour day at work can seem to take forever. Because depending on the code page you use, they can kind of be the same thing....</FONT></P>
<P><FONT face=Tahoma></FONT>&nbsp;</P>
<P><FONT face=Tahoma><FONT color=#ff1493><EM>This post brought to you by </EM>"8"<EM> and </EM>"∞"</FONT></FONT><EM><FONT face=Tahoma color=#ff1493> (</FONT><FONT face=Tahoma color=#ff1493><A href="http://www.fileformat.info/info/unicode/char/0038/index.htm">U+0038</A></FONT><FONT face=Tahoma color=#ff1493> and </FONT><FONT face=Tahoma color=#ff1493><A href="http://www.fileformat.info/info/unicode/char/221e/index.htm">U+221e</A></FONT><FONT face=Tahoma><FONT color=#ff1493>, a.k.a. DIGIT EIGHT and INFINITY)<BR><FONT size=1>Two characters who are great friends, merely a single best fit mapping away from each other!</FONT></FONT></FONT></EM></P>
<hr/><p><a id="486646" href="#486646">#</a> <strong>Heath Stewart</strong> on 29 Oct 2005 8:26 AM:</p><div style="margin-left: 1em">This is where earning a wage (as opposed to a salary) would be better - imagine all the overtime!</div>
<p><a id="486795" href="#486795">#</a> <strong>Michael S. Kaplan</strong> on 29 Oct 2005 1:42 PM:</p><div style="margin-left: 1em">On the other hand, they might just pay you $8 and nothing more....</div>
<p><a id="487133" href="#487133">#</a> <strong>Yoshihiro kawabata</strong> on 31 Oct 2005 12:01 AM:</p><div style="margin-left: 1em">Thanks,<br>Are there any encoding method in .NET Framework that can set WC_NO_BEST_FIT_CHARS on/off ?<br>If exists, I will try to create some conversion methods with WC_NO_BEST_FIT_CHARS by SQLCLR.</div>
<p><a id="487210" href="#487210">#</a> <strong>Michael S. Kaplan</strong> on 31 Oct 2005 7:29 AM:</p><div style="margin-left: 1em">I am confused, Yoshihiro-san -- SQL Server does *not* use the flag, so why would you want to use it?<br><br>Using .NET 2.0, you can choose from many different encoding fallbacks, including a best fit one that matches the semantics of not passing this flag on Windows.</div>
<hr/><p><em>referenced by</em></p><div style="margin-left: 1em"><p>2012/02/20 <a href="http://archives.miloush.net/michkap/archive/2012/02/20/10269748.html">Where short file names can fail</a></p><p>2008/05/08 <a href="http://archives.miloush.net/michkap/archive/2008/05/08/8466991.html">In hindsight, they may have BEST FIT these files where the sun never shines</a></p><p>2006/02/14 <a href="http://archives.miloush.net/michkap/archive/2006/02/14/531572.html">Every character has a story #18: U+06cc and U+064a (ARABIC LETTER FARSI YEH and ARABIC LETTER YEH)</a></p></div><p><em>go to <a id="newer" href="http://archives.miloush.net/michkap/archive/2005/10/30/486838.html" title="Getting on people&#39;s case">newer</a> or <a id="older" href="http://archives.miloush.net/michkap/archive/2005/10/28/486333.html" title="Karaoke, huh?">older</a> post, or back to <a href="http://archives.miloush.net/michkap/archive/index.html">index</a> or <a href="http://archives.miloush.net/michkap/archive/index.html#2005-10">month</a> or <a href="http://archives.miloush.net/michkap/archive/index.html#2005-10-29">day</a></em></p></body>
<!-- Mirrored from archives.miloush.net/michkap/archive/2005/10/29/486617.html by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 25 May 2017 00:42:40 GMT -->
</html>