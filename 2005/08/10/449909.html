<html>
<!-- Mirrored from archives.miloush.net/michkap/archive/2005/08/10/449909.html by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 25 May 2017 00:42:41 GMT -->
<head><meta charset="utf-8" /><meta name="viewport" content="width=device-width" /><title>Double compressions -- Hungarian goulash?</title></head><body>
<h1>Double compressions -- Hungarian goulash?</h1>
<p><em>by Michael S. Kaplan, published on 2005/08/10 10:38 -04:00, original URI: http://blogs.msdn.com/b/michkap/archive/2005/08/10/449909.aspx</em></p>
<hr/> <!-- Archival Source: ProcessPostNew -->
<P><FONT face=Tahoma>Different languages bring different expectations. And people who natively speak, write, and read languages have those different expectations.</FONT></P>
<P><FONT face=Tahoma>Now that is fine, and of course the time it gets harder is when those different expectations conflict with each other, or when they don't but a user who is trying out a language that is not theirs is confused by the results.</FONT></P>
<P><FONT face=Tahoma>This happens with <a href="http://archives.miloush.net/michkap/archive/2004/12/25/332259.html">genitive date forms</A>, <a href="http://archives.miloush.net/michkap/archive/2004/12/31/344739.html">reverse&nbsp;diacritic sorting</A>, and many other features specific to various languages supported by Windows. And there are more of these types of features to come in the future, of course.</FONT></P>
<P><FONT face=Tahoma>I thought I would talk about another one today -- a feature that is seen in Hungarian, that of <STRONG>double compressions</STRONG>.</FONT></P>
<P><FONT face=Tahoma>Now I have talked about compressions in the past, like the Traditional Spanish <STRONG>ch</STRONG> being treated as if it were a single element for the purposes of sorting. This feature I am talking about today is a little more complicated.</FONT></P>
<P><FONT face=Tahoma>Basically, the feature is such that since <STRONG>dzs</STRONG> is a compression within Hungarian, that if you see <STRONG>ddzs</STRONG> it should be treated as equivalent to <STRONG>dzsdzs</STRONG>.</FONT></P>
<P><FONT face=Tahoma>Now this is an important issue on two levels -- basically dealing with the fact that <EM>collation</EM> deals with both <EM>comparison</EM> and <EM>ordering</EM>. I'll talk about both aspects now.</FONT></P>
<P><FONT face=Tahoma>COMPARISON -- In Hungarian comparisons, having <STRONG>ddzs</STRONG> treated as being equal to <STRONG>dzsdzs</STRONG> is simple enough. This may not be commonly needed though, in practice -- people likely use one or the other most of the time.</FONT></P>
<P><FONT face=Tahoma>ORDERING -- In Hungarian ordering, having <STRONG>ddzs</STRONG> treated as being equal to <STRONG>dzsdzs</STRONG> is again simple enough (the cost is the same!), but in this case it may be more important in terms of day to day usage -- since if you are not aware of the feature and you expect the string in the wrong place then you may not find the data you are looking for.</FONT></P>
<P><FONT face=Tahoma>This particular feature does its work on all of the various digraph/trigraph compressions that exist in Hungarian. It is noteworthy that when non-native speakers of the language notice the issue, they are not sure whether there is a bug or not. But that actually points back to the strength that exists in Windows and the .NET Framework by virtue of the solid connection between linguists and developers. And also the strength of strong international feature testers. :-)</FONT></P>
<P><FONT face=Tahoma>In the end, attempting to reverse engineer an implementation is (in my opinion) a flawed approach, though the <a href="http://archives.miloush.net/michkap/archive/2005/08/03/447224.html">observations of others</A> can be quite interesting and illuminating as they delve. :-) T</FONT><FONT face=Tahoma>he real strength of an implementation if the people who reverse the dictionaries, the core language elements that give expected orderings. It is like the difference between drawing a map by looking at someone else's map as a source and drawing a map using the actual region as a source -- one is imitation, the other is art (in the cartography case, it is&nbsp;a bit more harsh -- one is theft of intellectual property and the other is not!).</FONT></P>
<P><FONT face=Tahoma>The other reason why I think that attempting to reverse engineer an implementation is flawed is that it is unlikely that every case will be handled (there are too many of them!). If you base the support on actual languages then you can work to have complete or nearly complete feature sets; if, however, you base the support on someone's implementation then you never know what features you are missing -- and what language support might be thereby incomplete.</FONT></P>
<P><FONT face=Tahoma>Does it make us better? Probably not the sort of thing subject to that kind of value judgment, so I won't say one way or the other. But I know that I feel much more like I am doing my level best when <EM>I</EM> handle things this way.... :-)</FONT></P>
<P><FONT face=Tahoma></FONT>&nbsp;</P>
<P><FONT face=Tahoma color=#ff0000><EM>This post brought to you by</EM> "<FONT face="Arial Unicode MS">Ç±</FONT>" <EM>(<A href="http://www.fileformat.info/info/unicode/char/01f1/index.htm">U+01f1</A>, a.k.a. LATIN CAPITAL LETTER DZ)</EM></FONT></P>
<hr/><p><a id="449948" href="#449948">#</a> <strong>Maurits [MSFT]</strong> on 10 Aug 2005 12:51 PM:</p><div style="margin-left: 1em">Thought you might find this amusing, in the international/Hungarian goulash sense.  If you find it offensive I apologize.<br><br>Sung to the tune of Brahms' Hungarian Dance #5:<br><a rel="nofollow" target="_new" href="http://lyrics.rare-lyrics.com/A/Allan-Sherman/Hungarian-Goulash-No-5.html">http://lyrics.rare-lyrics.com/A/Allan-Sherman/Hungarian-Goulash-No-5.html</a></div>
<p><a id="449982" href="#449982">#</a> <strong>Michael S. Kaplan</strong> on 10 Aug 2005 1:58 PM:</p><div style="margin-left: 1em">I grew up on Allan Sherman and have no problem with any song he sings. :-)</div>
<p><a id="450307" href="#450307">#</a> <strong>Peter from Hungary</strong> on 11 Aug 2005 3:14 AM:</p><div style="margin-left: 1em">Jut nitpicking, but actually goulash consists of less components*. And we don't eat it that frequently at all :)<br><br>Off topic: Michael, have you noticed that you've been Joel'd? [<a rel="nofollow" target="_new" href="http://www.joelonsoftware.com/items/2005/08/10.html">http://www.joelonsoftware.com/items/2005/08/10.html</a>]<br><br>* One typical version is onion, beef, hot paprika, green paprika, potato, tomato and spices. Even the famous bolognese sauce takes more components :)</div>
<p><a id="450341" href="#450341">#</a> <strong>Michael S. Kaplan</strong> on 11 Aug 2005 7:28 AM:</p><div style="margin-left: 1em">Hi Peter --<br><br>Yes, I saw that. I wish there were *time* to write another book, and that I felt like I could write it, and....<br><br>So are you inviting us all over for goulash? :-)</div>
<p><a id="450355" href="#450355">#</a> <strong>Peter</strong> on 11 Aug 2005 8:58 AM:</p><div style="margin-left: 1em">I fully support the idea of another book, this time not bound to a language, but the Windows platform itself. Although I am not involved in i18n more than an average developer, I find this topic very interesting. Checking amazon.com, there are not so many books about this.<br><br>As for the guly&#225;s, anytime you come here, I will be happy to cook for you :)<br><br>Less off topic, I tried to find any word used in the everyday life which has double 'dzs', but the ones I could came up are rather forced like 'briddzsentri' (bridge gentry). Virtually any words I know with 'dzs' is 'imported' word, like 'nindzsa', 'dzsezz', 'dzsip' or 'dzsinn' (not so hard to find out the original ones) and often we use the original forms, except for words imported ages before, like 'handzs&#225;r' (scimitar), 'l&#225;ndzsa' (spear), which most likely coming from Turkish, judging by their sound.<br><br>I think we have given you some extra work also with the two sort orders (default and technical) of Hungarian :)</div>
<p><a id="450419" href="#450419">#</a> <strong>Michael S. Kaplan</strong> on 11 Aug 2005 11:17 AM:</p><div style="margin-left: 1em">I don't think there is anyone who minds the &quot;extra work&quot;, so no worries there. :-)<br><br>You could take a look at the 2nd edition of Developing International Software to see if that helps you as an intro to the topic....</div>
<p><a id="450420" href="#450420">#</a> <strong>Michael S. Kaplan</strong> on 11 Aug 2005 11:18 AM:</p><div style="margin-left: 1em">And of course I would never say no to a homecooked meal!</div>
<p><a id="450710" href="#450710">#</a> <strong>Peter</strong> on 12 Aug 2005 2:03 AM:</p><div style="margin-left: 1em">Thanks for the tip on Developing International Software, it is on my wish list since February, but other books always took its place in my orders. Now at least I know that it is worth to buy that.</div>
<p><a id="452390" href="#452390">#</a> <strong>Archer</strong> on 16 Aug 2005 6:29 PM:</p><div style="margin-left: 1em">Does anyone know how to perform natural sorting with SQL Server?  The nat function of php is what I need, but in SQL code.  Thanks.</div>
<p><a id="452424" href="#452424">#</a> <strong>Michael S. Kaplan</strong> on 16 Aug 2005 8:13 PM:</p><div style="margin-left: 1em">Hi Archer --<br><br>Not much to do with Hungarian, huh? :-)<br><br>I am not familiar with the term &quot;natural sorting&quot; so I cannot say the best way to do it in SQLS. You may want to ask in the newsgroups or other product support venues, though....</div>
<hr/><p><em>referenced by</em></p><div style="margin-left: 1em"><p>2010/03/15 <a href="http://archives.miloush.net/michkap/archive/2010/03/15/9974423.html">Thus the problems resist solution, and the workarounds are often inadequate</a></p><p>2005/11/26 <a href="http://archives.miloush.net/michkap/archive/2005/11/26/495072.html">Technically it *is* a hungarian sort</a></p><p>2005/11/13 <a href="http://archives.miloush.net/michkap/archive/2005/11/13/491646.html">Hungarian is even more complicated than I thought</a></p></div><p><em>go to <a id="newer" href="http://archives.miloush.net/michkap/archive/2005/08/10/450054.html" title="Your program is crashing. Are you listening?">newer</a> or <a id="older" href="http://archives.miloush.net/michkap/archive/2005/08/10/449851.html" title="Suits you to a _T()">older</a> post, or back to <a href="http://archives.miloush.net/michkap/archive/index.html">index</a> or <a href="http://archives.miloush.net/michkap/archive/index.html#2005-08">month</a> or <a href="http://archives.miloush.net/michkap/archive/index.html#2005-08-10">day</a></em></p></body>
<!-- Mirrored from archives.miloush.net/michkap/archive/2005/08/10/449909.html by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 25 May 2017 00:42:41 GMT -->
</html>