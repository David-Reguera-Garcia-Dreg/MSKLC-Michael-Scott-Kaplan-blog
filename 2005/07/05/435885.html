<html>
<!-- Mirrored from archives.miloush.net/michkap/archive/2005/07/05/435885.html by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 25 May 2017 00:42:41 GMT -->
<head><meta charset="utf-8" /><meta name="viewport" content="width=device-width" /><title>Change is in the cards for ConvertDefaultLocale....</title></head><body>
<h1>Change is in the cards for ConvertDefaultLocale....</h1>
<p><em>by Michael S. Kaplan, published on 2005/07/06 02:30 -04:00, original URI: http://blogs.msdn.com/b/michkap/archive/2005/07/05/435885.aspx</em></p>
<hr/> <!-- Archival Source: ProcessPostNew -->
<P><FONT face=Tahoma>For some time now, the model being used for neutral locales in Windows, described in <a href="http://archives.miloush.net/michkap/archive/2004/12/29/343557.html">this</A> post, has been geting more and more problematic.</FONT></P>
<P><FONT face=Tahoma>After all, there are more and more new neutral locale LCID values that do not look like ordinary PRIMARYLANGID values. Like 0x7c04 for Traditional Chinese. And these values currently&nbsp;do not work well with&nbsp;<A href="http://msdn.microsoft.com/library/en-us/intl/nls_80o5.asp">ConvertDefaultLocale</A>.</FONT></P>
<P><FONT face=Tahoma>I guess we on the Windows side could claim that since Windows did not return the value, it is under no obligation to accept it. And we could say that the people generating the values are the ones who made the mess; they should be the ones to fix it.</FONT></P>
<P><FONT face=Tahoma>Unfortunately, we are not only the victims of the crime here, we are also the perpetrators. So now&nbsp;is not the time to get defensive, since no one really cares what "aspect" of us is at fault. We should just make it work properly.</FONT></P>
<P><FONT face=Tahoma>Luckily there are only&nbsp;a few cases. :-)</FONT></P>
<P><FONT face=Tahoma>It is also important for you (the customer) to do something, too. When you are using the macros to construct LCID values that you make sure you are using the values properly and building the LCIDs correctly. Use the right SUBLANGID value from the list, rather than just assuming that SUBLANG_DEFAULT is good enough. Since sometimes it is not!</FONT></P>
<P><FONT face=Tahoma>But we'll take care of <A href="http://msdn.microsoft.com/library/en-us/intl/nls_80o5.asp">ConvertDefaultLocale</A> -- it needs a little tweaking to handle some of these corner cases....</FONT></P>
<P><FONT face=Tahoma></FONT>&nbsp;</P>
<P><FONT face=Tahoma color=#ff0000><EM>This post brought to you by</EM> "<FONT size=3>Öƒ</FONT>"<EM>&nbsp;(<A href="http://www.fileformat.info/info/unicode/char/0583/index.htm">U+0583</A>, a.k.a. ARMENIAN SMALL LETTER PIWR)</EM></FONT></P>
<hr/><div style="margin-left: 1em"><em>no comments</em></div><hr/><p><em>referenced by</em></p><div style="margin-left: 1em"><p>2009/09/02 <a href="http://archives.miloush.net/michkap/archive/2009/09/02/9890204.html">How ConvertDefaultLocale sorta broke backward compatibility in Windows 7, and why</a></p><p>2006/11/07 <a href="http://archives.miloush.net/michkap/archive/2006/11/07/1011692.html">How ConvertDefaultLocale sorta broke backward compatibility in Vista, and why</a></p><p>2006/02/22 <a href="http://archives.miloush.net/michkap/archive/2006/02/22/536877.html">And the digits just keep on coming</a></p></div><p><em>go to <a id="newer" href="http://archives.miloush.net/michkap/archive/2005/07/06/436276.html" title="Coming soon">newer</a> or <a id="older" href="http://archives.miloush.net/michkap/archive/2005/07/05/435709.html" title="&#39;Need more input, Stephanie!&#39;">older</a> post, or back to <a href="http://archives.miloush.net/michkap/archive/index.html">index</a> or <a href="http://archives.miloush.net/michkap/archive/index.html#2005-07">month</a> or <a href="http://archives.miloush.net/michkap/archive/index.html#2005-07-05">day</a></em></p></body>
<!-- Mirrored from archives.miloush.net/michkap/archive/2005/07/05/435885.html by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 25 May 2017 00:42:41 GMT -->
</html>