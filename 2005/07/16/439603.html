<html>
<!-- Mirrored from archives.miloush.net/michkap/archive/2005/07/16/439603.html by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 25 May 2017 00:42:41 GMT -->
<head><meta charset="utf-8" /><meta name="viewport" content="width=device-width" /><title>Ambiguity of Language in the Platform SDK</title></head><body>
<h1>Ambiguity of Language in the Platform SDK</h1>
<p><em>by Michael S. Kaplan, published on 2005/07/16 11:30 -04:00, original URI: http://blogs.msdn.com/b/michkap/archive/2005/07/16/439603.aspx</em></p>
<hr/> <!-- Archival Source: ProcessPostNew -->
<P><FONT face=Tahoma>A few weeks ago, Ivo asked in the microsoft.public.win32.programmer.international newsgroup:</FONT></P>
<BLOCKQUOTE dir=ltr style="MARGIN-RIGHT: 0px">
<P><EM><FONT size=2>I was wondering what is the point of the LeadingZero member in NUMBERFMT and CURRENCYFMT. The fact is that GetNumberFormat and GetCurrencyFormat do not have an argument to specify the width of the output, just the size of the buffer. Leading zeros only make sense if I can specify the width of the result somehow. I tried passing GetNumberFormat a source string with leading zeros, but it just ignores them regardless of the LeadingZero flag in NUMBERFMT.</FONT></EM></P></BLOCKQUOTE>
<P><FONT face=Tahoma>The fact is that the LOCALE_ILZERO LCTYPE in <A href="http://msdn.microsoft.com/library/en-us/intl/nls_34rz.asp">GetLocaleInfo</A>&nbsp;and the LeadingZero member of the <A href="http://msdn.microsoft.com/library/en-us/intl/nls_2eeq.asp">CURRENCYFMT</A>&nbsp;and <A href="http://msdn.microsoft.com/library/en-us/intl/nls_9x0y.asp">NUMBERFMT</A>&nbsp;structures (used by the <A href="http://msdn.microsoft.com/library/en-us/intl/nls_0rec.asp">GetCurrencyFormat</A>&nbsp;and <A href="http://msdn.microsoft.com/library/en-us/intl/nls_8a0k.asp">GetNumberFormat</A>&nbsp;functions, respectively) are described in a way that can easily lead a reasonably intelligent developer to come to the same conclusion that Ivo did:</FONT></P>
<BLOCKQUOTE dir=ltr style="MARGIN-RIGHT: 0px">
<P><FONT face=Tahoma><STRONG>NUMBERFMT.LeadingZero </STRONG><BR>Specifies whether to use leading zeroes in decimal fields. This is equivalent to the locale information specified by the LCTYPE constant value LOCALE_ILZERO.</FONT></P>
<P><FONT face=Tahoma><STRONG>CURRENCYFMT.LeadingZero</STRONG> <BR>Specifies whether to use leading zeroes in decimal fields. This is equivalent to the locale information specified by the LCTYPE constant value LOCALE_ILZERO. </FONT></P>
<P><FONT face=Tahoma><STRONG>LOCALE_ILZERO</STRONG> <BR>Specifier for leading zeros in decimal fields. The maximum number of characters allowed for this string is two. The specifier can be one of the following values: <BR>0 No leading zeros <BR>1 Leading zeros </FONT></P></BLOCKQUOTE>
<P><FONT face=Tahoma>Now the meaning of the LOCALE_ILZERO&nbsp;flag (which, as the documentation for the structs states, applies to both the number and currency formats -- LOCALE_ILMONZERO is all about months, not money!) is not giving permission for there to be numbers like 0000.50.</FONT></P>
<P><FONT face=Tahoma>It is meant to distinguish between <STRONG>.50</STRONG> and <STRONG>0.50</STRONG>. It is to allow the often locale-specific preference for one form or the other to be expressed for a given number. Note the plural forms on both sides of the sentence:</FONT></P>
<BLOCKQUOTE dir=ltr style="MARGIN-RIGHT: 0px">
<P><FONT face=Tahoma>Specifies whether to use leading zero<STRONG><FONT color=#ff0000>es</FONT></STRONG> in decimal field<STRONG><FONT color=#ff0000>s</FONT></STRONG></FONT></P></BLOCKQUOTE>
<P><FONT face=Tahoma>Yes, it does talk about multiple zeroes. But it also is talking about multiple numbers. It only means to imply one leading zero per number, a fact that is easy to not see, even if English is one's first language (if it is not then there are even more reasons to possibly not get the admittedly unclear implied message here).</FONT></P>
<P><FONT face=Tahoma>So I think&nbsp;we can all agree that the language is ambiguous here. Even if you understood the meaning yourself, you can almost certainly see the alternate interpretation and how someone might think that is the meaning.</FONT></P>
<P><FONT face=Tahoma>It would be interesting to see if there is some pattern in the way people interpret the text, and whether it correlates with their original native language. </FONT><FONT face=Tahoma>It would also be fascinating to know what translated versions of the Platform SDK say here -- whether the localizer made the same mistake in interpretation, or whether they let the same ambiguity span the language barrier and exist in the localized version.</FONT></P>
<P><FONT face=Tahoma>On the other hand, it would be fascinating to know if there were localized versions of the Platform SDK (all&nbsp;of the ones that ship with various language versions of products seem to be in English; I guess they dodged that bullet!).</FONT></P>
<P><FONT face=Tahoma></FONT>&nbsp;</P>
<P><FONT face=Tahoma color=#ff0000><EM>This post brought to you by</EM> "ريال" <EM>(</EM></FONT><EM><FONT face=Tahoma color=#ff0000>U+0631 U+064a U+0627 U+0644, a.k.a. Rial as in the Iranian Rial)<BR><FONT size=1>a currency that seldom requires one to care about leading zeroes since the currency values are generally not fractional</FONT></FONT></EM></P>
<hr/><p><a id="439621" href="#439621">#</a> <strong>Luke</strong> on 16 Jul 2005 1:45 PM:</p><div style="margin-left: 1em">Reminds me of an exam question given by one of my physics professors, something like &quot;what is the probability that electron A is farther from the nucleus than electron B?&quot; Most of the students drew a mental boundary line at B, but some drew their line halfway between the nucleus and B; the former thought &quot;...than electron B is&quot; while the latter thought &quot;...than from electron B.&quot;</div>
<p><a id="439814" href="#439814">#</a> <strong>Michael Dunn_</strong> on 17 Jul 2005 7:57 PM:</p><div style="margin-left: 1em">The only language I know well enough to talk about is French, but the rule for using a singular/plural noun in that case is different than the English rule. In French, when you write &quot;noun1 [preposition] noun2&quot;, noun1 is plural only if each noun2 has multiple noun1s. So a native French speaker  could easily infer that &quot;leading zeroes in decimal fields&quot; means each field has multiple zeroes.<br>This ambiguity could be resolved by writing &quot;Specifies whether to use a leading zero in decimal fields&quot; which is still correct in English and will lead a French speaker (doing a mental word-for-word translation) to the correct conclusion.</div>
<p><a id="439838" href="#439838">#</a> <strong>Michael S. Kaplan</strong> on 17 Jul 2005 10:12 PM:</p><div style="margin-left: 1em">Hmmm... clarity of concept in *two* languages. Cool. :-)</div>
<hr/><p><em>referenced by</em></p><div style="margin-left: 1em"><p>2012/05/22 <a href="http://archives.miloush.net/michkap/archive/2012/05/22/10308620.html">Special casing of locale specific number formatting....</a></p><p>2007/06/02 <a href="http://archives.miloush.net/michkap/archive/2007/06/02/3050031.html">Objection, managed code! That zero is leading!</a></p></div><p><em>go to <a id="newer" href="http://archives.miloush.net/michkap/archive/2005/07/16/439629.html" title="Pardon my French, but...">newer</a> or <a id="older" href="http://archives.miloush.net/michkap/archive/2005/07/15/439513.html" title="Disabilities in the workplace">older</a> post, or back to <a href="http://archives.miloush.net/michkap/archive/index.html">index</a> or <a href="http://archives.miloush.net/michkap/archive/index.html#2005-07">month</a> or <a href="http://archives.miloush.net/michkap/archive/index.html#2005-07-16">day</a></em></p></body>
<!-- Mirrored from archives.miloush.net/michkap/archive/2005/07/16/439603.html by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 25 May 2017 00:42:41 GMT -->
</html>