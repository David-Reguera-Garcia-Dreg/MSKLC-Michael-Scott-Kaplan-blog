<html>
<!-- Mirrored from archives.miloush.net/michkap/archive/2004/11/28/271121.html by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 25 May 2017 00:42:42 GMT -->
<head><meta charset="utf-8" /><meta name="viewport" content="width=device-width" /><title>Microsoft does not use the Unicode Collation Algorithm</title></head><body>
<h1>Microsoft does not use the Unicode Collation Algorithm</h1>
<p><em>by Michael S. Kaplan, published on 2004/11/28 04:10 -05:00, original URI: http://blogs.msdn.com/b/michkap/archive/2004/11/28/271121.aspx</em></p>
<hr/> <!-- Archival Source: ProcessPostNew -->
<P>Robert A. Heinlein told a story in his book <U>Expanded Universe</U> back in 1980 (bear with me,&nbsp;I promise I'll be making a point eventually):</P>
<BLOCKQUOTE dir=ltr>
<P><EM><FONT size=1>A few years ago, I was visited by an astronomer, quite young and brilliant. He claimed to be a long-time reader of my fiction and his conversation proved it. I was telling him about a time I needed a synergiestic orbit from Earth to a 24-hour station; I told him the story it was in, he was familiar with the scene, mentioned having read the book in grammar school.<BR><BR>This orbit is similar in appearance to a cometary interplanet transfer but is in fact a series of compromises in order to arrive in step with the space station; elapsed time is an unsmooth integral not to be found in Hudson's Manual but it can be solved by the methods used on the Siacci empiricals for atmosphere ballistic: numerical integration.<BR><BR>I'm married to a woman who knows more math, history, and languages than I do. This should teach me humility (and sometimes does, for a few minutes). Her brain is a great help to me professionally. I was telling this young scientist how we obtained yards of butcher paper, then each&nbsp; of us worked three days, independently, solved the problem and checked each other -- then the answer disappeared into *one* line of *one* paragraph (SPACE CADET) but the effort had been worthwhile since it controlled what I could do dramatically in that sequence.<BR><BR>Dr Whoosis said "But *why* didn't you just shove it through a computer?"<BR><BR>I blinked at him. Then said slowly, gently, "My dear boy--" (I don't usually call PH.D.'s in hardcore sciences "My dear boy"--they impress me. But this was a special case. "My dear boy... this was *1947*."<BR><BR>It took him some moments to get it, then he blushed....</FONT></EM></P></BLOCKQUOTE>
<P>Its a story that comes into my head every time I get a question these days that proves the person asking is not thinking about the fact that the passage of events has an influence on what is possible. Nowhere is this greater that the subject of this posting -- people who wonder why Microsoft does not support the <A href="http://www.unicode.org/reports/tr10/">Unicode Collation Algorithm</A>. People notice that Windows seems to have a similar framework and they assume that both of them use the same "default table" that works as a basis for all collations (in other words they assume that Microsoft is based on the based on the Unicode sort weight tables).</P>
<P>The truth is quite different. Unicode's weights have been a part of the UCA,&nbsp; which was first a DRAFT Unicode Technical Report in March of 1997. It did not lose its DRAFT status until November of 1999 and was not a Unicode Technical Standard until August of 1999.</P>
<P>Windows, on the other hand, has had its architecture and its default table in place since NT 3.1 shipped, over a decade ago. How could it be based on the Unicode sort weight tables, which did not exist at that time even in draft form? The temptation to respond to the person asking with a "My dear boy..." (or "My dear girl...") is at times overwhelming!</P>
<P>As to the extra functionality, I'll just say that in the past 15 years have seen a lot of language support being added to Windows, and the expertise that has been applied to its collation support is truly amazing. Its a daunting functionality to work on at times given how well it has performed over the years. :-)</P>
<P>From a philosophical perspective, collation in Windows has always based primarily on the linguistic data that is at its core -- the technical issues have always been driven by the data, not the other way around. I think this is a unique strength of the implementation that allows it to outperform others across a range of languages that is also (in my opinion) far superior. The tables were certainly built up with an entirely different linguistic and development philosophy, and ignoring my opinions about which is better, the data of either one would&nbsp;really be a poor fit for the other.</P>
<P>It is of note (well, to me at least!) that at the last two <A href="http://www.unicode.org/consortium/utc.html">Unicode Technical Committee</A> meetings that several decisions were made which will cause future versions of the UCA's default table to behave more like Microsoft's. This is&nbsp;<EM>not</EM> because it's Microsoft's way (we give advice about principles for the UCA but really do not innovate for it since we are not using it to come up with innovations) but because one of the authors of the UCA suggested tweaks to the UCA behavior based on expert advice and user feedback. I guess that means we had the right idea, huh? :-)</P>
<hr/><p><a id="271241" href="#271241">#</a> <strong>Capt. Jean-Luc Pikachu</strong> on 28 Nov 2004 1:57 PM:</p><div style="margin-left: 1em">Thanks for the anecdote...</div>
<hr/><p><em>referenced by</em></p><div style="margin-left: 1em"><p>2012/07/16 <a href="http://archives.miloush.net/michkap/archive/2012/07/16/10330046.html">if you see a ZWNBSP in the Release Preview, don't be insensitive and comment it hasn't been eating enough lately!</a></p><p>2011/06/21 <a href="http://archives.miloush.net/michkap/archive/2011/06/21/10177222.html">The downside of managing to go native...</a></p><p>2010/12/16 <a href="http://archives.miloush.net/michkap/archive/2010/12/16/10105779.html">You can't ignore crap and hope it won't cause problems...</a></p><p>2010/11/09 <a href="http://archives.miloush.net/michkap/archive/2010/11/09/10087473.html">I [will have] told you so! Well, perhaps too late (all things considered)...</a></p><p>2010/08/17 <a href="http://archives.miloush.net/michkap/archive/2010/08/17/10050816.html">It would be like spelling it Anerica or something.</a></p><p>2010/05/06 <a href="http://archives.miloush.net/michkap/archive/2010/05/06/10006797.html">Dude! Not so Lao'd!</a></p><p>2009/02/04 <a href="http://archives.miloush.net/michkap/archive/2009/02/04/9394864.html">The road to hell is paved with attempts at being compatible</a></p><p>2008/02/10 <a href="http://archives.miloush.net/michkap/archive/2008/02/10/7579576.html">Microsoft still does not use the UCA; the converse is also true</a></p><p>2007/10/29 <a href="http://archives.miloush.net/michkap/archive/2007/10/29/5756924.html">Microsoft is a Form 'C' shop, Part 1</a></p><p>2005/12/23 <a href="http://archives.miloush.net/michkap/archive/2005/12/23/506887.html">What Unicode version do you support?</a></p><p>2005/11/03 <a href="http://archives.miloush.net/michkap/archive/2005/11/03/484974.html">My own personal thoughts about collation in the Mono project</a></p><p>2005/10/17 <a href="http://archives.miloush.net/michkap/archive/2005/10/17/481600.html">Comparing Unicode file names the right way</a></p><p>2005/07/18 <a href="http://archives.miloush.net/michkap/archive/2005/07/18/439963.html">MSLU isn't perfect</a></p><p>2005/05/24 <a href="http://archives.miloush.net/michkap/archive/2005/05/24/421343.html">Encoding scheme, encoding form, or other</a></p><p>2005/02/12 <a href="http://archives.miloush.net/michkap/archive/2005/02/12/371650.html">Why/how MSLU came to be, and more</a></p><p>2004/12/29 <a href="http://archives.miloush.net/michkap/archive/2004/12/29/344136.html">Comparison confusion: INVARIANT vs. ORDINAL</a></p><p>2004/12/08 <a href="http://archives.miloush.net/michkap/archive/2004/12/08/278170.html">Where is the locale? "Its Invariant." In <i>where</i>?</a></p></div><p><em>go to <a id="newer" href="http://archives.miloush.net/michkap/archive/2004/11/29/271476.html" title="Normalization and Microsoft -- whats the story?">newer</a> or <a id="older" href="http://archives.miloush.net/michkap/archive/2004/11/27/271003.html" title="Suggest a topic! (December 2004)">older</a> post, or back to <a href="http://archives.miloush.net/michkap/archive/index.html">index</a> or <a href="http://archives.miloush.net/michkap/archive/index.html#2004-11">month</a> or <a href="http://archives.miloush.net/michkap/archive/index.html#2004-11-28">day</a></em></p></body>
<!-- Mirrored from archives.miloush.net/michkap/archive/2004/11/28/271121.html by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 25 May 2017 00:42:42 GMT -->
</html>