<html>
<!-- Mirrored from archives.miloush.net/michkap/archive/2004/12/31/344888.html by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 25 May 2017 00:42:42 GMT -->
<head><meta charset="utf-8" /><meta name="viewport" content="width=device-width" /><title>Unlike LCMapString, the sort keys for English characters precede the sort keys for Korean</title></head><body>
<h1>Unlike LCMapString, the sort keys for English characters precede the sort keys for Korean</h1>
<p><em>by Michael S. Kaplan, published on 2004/12/31 12:38 -05:00, original URI: http://blogs.msdn.com/b/michkap/archive/2004/12/31/344888.aspx</em></p>
<hr/> <!-- Archival Source: ProcessPostNew -->
<P>The title for this post actually comes from&nbsp;the <A title=SortKey href="http://msdn.microsoft.com/library/en-us/cpref/html/frlrfsystemglobalizationsortkeyclasstopic.asp" target=_blank>SortKey</A> help topic:</P>
<BLOCKQUOTE dir=ltr>
<P><EM>Each character in a string is given several categories of sort weights, including script, alphabetic, case, and diacritic weights. A sort key serves as the repository of these weights for a particular string. For example, a sort key might contain a string of alphabetic weights, followed by a string of case weights, and so on. <B>SortKey</B> is equivalent to the Windows API method <B><A title=LCMapString href="http://msdn.microsoft.com/library/en-us/intl/nls_5s2v.asp" target=_blank>LCMapString</A></B> with the <B>LCMAP_SORTKEY</B> flag. However, unlike <B>LCMapString</B>, the sort keys for English characters precede the sort keys for Korean characters.</EM></P></BLOCKQUOTE>
<P dir=ltr>Someone asked me what the hell that text refers to!</P>
<P dir=ltr>Well, a decision was made back in the early days of Windows (that incidentally many have had cause to regret) to cause ideographs <STRONG>for Korean</STRONG>&nbsp;to be sorted in front of all of the other letters (including the Latin script letters of English). This code exists on all of the Windows NT-based platforms and on the Windows CE platforms, but when the time came to support sort keys on the .NET Framework&nbsp;a decision was made to explicitly <STRONG>not</STRONG> do this. </P>
<P dir=ltr>There is no real linguistic basis for either behavior, its arbitrary either way.</P>
<P dir=ltr>Though since the .NET Compact Framework uses the WinCE OS tables to do its work, it means that the WinCE results will differ from the .NET Framework everywhere else.</P>
<P dir=ltr>It is worth mentioning that text in the SortKey topic is a little confusing since it does not make clear that this only happens for the Korean LCID. And since the Windows behavior is not completely documented it does not cover the fact that neither Extension A nor Extension B ideographs are supported by it (though at present none of them are given intentional Korean-specific weight, a fact that will change in future versions).</P>
<P dir=ltr>In any case, thats why Korean has the Korean coming first. Though when you consider the fact that this affects over 20,000 ideographs, the image of someone asking if they could cut in line at the supermarket "because they only have 20,000 items" is a little scary. :-)</P>
<P dir=ltr><FONT color=#800080><EM>This post brought to you by </EM>"<FONT face="Times New Roman" size=5>á‡´</FONT>"<EM> (U+11f4, a.k.a. HANGUL JONGSEONG KAPYEOUNPHIEUPH)</EM></FONT></P>
<hr/><p><a id="344947" href="#344947">#</a> <strong>George</strong> on 31 Dec 2004 1:01 PM:</p><div style="margin-left: 1em">Why can't you just remove this re-ordering in a future version? It seems like a weird step best removed.</div>
<hr/><p><em>referenced by</em></p><div style="margin-left: 1em"><p>2010/11/09 <a href="http://archives.miloush.net/michkap/archive/2010/11/09/10087473.html">I [will have] told you so! Well, perhaps too late (all things considered)...</a></p><p>2008/02/19 <a href="http://archives.miloush.net/michkap/archive/2008/02/19/7791306.html">The most important language in the whole wide world is yours, and you hardly even know yours! -- NOT!</a></p><p>2007/10/08 <a href="http://archives.miloush.net/michkap/archive/2007/10/08/5270854.html">A&P of Sort Keys, part 12 (aka Han sorts first!)</a></p></div><p><em>go to <a id="newer" href="http://archives.miloush.net/michkap/archive/2005/01/01/345190.html" title="That is not actually a bug in sort keys....">newer</a> or <a id="older" href="http://archives.miloush.net/michkap/archive/2004/12/31/344739.html" title="French collation: When diacritical becomes diabolical">older</a> post, or back to <a href="http://archives.miloush.net/michkap/archive/index.html">index</a> or <a href="http://archives.miloush.net/michkap/archive/index.html#2004-12">month</a> or <a href="http://archives.miloush.net/michkap/archive/index.html#2004-12-31">day</a></em></p></body>
<!-- Mirrored from archives.miloush.net/michkap/archive/2004/12/31/344888.html by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 25 May 2017 00:42:42 GMT -->
</html>