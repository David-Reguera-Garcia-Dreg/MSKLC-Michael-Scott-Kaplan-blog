<html>
<!-- Mirrored from archives.miloush.net/michkap/archive/2004/12/14/307152.html by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 25 May 2017 00:42:42 GMT -->
<head><meta charset="utf-8" /><meta name="viewport" content="width=device-width" /><title>And what about the Japanese (Unicode) sort?</title></head><body>
<h1>And what about the Japanese (Unicode) sort?</h1>
<p><em>by Michael S. Kaplan, published on 2004/12/14 23:53 -05:00, original URI: http://blogs.msdn.com/b/michkap/archive/2004/12/14/307152.aspx</em></p>
<hr/> <!-- Archival Source: ProcessPostNew -->
<P>Although I got no public comments about <a href="http://archives.miloush.net/michkap/archive/2004/12/14/284838.html">it</A>, seven different people contacted me privately (by email or via the "Contact" link) asking me what was the answer to Andrea's question about the <EM>Japanese (Unicode) sort</EM>. </P>
<P><EM>(I'm not sure why no one asked in the public comments. I must be very intimidating or something)</EM></P>
<P>Its not a very exciting answer, for what it's worth. </P>
<P>Its about the same as the answer about Korean (but the Yen&nbsp;sign U+00a5&nbsp;is used instead of the Won sign, for obvious reasons). We also move the HORIZIONTAL BAR (U+2015) to sort by the KATAKANA-HIRAGANA PROLONGED SOUND MARK (U+30fc), for similarly unremarkable historical reasons. Otherwise the sort is identical to the default sort, a fact that makes it quite fundmentally useless for Japanese data.</P>
<hr/><p><a id="323606" href="#323606">#</a> <strong>Jake</strong> on 17 Dec 2004 8:31 AM:</p><div style="margin-left: 1em">I was not intimidated. I just did not want to try and make you answer the question if there was some political reason that you could not.</div>
<p><a id="327210" href="#327210">#</a> <strong>Norman Diamond</strong> on 19 Dec 2004 9:47 PM:</p><div style="margin-left: 1em">In case anyone looks here without looking at &quot;it&quot;, please do go look at &quot;it&quot;.  I do understand the codepoint of the single-byte yen sign in Japanese (non-Unicode) character sets.  Regarding sorting, the number of meaningful Japanese sort orderings does not magically go down to 1 if you use Unicode encoding instead of more common character sets (ANSI code page 932 or other), and Windows does not have a sort ordering that would match my local phone book.</div>
<p><a id="327225" href="#327225">#</a> <strong>Michael Kaplan</strong> on 19 Dec 2004 10:27 PM:</p><div style="margin-left: 1em">Yes, that is hopefully true, since the so-called Japanese Unicode sort was removed due to its ueslessness. <br><br>The actual Japanese sort in Windows today is hopefully not in the phone book order, or that would be a messed up phone book. I will probably relay a conversation I had with a different person st a conference about THAT sort on another day. :-)</div>
<p><a id="329179" href="#329179">#</a> <strong>Nick Lange</strong> on 21 Dec 2004 12:38 PM:</p><div style="margin-left: 1em">Ok, I'll bite.. does anyone have a url for a good japanese sort algorithm? I can imagine the pain of such an algorithm, having to look up readings first... but maybe someone has done said work already?<br></div>
<p><a id="329374" href="#329374">#</a> <strong>Norman Diamond</strong> on 21 Dec 2004 5:03 PM:</p><div style="margin-left: 1em">12/21/2004 12:38 PM Nick Lange<br><br>&gt; does anyone have a url for a good japanese<br>&gt; sort algorithm?<br><br>I doubt it very much.  After posting that Windows doesn't have a sort ordering that would match my local phone book, I belatedly remembered that it isn't even possible to define a sort ordering that would match a phone book even without me being listed in it.  And I belatedly remembered that I have even posted that fact in Raymond Chen's blog...<br><br>Anyway, there are a few standard sort orderings, but all of them are unsuitable for use in human displays.  They are only suitable for use in internal operations such as storing and retrieving keys in databases or hash tables or symbol tables and such things.<br><br>I once knew someone named Kanbe.  The Kanji of his name were the same as for the city Kobe.  Consider sorting the names Kanbe, Kimura, and Kobe.  The exact same Kanji for Kanbe and Kobe must be listed both before and after Kimura.  The only way to sort them properly is to also have the pronunciations recorded, use the pronunciations as the primary sort key, and use additional secondary keys including the actual names that are going to be displayed or printed.<br><br>The first name of a former colleague is Yukie but someone read her name and called her Sachie (of course he really read and called her by full name, properly starting with her family name).  There are thousands like this.</div>
<p><a id="329670" href="#329670">#</a> <strong>Nick Lange</strong> on 22 Dec 2004 12:25 AM:</p><div style="margin-left: 1em">Agreed, so I guess the best thing to do is just butcher the actual readings and just sort from the first match in a lookup. (joke)<br>Although my ketai has fields for both the reading and the kanji... probably how most systems here work.</div>
<p><a id="329685" href="#329685">#</a> <strong>Michael Kaplan</strong> on 22 Dec 2004 12:46 AM:</p><div style="margin-left: 1em">Note that the solutions currently used for Korean and Chinese are very much based on the model of &quot;take the most common pronunciation.&quot; This solution is routinely rejected for Japanese, a point that I will actually be exploring in a future posting to the blog (cf: <a target="_new" href="http://archives.miloush.net/michkap/archive/2004/11/27/271003.html#329682">http://blogs.msdn.com/michkap/articles/271003.aspx#329682</a> ).<br><br>:-)</div>
<p><a id="330170" href="#330170">#</a> <strong>Norman Diamond</strong> on 22 Dec 2004 1:19 PM:</p><div style="margin-left: 1em">12/22/2004 12:25 AM Nick Lange<br><br>&gt; my ketai has fields for both the reading and<br>&gt; the kanji<br><br>Yes, so do databases and hand-written paper forms for all kinds of purposes etc.  The printed phone book doesn't.  (If you only have a keitai then I don't know if you're supposed to be entitled to a printed phone book.)<br><br>Sorry for picking on phone books so much.  There are other situations too where furigana aren't printed but would have helped some readers if they had been printed, but if those situations require lists to be sorted then they often turn out to be phone books.</div>
<p><a id="330269" href="#330269">#</a> <strong>Nick Lange</strong> on 22 Dec 2004 3:33 PM:</p><div style="margin-left: 1em">nice... After my current contract is up, I'd like to get into more multilingual programming projects...  can't wait.<br></div>
<hr/><p><em>referenced by</em></p><div style="margin-left: 1em"><p>2008/05/07 <a href="http://archives.miloush.net/michkap/archive/2008/05/07/8464448.html">Four exceptions to prove the rule</a></p><p>2006/09/23 <a href="http://archives.miloush.net/michkap/archive/2006/09/23/768178.html">The modern solution to the problem of Traditional Spanish in Vista</a></p><p>2006/08/12 <a href="http://archives.miloush.net/michkap/archive/2006/08/12/696161.html">You think that's bad? Just wait, it gets worse...</a></p><p>2006/01/03 <a href="http://archives.miloush.net/michkap/archive/2006/01/03/508579.html">'Acceptable' Japanese sort order?</a></p><p>2005/12/28 <a href="http://archives.miloush.net/michkap/archive/2005/12/28/507759.html">Getting rid of your extra yen</a></p><p>2005/11/01 <a href="http://archives.miloush.net/michkap/archive/2005/11/01/487665.html">I WON to talk about the YEN</a></p><p>2005/10/12 <a href="http://archives.miloush.net/michkap/archive/2005/10/12/479561.html">I'd rather call it the path separator</a></p></div><p><em>go to <a id="newer" href="http://archives.miloush.net/michkap/archive/2004/12/15/309881.html" title="Saying all those nouns over and over again...">newer</a> or <a id="older" href="http://archives.miloush.net/michkap/archive/2004/12/14/284838.html" title="Whats up with the Korean (Unicode) sort?">older</a> post, or back to <a href="http://archives.miloush.net/michkap/archive/index.html">index</a> or <a href="http://archives.miloush.net/michkap/archive/index.html#2004-12">month</a> or <a href="http://archives.miloush.net/michkap/archive/index.html#2004-12-14">day</a></em></p></body>
<!-- Mirrored from archives.miloush.net/michkap/archive/2004/12/14/307152.html by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 25 May 2017 00:42:42 GMT -->
</html>