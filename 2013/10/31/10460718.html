<html>
<!-- Mirrored from archives.miloush.net/michkap/archive/2013/10/31/10460718.html by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 25 May 2017 00:42:02 GMT -->
<head><meta charset="utf-8" /><meta name="viewport" content="width=device-width" /><title>At long last, explaining the yen/won/backslash bug plausibly</title></head><body>
<h1>At long last, explaining the yen/won/backslash bug plausibly</h1>
<p><em>by Michael S. Kaplan, published on 2013/10/31 07:01 -04:00, original URI: http://blogs.msdn.com/b/michkap/archive/2013/10/31/10460718.aspx</em></p>
<hr/> <!-- Archival Source: ProcessPostNew -->
<p>As you all know, I was at IUC 37 last week.

<p>While I was there, Google software engineer Jungshik Shin asked me the question that I have been asked many times before.

<p>I've never liked the question, not because I dislike the question itself, but because no one likes my answer.

<p>He gave me his card, but I can't find it. Hopefully he'll see this blog since it's really for him that I'm writing this blog. Can someone please tell him? Thanks...

<p>It <a href="../../../2005/09/17/469941.html">has</a> <a href="../../../2005/11/01/487665.html">come</a> <a href="../../../2005/12/28/507759.html">up</a> <a href="../../../2005/10/12/479561.html">so</a> <a href="../../../2007/03/28/1972239.html">many</a> <a href="../../../2005/09/17/469941e847.html?PageIndex=2">times</a> <a href="../../../2004/12/14/284838.html">that</a> people will start thinking I'm crazy to keep talking about it, you know?

<p>Look, I'm a keyboard guy. I do keyboards.

<p>If you want to see a reverse solidus aka backslash when looking at U+005c on a Korean or Japanese system, then you just aren't going to get what you want. 

<p>It's what enough people in Japan and Korea want to keep it this way forever, just about.

<p>One can even claim it is not conformant to the Unicode Standard.

<p>People have been making the claim for years. I even found occurrences in the archives -- even from Jungshik Shin himself!

<p>But I just don't see this one changing.

<p>I will now explain the real, technical reason that the mappings cannot ever change.

<p>At long last, I'm gonna come clean.

<p>I should have done it years ago, but you know what they sat about better late than never....

<p>You can blame it on two specific stability policies and one unavoidable but unfortunate decision (of Microsoft, not Unicode).

<p>The policies are:
<ol>
<li>You cannot change a code page once it is defined.
<li>You cannot change a "best fit" mapping once it is defined.
</ol>
<p>We have broken both rules in the past, and the consequences have always been dire.

<p>The one unavoidable but unfortunate decision was which was made the character and which was made the "best fit" mapping.

<p>For the proofs, see:

<p> <a href="http://www.unicode.org/Public/MAPPINGS/VENDORS/MICSFT/WindowsBestFit/bestfit932.txt">WindowsBestFit/bestfit932.txt</a> for Japanese:

<table border=1>
<tr><td>0x5c</td><td>0x005c</td><td>;  \ Yen Sign</td></tr>
<tr><td>0x005c</td><td>0x005c</td><td>;   \ Yen Sign</td></tr>
<tr><td>0x00a5</td><td>0x005c</td><td>;   \ Yen Sign</td></tr>
</table>

<p> <a href="http://www.unicode.org/Public/MAPPINGS/VENDORS/MICSFT/WindowsBestFit/bestfit949.txt">WindowsBestFit/bestfit949.txt</a> for Korean:

<table border=1>
<tr><td>0x5c</td><td>0x005c</td><td>; Won Sign</td></tr>
<tr><td>0x005c</td><td>0x005c</td><td>;  Won Sign</td></tr>
<tr><td>0x20a9</td><td>0x005c</td><td>;  Won Sign</td></tr>
</table>

<p>For the three lines:
<ol>
<li>The first line is the JIS or KSC to Unicode conversion;
<li>The second line is the Unicode to JIS or KSC conversion;
<li>The third line is the "best fit" mapping - terrible but changing it breaks all paths in non-Unicode apps. Windows wouldn't ever finish booting in Japanese or Korean!

</ol>

<p>Now obviously we would never want to be unbootable. But those compat guarantees are pretty important, too...

<p>Thus we are left here, unable to do better than this but wishing that we could... 

<p>So now you know, Jungshik Shin. Does that make it better, or worse? üòè;-)
<hr/><p><strong>Michael S. Kaplan</strong> on 31 Oct 2013 7:34 AM:</p><div style="margin-left: 1em"><p>I should have done this years ago, but we weren&#39;t publishing the best fit mappings until more recently...</p>
</div>
<p><strong>kinokijuf</strong> on 31 Oct 2013 9:13 AM:</p><div style="margin-left: 1em"><p>This is a font issue. I have seen a Japanese font from Adobe IIRC that had a backslash that looked like a backslash, not like ¬•.</p>
</div>
<p><strong>Azarien</strong> on 1 Nov 2013 4:49 AM:</p><div style="margin-left: 1em"><p>@kinokijuf: But you don&#39;t want to end up in a 100 Backslash Shop...</p>
</div>
<p><strong>kinokijuf</strong> on 1 Nov 2013 1:51 PM:</p><div style="margin-left: 1em"><p>@Azarien: The backslash was there all the time, just looking like a yen.</p>
</div>
<hr/><p><em>go to <a id="newer" href="../../11/01/10460588.html" title="Every Character Has a Story #41: U+1305B (Every Character Under the Sun)">newer</a> or <a id="older" href="../30/10461431.html" title="It was email from Behnam Esfahbod...">older</a> post, or back to <a href="../../../index-2.html">index</a> or <a href="../../../index-2.html#2013-10">month</a> or <a href="../../../index-2.html#2013-10-31">day</a></em></p></body>
<!-- Mirrored from archives.miloush.net/michkap/archive/2013/10/31/10460718.html by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 25 May 2017 00:42:02 GMT -->
</html>