<html>
<!-- Mirrored from archives.miloush.net/michkap/archive/2011/07/04/10182859.html by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 25 May 2017 00:42:34 GMT -->
<head><meta charset="utf-8" /><meta name="viewport" content="width=device-width" /><title>It could be worse. We could be telling Japanese users 'Go stick your head in a pig'!</title></head><body>
<h1>It could be worse. We could be telling Japanese users 'Go stick your head in a pig'!</h1>
<p><em>by Michael S. Kaplan, published on 2011/07/04 07:01 -04:00, original URI: http://blogs.msdn.com/b/michkap/archive/2011/07/04/10182859.aspx</em></p>
<hr/> <!-- Archival Source: ProcessPostNew -->
<p>The words, if not eerily prophetic, were at least vaguely suggestive of something to come:</p>
<p style="padding-left: 60px;"><span style="font-family: times new roman,times; font-size: medium;"><em>"Share and Enjoy!" is, of course, the company motto of the hugely successful Sirius Cybernetics Corporation Complaints division, which now covers the major land masses of three medium sized planets and is the only part of the Corporation to show a consistent profit in recent years.</em></span></p>
<p style="padding-left: 60px;"><span style="font-family: times new roman,times; font-size: medium;"><em>The motto stands&mdash;or stood&mdash;in three mile high illuminated letters near the Complaints Department spaceport on Eadrax: Share and Enjoy. Unfortunately its weight was such that shortly after it was erected, the ground beneath the letters caved in and they dropped for nearly half their length through the underground offices of many talented young complaints executives&mdash;now deceased. The protruding upper halves of the letters now appear, in the local language, to read "Go stick your head in a pig", and are no longer illuminated, except at times of special celebration.</em></span></p>
<p>The issue in&nbsp;question came up several times via support channels for&nbsp;Japanese Vista, with screenshots like this:</p>
<p><img src="http://msdnshared.blob.core.windows.net/media/MSDNBlogsFS/prod.evol.blogs.msdn.com/CommunityServer.Blogs.Components.WeblogFiles/00/00/00/33/81/6371.vista01.jpg" /></p>
<p>Now admittedly if you don't know Japanese you may not see a problem with this at first glance.</p>
<p>Or even second glance.</p>
<p>But then you may start to see some problems in the letters on the bottom right side.</p>
<p>The next screenshot puts it all in a more helpful perspective:</p>
<p><img border="1" src="http://msdnshared.blob.core.windows.net/media/MSDNBlogsFS/prod.evol.blogs.msdn.com/CommunityServer.Blogs.Components.WeblogFiles/00/00/00/33/81/2158.vista02.jpg" /></p>
<p>&nbsp;Yes, this clipping truncation effect is a lot more obvious now, even if you didn't know Japanese (if you did then you saw the problems right away).</p>
<p>In the end, this all appeared to have to do with the font metrics of <strong>Meiryo</strong> (confirmed by some people who had luck changing some of their font settings to <strong>MS UI Gothic</strong> instead -- I guess they were unmoved by the issues I mentioned in <strong><a title="Making a font fetish a bit more mainstream" href="http://archives.miloush.net/michkap/archive/2010/07/12/10032066.html">Making a font fetish a bit more mainstream</a></strong>, though given the overall effect I can hardly blame them!).</p>
<p>It happened with some rendering technologies/platforms but no others (DUI was hit hardest, but GDI+ and others were not always immune).</p>
<p>People I work with weren't all that happy with some of those technologies anyway, so this was just one more issue to add to the list.</p>
<p>&nbsp;One of the very real problems here is&nbsp;rendering technologies&nbsp;trying to use the metrics of one font (usually <strong>Segoe UI</strong>) to scale dialogs while using another font (such as <strong>Meiryo</strong>) to display the text.</p>
<p><em>Different bugs come out of <strong>that</strong> issue can be seen with some of the LIPs of South and Southeast Asia, for what it's worth.</em></p>
<p>The issue with Japanese was vastly improved with Windows 7, which had its new font (<strong>Meiryo UI</strong>) based on much more <strong>Segoe UI</strong>-like metrics.</p>
<p>So that at least for Japanese we don't spend as much time&nbsp;exhorting customers "Go stick your head in a pig."</p>
<p>(Or alternately 豚の頭を貼り行く。)</p>
<hr/><p><strong>Ice-Wolf</strong> on 4 Jul 2011 7:42 AM:</p><div style="margin-left: 1em"><p>&gt;&gt; 豚の頭を貼り行く. </p>
<p>Alhough it&#39;s missing explicit context as to where to place it, or by whom (since it isn&#39;t conjugated as an imperative): &quot;(Someone) go to place a pig&#39;s head (someplace)&quot;</p>
<p>But it&#39;s japanese, and anything that can be gleamed from context is always omitted.. so, it just sounds strange, yet grammatically proper.</p>
</div>
<p><strong>Quppa</strong> on 4 Jul 2011 7:53 AM:</p><div style="margin-left: 1em"><p>What&#39;s DUI?</p>
<p>How about &#39;豚の中に頭を入れよ!&#39;? :) Your translation has the pig&#39;s head as the object.</p>
</div>
<p><strong>Quppa</strong> on 4 Jul 2011 7:54 AM:</p><div style="margin-left: 1em"><p>Oops! I meant &#39;豚の中に頭を入れろ！&#39;.</p>
</div>
<p><strong>Michael S. Kaplan</strong> on 4 Jul 2011 11:13 AM:</p><div style="margin-left: 1em"><p>Serves me right for using Google Translate to get the string! You&#39;d think I would have learned from <a href="http://archives.miloush.net/michkap/archive/2011/06/23/10177947.html">prior experience</a>.</p></div>
<p><strong>Michael S. Kaplan</strong> on 4 Jul 2011 12:06 PM:</p><div style="margin-left: 1em"><p>To answer the other question, DUI stands for &quot;Direct User Interface&quot;. It isn&#39;t widely documented but you can find it tucked here and there (e.g. KB 945010). It is used by many random components in Windows, starting with the XP non-domain login.</p>
</div>
<p><strong>Yuhong Bao</strong> on 4 Jul 2011 2:28 PM:</p><div style="margin-left: 1em"><p>Is DirectUI just another name for DirectUser?</p>
</div>
<p><strong>Yuhong Bao</strong> on 4 Jul 2011 2:29 PM:</p><div style="margin-left: 1em"><p>&quot;The issue with Japanese was vastly improved with Windows 7, which had its new font (Meiryo UI) based on much more Segoe UI-like metrics.&quot;</p>
<p>And it is also available as an update to Vista:</p>
<p><a rel="nofollow" target="_new" href="http://support.microsoft.com/kb/975929">support.microsoft.com/.../975929</a></p>
</div>
<p><strong>Michael S. Kaplan</strong> on 4 Jul 2011 3:55 PM:</p><div style="margin-left: 1em"><p>DUI is not DirectUser.</p>
</div>
<p><strong>Michael S. Kaplan</strong> on 4 Jul 2011 3:59 PM:</p><div style="margin-left: 1em"><p>Downloading Meiryo UI for Vista doesn&#39;t change all of the resources to use it -- for the full &quot;fix&quot; you need Windows 7....</p>
</div>
<p><strong>Quppa</strong> on 5 Jul 2011 4:11 AM:</p><div style="margin-left: 1em"><p>Thanks for answering that :)</p>
<p>Something called &#39;Direct UI&#39; is at the centre of some rampant speculation about Windows 8 development, and it&#39;s always interesting to hear about Microsoft&#39;s internal frameworks.</p>
<p><a rel="nofollow" target="_new" href="http://arstechnica.com/microsoft/news/2011/06/windows-8-for-software-developers-the-longhorn-dream-reborn.ars/2">arstechnica.com/.../2</a></p>
</div>
<p><strong>Yuhong Bao</strong> on 5 Jul 2011 4:14 PM:</p><div style="margin-left: 1em"><p>Yea, I often see references to them when debugging. For example, DUSER.DLL intercepts WaitMessage and GetMessage calls using a hook in win32k that uses user-mode callbacks, which means I often see them on the call stack.</p>
</div>
<p><strong>Michael S. Kaplan</strong> on 5 Jul 2011 7:25 PM:</p><div style="margin-left: 1em"><p>I think there is some conflation of multiple, unrelated issues/files here....</p>
</div>
<hr/><p><em>go to <a id="newer" href="http://archives.miloush.net/michkap/archive/2011/07/05/10183038.html" title="Easy question begat convoluted answer....">newer</a> or <a id="older" href="http://archives.miloush.net/michkap/archive/2011/07/01/10182228.html" title="Once more into the UCS-2 breach, SQL Server marches">older</a> post, or back to <a href="http://archives.miloush.net/michkap/archive/index.html">index</a> or <a href="http://archives.miloush.net/michkap/archive/index.html#2011-07">month</a> or <a href="http://archives.miloush.net/michkap/archive/index.html#2011-07-04">day</a></em></p></body>
<!-- Mirrored from archives.miloush.net/michkap/archive/2011/07/04/10182859.html by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 25 May 2017 00:42:34 GMT -->
</html>