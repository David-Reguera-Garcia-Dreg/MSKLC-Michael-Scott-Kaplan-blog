<html>
<!-- Mirrored from archives.miloush.net/michkap/archive/2011/08/12/10195062.html by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 25 May 2017 00:42:34 GMT -->
<head><meta charset="utf-8" /><meta name="viewport" content="width=device-width" /><title>There's no "I" in IDN part 8: Punycode don't do the PUA</title></head><body>
<h1>There's no "I" in IDN part 8: Punycode don't do the PUA</h1>
<p><em>by Michael S. Kaplan, published on 2011/08/12 07:01 -04:00, original URI: http://blogs.msdn.com/b/michkap/archive/2011/08/12/10195062.aspx</em></p>
<hr/> <!-- Archival Source: ProcessPostNew -->
<p>Previous parts in this series:</p>
<ul>
<li><strong><a title="There's no &quot;I&quot; in IDN, part 1: If you're not Unicode, you're just wrong!" href="http://archives.miloush.net/michkap/archive/2011/02/14/10128621.html">part 1: If you're not Unicode, you're just wrong!</a></strong></li>
<li><strong><a title="There's no &quot;I&quot; in IDN, part 2: Try not to use the wrong functions!" href="http://archives.miloush.net/michkap/archive/2011/04/02/10149149.html">part 2: Try not to use the wrong functions!</a></strong></li>
<li><strong><a title="There's no &quot;I&quot; in IDN, part 3: There's no &quot;I&quot; in DIY, either!" href="http://archives.miloush.net/michkap/archive/2011/05/25/10168228.html">part 3: There's no "I" in DIY, either!</a></strong></li>
<li><strong><a title="There's no &quot;I&quot; in IDN, part 4: the 'path' to Hell is paved with IDN bugs" href="http://archives.miloush.net/michkap/archive/2011/06/17/10173790.html">part 4: the 'path' to Hell is paved with IDN bugs</a></strong></li>
<li><strong><a title="part 5: Stephen Colbert's job is not in any jeopardy" href="http://archives.miloush.net/michkap/archive/2011/06/29/10181212.html">part 5: Stephen Colbert's job is not in any jeopardy</a></strong></li>
<li><strong><a title="part 6: It isn't like there's an &quot;I&quot; in EAI, either!" href="http://archives.miloush.net/michkap/archive/2011/07/14/10186414.html">part 6: It isn't like there's an "I" in EAI, either!</a></strong></li>
<li><strong><a title="part 7: IDN comes to AdWords" href="http://archives.miloush.net/michkap/archive/2011/07/28/10190701.html">part 7: IDN comes to AdWords</a>&nbsp;</strong></li>
</ul>
<p>The other day an interesting issue came up while&nbsp;a team worked to provide&nbsp;IDN support:</p>
<p style="padding-left: 60px;"><span style="font-size: medium;">Picking an Uri item fails when the input data is something like "<a href="http://www.xn--baod0a5ad1cbo8bsgp3cmj5olc9bi14fha6cgim5gl0es.com/">http://www.覞嬁ﺞ쫽礗萦笧䶉럼.com</a>".</span></p>
<p style="padding-left: 60px;"><span style="font-size: medium;">Note: the domain name portion is a randomly generated string and it doesn't have to be exactly above. It is repro with another randomly generated string also. </span></p>
<p style="padding-left: 60px;"><span style="font-size: medium;">Also note that if the above string is shortened to "<a href="http://www.xn--ba4au0ab0bkg5bh9mob84b8afm6d9b.com/">http://www.覞嬁ﺞ쫽礗萦.com</a>", the action works.</span></p>
<p>In a way, the answer is in the question!</p>
<p>On the road to Punycode, there are two different processes going on:</p>
<ul>
<li>Canonically equivalent and otherwise "confusable"&nbsp;characters are all folded down into a subset of "valid" characters, and</li>
<li>Characters deemed illegal/invalid in IDN cause the process to fail.</li>
</ul>
<p>And characters in the PUA (PRIVATE USE AREA) like , aka U+e216, have no public, agreed upon context.</p>
<p>Thus, they have no place in Punycode. Or in IDN.</p>
<p><em>This is different but somewhat akin to the behavior of <a href="http://msdn.microsoft.com/library/en-us/intl/nls_19ev.asp">IsNLSDefinedString</a>&nbsp;that I described in&nbsp;<strong><a title="Keeping out the undesirables?" href="http://archives.miloush.net/michkap/archive/2006/05/31/612544.html">Keeping out the undesirables?</a></strong>&nbsp;a few years back...</em></p>
<hr/><div style="margin-left: 1em"><em>no comments</em></div><hr/><p><em>referenced by</em></p><div style="margin-left: 1em"><p>2013/10/17 <a href="http://archives.miloush.net/michkap/archive/2013/10/17/10453790.html">There's no "I" in IDN, part 19: There's no "I" in IPv6, either!</a></p><p>2013/10/08 <a href="http://archives.miloush.net/michkap/archive/2013/10/08/10454553.html">There's no "I" in IDN, part 18: There isn't even an "I" in John C. Klensin's name!</a></p><p>2013/09/13 <a href="http://archives.miloush.net/michkap/archive/2013/09/13/10448110.html">There's no "I" in IDN, part 17: EAI made it to China, and everybody knows it!</a></p><p>2013/04/19 <a href="http://archives.miloush.net/michkap/archive/2013/04/19/10412471.html">There's no "I" in IDN, part 16: It's a good thing they decided to call it EAI!</a></p><p>2012/10/12 <a href="http://archives.miloush.net/michkap/archive/2012/10/12/10359120.html">There's no "I" in IDN, part 15: Still no 'I' in EAI.... but we could use an US sometime soon!</a></p><p>2012/08/08 <a href="http://archives.miloush.net/michkap/archive/2012/08/08/10337799.html">There's no "I" in IDN, part 14: It turns out there's no "I" in IE, either</a></p><p>2012/05/18 <a href="http://archives.miloush.net/michkap/archive/2012/05/18/10305223.html">There's no "I" in IDN, part 13: Desktop and Managed and Metro; oh my!</a></p><p>2012/02/27 <a href="http://archives.miloush.net/michkap/archive/2012/02/27/10273315.html">There's no "I" in IDN, part 12: Emoji + IDN == U+1F4A9 (PILE OF POO)</a></p><p>2011/10/25 <a href="http://archives.miloush.net/michkap/archive/2011/10/25/10229790.html">There's no "I" in IDN, part 11: There's no place like ::1, not even 127.0.0.1!</a></p><p>2011/09/21 <a href="http://archives.miloush.net/michkap/archive/2011/09/21/10214081.html">There's no "I" in IDN, part 10: Who needs IDN support? How much? When? (Part 2)</a></p><p>2011/09/16 <a href="http://archives.miloush.net/michkap/archive/2011/09/16/10212216.html">There's no "I" in IDN, part 9: Who needs IDN support? How much? When? (Part 1)</a></p></div><p><em>go to <a id="newer" href="http://archives.miloush.net/michkap/archive/2011/08/15/10195601.html" title="If you change the behavior of typing sequences you should never type, is it a bug?">newer</a> or <a id="older" href="http://archives.miloush.net/michkap/archive/2011/08/11/10194739.html" title="&#39;These aren&#39;t the Cokes you&#39;re looking for....&#39;">older</a> post, or back to <a href="http://archives.miloush.net/michkap/archive/index.html">index</a> or <a href="http://archives.miloush.net/michkap/archive/index.html#2011-08">month</a> or <a href="http://archives.miloush.net/michkap/archive/index.html#2011-08-12">day</a></em></p></body>
<!-- Mirrored from archives.miloush.net/michkap/archive/2011/08/12/10195062.html by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 25 May 2017 00:42:34 GMT -->
</html>